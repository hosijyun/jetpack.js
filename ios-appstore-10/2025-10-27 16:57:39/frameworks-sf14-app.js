/*
** Copyright Â© 2025 Apple Inc.
** All rights reserved.
*/

function _itsdlogHasClientLogger(e){return window.its&&its.client&&its.client[e]&&typeof its.client[e]=="function"}function _itsdlogHasConsoleLogger(e){return window.console&&console[e]}function _itsdlogFunnel(e,t,n){t||(t="log");
if(_itsdlogHasClientLogger(t))return its.client[t](e,n);
if(_itsdlogHasConsoleLogger(t)&&!n)return console[t](e)}function itsdlog(e){return _itsdlogFunnel(e,"log")}function itsdinfo(e){return _itsdlogFunnel(e,"info")}function itsddebug(e){return _itsdlogFunnel(e,"debug")}function itsdslog(e,t){return _itsdlogFunnel(e,t,!0)}function itsdalert(e){return alert(e)}function bind(e,t){typeof t=="string"&&(t=e[t]);
var n=Array.prototype.slice,r=n.call(arguments,2);
return r.length>0?t.bind.apply(t,[e].concat(r)):t.bind(e)}function bindAsEventListener(e,t){typeof t=="string"&&(t=e[t]);
var n=Array.prototype.slice,r=n.call(arguments,2);
return function(i){return t.apply(e,[i].concat(r))}}function defer(e,t,n){return n||(n=0),setTimeout(bind(e,t),n)}function defined(e){return typeof window[e]!="undefined"}function getGlobalConst(e){return defined(e)?window[e]:null}function definedValue(e,t){return typeof e!="undefined"&&e!=null?e:t}function classNameForObject(e){if(e===null)return"null";
var t=typeof e;
if(t=="undefined")return"undefined";
if(t=="string"||e instanceof String)return"String";
if(t=="number"||e instanceof Number)return"Number";
if(e.constructor===Array)return"Array";
if(t=="object"||t=="function"){if(e.klassName)return e.klassName;
var n=e.toString();
n=="[object Object]"&&(n=e.constructor.toString());
if(n.indexOf("function ")===0)return n.replace("function ","").split("(")[0].toString();
if(n.indexOf("[object ")===0)return n.replace("[object ","").replace("]","");
if(n.indexOf("[object]")===0)return"object"}return"unknown"}function newElement(e,t,n,r){var e=document.createElement(e);
if(t)if(typeof t=="string")if(r)e.innerHTML=t;
else{var i=document.createTextNode(t);
e.appendChild(i)}else e.appendChild(t);
return n&&(e.className=n),e}typeof its=="undefined"&&(its={}),its.sf||(its.sf={}),its.sf.DelayedCallQueue={},its.sf.DelayedCallQueue._queue={},its.sf.DelayedCallQueue._handlerObjectsCache={},its.sf.DelayedCallQueue.call=function(handlerObjectName,aFunction){var handlerObject=its.sf.DelayedCallQueue._handlerObjectsCache[handlerObject];
if(!handlerObject)try{handlerObject=eval(handlerObjectName),handlerObject&&typeof handlerObject!="undefined"&&(its.sf.DelayedCallQueue._handlerObjectsCache=handlerObject)}catch(anException){}var handlerObjectFunctionArray=its.sf.DelayedCallQueue._queue[handlerObjectName];
!handlerObject||typeof handlerObject=="undefined"?(handlerObjectFunctionArray||(handlerObjectFunctionArray=[],its.sf.DelayedCallQueue._queue[handlerObjectName]=handlerObjectFunctionArray),handlerObjectFunctionArray.push(aFunction)):(its.sf.DelayedCallQueue.objectReady(handlerObjectName),aFunction())},its.sf.DelayedCallQueue.objectReady=function(e){var t=its.sf.DelayedCallQueue._queue[e];
if(t){for(var n=0;
n<t.length;
n++)t[n]();
its.sf.DelayedCallQueue._queue[e]=null,delete its.sf.DelayedCallQueue._queue[e]}},ITSStopwatch=function ITSStopwatch(e){this.reset(),e||(e="default"),this._name=e,this._hasLoggedToServer=!1,ITSStopwatch.stopwatches||(ITSStopwatch.stopwatches={}),ITSStopwatch.stopwatches[e]=this},ITSStopwatch.named=function(t){var n=null;
return t||(t="default"),ITSStopwatch.stopwatches&&(n=ITSStopwatch.stopwatches[t]),n||(n=new ITSStopwatch(t)),n},ITSStopwatch.currentTime=function(){return(new Date).getTime()},ITSStopwatch.prototype={start:function(t){return this._stopTime!=-1?this._startTime+=ITSStopwatch.currentTime()-this._stopTime:this._startTime=t?t:ITSStopwatch.currentTime(),this._startTime},stop:function(){this._stopTime=ITSStopwatch.currentTime();
var t=this.elapsedTime(),n=this.splitTimes(),r=null;
for(var i in n)r=n[i],r._stopTime==-1&&(r._stopTime=this._stopTime);
return t},reset:function(){this._startTime=-1,this._stopTime=-1,this._elapsedTimes={}},elapsedTime:function(t){t||(t=this._stopTime!=-1?this._stopTime:ITSStopwatch.currentTime());
var n=t-this._startTime;
return n<0&&(this._negativeElapsedTime=!0,this._negativeElapsedTimeStartTime=this._startTime,this._negativeElapsedTimeStopTime=t,this.logToConsole("error","Negative elapsedTime calculated: "+n+" (endTime was: "+t+" startTime was: "+this._startTime)),n},name:function(){return this._name},startSplitTimeNamed:function(t){t||(t="default");
var n=this.name()+"_"+t,r=ITSStopwatch.named(n);
return r.reset(),r.start()},stopSplitTimeNamed:function(t,n){t||(t="default");
var r=this.name()+"_"+t,i=ITSStopwatch.named(r),s=i.stop();
return n&&this.logPrettyInfoToConsole(t,s),s},splitTimes:function(){var t={},n=null;
for(var r in ITSStopwatch.stopwatches)r.indexOf(this.name()+"_")===0&&(n=r.substr((this.name()+"_").length),t[n]=ITSStopwatch.stopwatches[r]);
return t},splitTimeNamed:function(t){var n=this.name()+"_"+t;
return ITSStopwatch.named(n)},markElapsedTimeNamed:function(t,n){t||(t="default");
var r=this.elapsedTime(ITSStopwatch.currentTime());
return this._elapsedTimes[t]=r,n&&this.logPrettyInfoToConsole(t,r),r},markedElapsedTimes:function(){return this._elapsedTimes},markedElapsedTimeNamed:function(t){return this._elapsedTimes[t]},logToConsole:function(t,n){window.ITSLogger&&ITSLogger.isLoaded?ITSLogger.named(this.name())[t](n):console&&console.log&&localStorage.getItem("ITSStopWatch.debug")&&console.log(this.name()+": "+n)},logPrettyInfoToConsole:function(t,n){var r=t+"["+n+"]";
this.logToConsole("info",r)},logToServer:function(t){this.stop();
var n=t?t:{};
n.elapsedTimeSinceTimerCreation=this.elapsedTime(),n.negativeElapsedTime=this._negativeElapsedTime,n.negativeElapsedTimeStartTime=this._negativeElapsedTimeStartTime,n.negativeElapsedTimeStopTime=this._negativeElapsedTimeStopTime;
var r=this.splitTimes();
for(var i in r)n[i]=r[i].elapsedTime();
var s=this.markedElapsedTimes();
for(var o in s)n[o]=s[o];
window.ITSLogger&&ITSLogger.isLoaded&&(ITSLogger.named(this.name()).stats(null,n,!0),this._hasLoggedToServer=!0)},hasLoggedToServer:function(){return this._hasLoggedToServer}},typeof window=="undefined"&&(window=this),typeof location=="undefined"&&(location={},location.search=""),window.its||(window.its={}),its.sf||(its.sf={}),its.currentTime=function(){return(new Date).getTime()},its.isDefined=function(t){return typeof t!="undefined"},its.isDefinedNonNull=function(t){return its.isDefined(t)&&t!=null},its.isDefinedNonNullNonEmpty=function(t){return its.isDefined(t)&&t!=null&&t!=""},its.isFunction=function(t){return typeof t=="function"},its.isNumber=function(t){return typeof t=="number"},its.isString=function(t){return typeof t=="string"||t instanceof String},its.isElement=function(t){return t&&t.nodeType==1},its.isArray=function(t){return t&&t.constructor===Array},its.isObject=function(t){return t&&t.constructor===Object},its.createObjectPath=function(e,t){return its.objectAtPath(e,t,!0)},its.objectAtPath=function(e,t,n){var r=definedValue(t,window);
if(e){var i=e.split(".");
for(var s=0;
r&&s<i.length;
s++){var o=i[s];
!r[o]&&n&&(r[o]={}),r[o]?r=r[o]:r=null}}return r},its.toArray=function(t){var n;
if(its.isString(t))t=its.string.trim(t,"(){}[]"),n=t.split(",");
else{var n=[];
if(t&&its.isDefinedNonNull(t.length))for(var r=0;
r<t.length;
r++)n[r]=t[r]}return n},its.arrayToMap=function(e){var t={};
e=its.toArray(e);
for(var n=0;
n<e.length;
n++)t[e[n]]=!0;
return t},its.toBoolean=function(t){return t?t=="0"||t=="false"?!1:!0:!1},its.isEmpty=function(t){var n=!0;
if(its.isDefinedNonNull(t))if(its.isString(t)&&t!="")n=!1;
else if(its.isArray(t)&&t.length>0)n=!1;
else for(var r in t)if(t.hasOwnProperty(r)){n=!1;
break}return n},its.contains=function(t,n){var r=!1;
return its.isDefinedNonNull(t)&&its.isDefinedNonNull(n)&&(its.isString(t)&&its.isString(n)&&t.indexOf(n)!=-1||its.isArray(t)&&t.indexOf(n)!=-1||its.isDefinedNonNull(t[n]))&&(r=!0),r},its.webkitVersion=function(){var t=navigator.userAgent,n=/AppleWebKit\/([\d.]+)/,r=n.exec(t),i;
if(r)i=r[1];
else{var s=/^iTunes\/10\.4 \(Windows;.+AppleWebKit\/$/;
s.exec(t)?i="533.21.1":(window.console&&console.warn("Unable to determine WebKit version from user agent: "+t),i="0")}return i},its.webkitVersionCompare=function(t,n){var r=0,i=0,s=t.split("."),o=n.split(".");
while((s[i]||o[i])&&r==0){var u=s[i]?its.string.toInt(s[i]):0,a=o[i]?its.string.toInt(o[i]):0;
u<a?r=-1:u>a&&(r=1),i++}return r},its.poseAs=function(e,t,n){var r=e[t];
e[t]=function(){var e=[r,arguments];
return n.apply(this,e)}},its.emptyFunction=function(){},its.swallowEventFunction=function(t){t.preventDefault(),t.stopPropagation()},window.its.element||(window.its.element={}),its.element.createDocumentFragmentFromString=function(t){var n=document.createDocumentFragment(),r;
if(!its.sf.Platform.isITML()){var i=document.createElement("div");
i.innerHTML=t,r=i.children;
var s=r.length;
for(var o=0;
o<s;
o++)n.appendChild(r[0])}else if(its.string.compareNumerically(its.sf.Client.version(),"8.0")>=0)n.innerXML=t;
else{t="<placeholder>"+t+"</placeholder>",i=(new DOMParser).parseFromString(t,"text/xml"),r=i.firstChild.children;
for(var o=0;
o<r.length;
o++){var u=r.item(o);
document.adoptNode(u),n.appendChild(u)}}return its&&its.Template&&its.sf.Platform.isITML()&&its.Template.queryForITSElements(n),n},its.element.createElementFromString=function(t){var n=its.element.createDocumentFragmentFromString(t),r=n.childNodes;
return r.length>0?(r.length>1&&window.console&&console.warn("its.element.createElementFromString: multiple elements were created, but only the first will be returned"),r.item(0)):null},its.element.setAttributes=function(t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&t.setAttribute(r,n[r])},its.element.getScrollTop=function(e){return e==window?window.scrollY:e.scrollTop},its.element.getScrollLeft=function(e){return e==window?window.scrollX:e.scrollLeft},its.element.getClientHeight=function(e){return e==window?window.innerHeight:e.clientHeight},its.element.getClientWidth=function(e){return e==window?window.innerWidth:e.clientWidth},its.element.getScrollHeight=function(e){return e==window?window.pageYOffset:e.scrollHeight},its.element.getScrollWidth=function(e){return e==window?window.pageXOffset:e.scrollWidth},its.element.getOffsetHeight=function(e){return e==window?document.body.offsetHeight:e.offsetHeight},its.element.getOffsetWidth=function(e){return e==window?document.body.offsetWidth:e.offsetWidth},window.its.geometry||(window.its.geometry={}),its.geometry.doesRectIntersectRect=function(t,n){var r=!0;
return t.right<n.left?r=!1:t.left>n.right?r=!1:t.bottom<n.top?r=!1:t.top>n.bottom&&(r=!1),r},its.geometry.Orientation={VERTICAL:1,HORIZONTAL:2},window.its.array||(window.its.array={}),its.array.arrayOfPrimitivesAsSet=function(t){if(t==null)return null;
var n={};
for(var r=0;
r<t.length;
r++){var i=t[r];
switch(typeof i){case"boolean":case"number":case"string":n[i]=!0;
break;default:throw"its.array.asSet: array contains non primitive element"}}return n},its.array.pushAll=function(t,n){t.push.apply(t,n)},its.array.insertArray=function(e,t,n,r){var i=e[n];
return e[n]="temp",e[n]=i,r&&e.splice(n,t.length),e.splice.apply(e,[n,0].concat(t)),e},window.its.string||(window.its.string={}),its.string.startsWith=function(t,n,r){var i=!1;
return t&&n&&(t=t.substr(0,n.length),r&&(t=t.toLowerCase(),n=n.toLowerCase()),i=t.indexOf(n)===0),i},its.string.endsWith=function(t,n,r){var i=!1;
if(t){r&&(t=t.toLowerCase(),n=n.toLowerCase());
var s=t.length-n.length;
i=s>=0&&t.lastIndexOf(n)===s}return i},its.string.pad=function(t,n,r){var i=t+="";
r=r||"0";
if(i.length<n){var s=n-i.length,o=[];
for(var u=s;
u>0;
u--)o.push(r);
i=o.join("")+i}return i},its.string.replace=function(e,t,n){return e?(typeof e!="string"&&(e+=""),e.split(t).join(n)):e},its.string.whitespace="	\n\f\r Â âââââââââââã\u2028\u2029â",its.string._whitespaceTrimStartRegex=new RegExp("^["+its.string.whitespace+"]+"),its.string._whitespaceTrimEndRegex=new RegExp("["+its.string.whitespace+"]+$"),its.string.trim=function(t,n,r){var i=null;
if(t)if(!r&&(!n||n==its.string.whitespace)&&t.trim)i=t.trim();
else{var s=null,o=null,u=null;
its.isDefinedNonNull(n)?(n=n.replace(/([.?*+^$[\]\\(){}-])/g,"\\$1"),s="["+n+"]",o=new RegExp("^"+s+"+"),u=new RegExp(s+"+$")):(s=its.string.whitespace,o=its.string._whitespaceTrimStartRegex,u=its.string._whitespaceTrimEndRegex);
var a=t.replace(o,"");
i=a.replace(u,"")}return i},its.string.splitTrimmed=function(t,n,r){var i=t.split(n);
if(i)for(var s=0;
s<i.length;
s++)i[s]=its.string.trim(i[s],r);
return i},its.string.xmlEscape=function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};
return function(t){var n=t;
return n&&(n+="",n=n.replace(/[&<>"']/g,function(t){return e[t]})),n}}(),its.string.xmlUnescape=function(t){return t.replace(/&apos;/g,String.fromCharCode(39)).replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},its.string.htmlUnescape=function(t){var n=document.createElement("textarea");
n.innerHTML=t.replace(/</g,"&lt;").replace(/>/g,"&gt;");
var r=n.value;
return n.remove(),r},its.string.contains=function(t,n){return t&&t.indexOf(n)>-1},its.string.urlDecode=function(t){var n=t;
return t&&(n=t.replace(/\+/g," "),n=decodeURIComponent(n)),n};
var _dateExpression=new RegExp("^([0-9]{4}/[0-9]{2}/[0-9]{2})/(.*)");
its.string.compare=function(t,n,r,i){var s=null,o=1;
r&&(o=-1);
var u=_dateExpression.exec(t),a=_dateExpression.exec(n);
u&&a&&(u[1]==a[1]?(t=u[2],n=a[2]):(s=u[1]>a[1]?1:-1,i&&(o=-1)));
if(!s){var f=parseFloat(t),l=parseFloat(n);
if(!isNaN(f)&&!isNaN(l)&&f!=l)s=f-l;
else{var c=t.toLowerCase(),h=n.toLowerCase();
if(c<h)s=-1;
else if(c>h)s=1;
else{s=0;
for(var p=0;
!s&&p<t.length;
p++){var d=t.charAt(p),v=n.charAt(p);
d<v?s=1:d>v&&(s=-1)}}}}return s*=o,s},its.string.compareNumerically=function(e,t){if(!e&&!t)return 0;
if(!e)return-1;
if(!t)return 1;
var n="0123456789",r=0,i=0;
while(r<e.length||i<t.length){var s=e[r],o=t[i];
if(!o)return 1;
if(!s)return-1;
var u=n.indexOf(s)>=0,a=n.indexOf(o)>=0;
if(u&&a){var f=its.string._getNumberFromBeginningOfString(e,r),l=its.string._getNumberFromBeginningOfString(t,i);
if(parseInt(f,10)<parseInt(l,10))return-1;
if(parseInt(f,10)>parseInt(l,10))return 1;
r+=f.length,i+=l.length}else{if(s<o)return-1;
if(s>o)return 1;
r++,i++}}return 0},its.string._getNumberFromBeginningOfString=function(e,t){var n="0123456789";
for(var r=t;
r<e.length;
r++)if(n.indexOf(e[r])<0)break;return e.substring(t,r)},its.string.toInt=function(t){return parseInt(t,10)},its.string.isJson=function(t){var n=!1;
if(!its.isEmpty(t)){var r=t.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,"");
n=/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(r)}return n},its.string.evalJson=function itsStringEvalJson(aString){try{if(its.string.isJson(aString))return eval("("+aString+")")}catch(e){}throw new SyntaxError("Badly formed JSON string: "+aString)},its.string.allAlphaNumerics="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",its.string.randomAlphaNumericString=function(t){var n="";
for(var r=0;
r<t;
r++)n+=its.string.allAlphaNumerics[Math.floor(its.string.allAlphaNumerics.length*Math.random())];
return n},its.string.generateUuid=function(t,n){var r=null,i=(new Date).getTime()+"";
n||(n=6),t||(t=i.length+n);
if(n>t)throw new Error("its.string.generateUuid cannot generate a string with more random numbers than the max requested string length");
var s=t-n;
return s<i.length&&(i=i.substring(i.length-s)),r=i+its.string.randomAlphaNumericString(n),r},its.string.UUIDv4=function b(e){return e?(e^Math.random()*16>>e/4).toString(16):([1e7]+ -1e3+ -4e3+ -8e3+ -1e11).replace(/[018]/g,b)},its.string.unstringify=function(t){var n=t;
return t!=null&&its.isDefined(t)&&(n=="false"?n=!1:n=="true"?n=!0:/(^-?\d\d*\.\d*$)|(^-?\d\d*$)|(^-?\.\d\d*$)/.test(n)&&(isFinite(parsedNumber=parseFloat(n))?n=parsedNumber:isFinite(parsedNumber=parseInt(n,10))&&(n=parsedNumber))),n},its.string.capitalizeString=function(e){if(e&&e.length>0)return e.charAt(0).toUpperCase()+e.substr(1)},window.its.reflect||(window.its.reflect={}),its.reflect.keys=function keys(e){var keys=[];
for(var t in e)e.hasOwnProperty(t)&&!its.isFunction(e[t])&&keys.push(t);
return keys},its.reflect.hasAnyKeys=function(t){for(var n in t)if(t.hasOwnProperty(n))return!0},its.reflect.hasAnyNonNullKeys=function(t){for(var n in t)if(t.hasOwnProperty(n)&&t[n])return!0},its.reflect.values=function values(e){var values=[];
for(var t in e){var n=e[t];
e.hasOwnProperty(t)&&!its.isFunction(n)&&values.push(n)}return values},its.reflect.methods=function methods(e){var methods=[];
for(var t in e){var n=e[t];
e.hasOwnProperty(t)&&its.isFunction(n)&&methods.push(n)}return methods},its.reflect.copyKeysAndValues=function(t,n){if(t)for(var r in t){var i=t[r];
t.hasOwnProperty&&t.hasOwnProperty(r)&&!its.isFunction(i)&&(n[r]=i)}},its.reflect.invert=function(e){var t={};
for(var n in e)e.hasOwnProperty(n)&&!its.isFunction(e[n])&&(t[e[n]]=n);
return t},window.its.url||(window.its.url={}),its.url.parentDomainWithNumComponents=function(t,n){var r=t;
if(t&&t!=""){var i=t.split("."),s=i.length;
if(s>=n){r="";
while(n)r+=i[s-n],n--,n&&(r+=".")}}return r},its.url.queryParamsDict=function(t){var n=null,r=null;
if(!t)r=window.location.search;
else{var i=t.indexOf("?");
i>=0&&(r=t.substring(i))}return r?n=its.url.parseQueryParams(r):n={},n},its.url.queryParamValue=function(t,n){var r=its.url.queryParamsDict(n);
return r[t]},its.url.parseQueryParams=function(t,n){var r={};
if(t!=null&&t.length>0){t.charAt(0)==="?"&&(t=t.substr(1));
var i=t.indexOf("#");
i!==-1&&(t=t.substr(0,i));
var s=t.split("&");
for(var o=0;
o<s.length;
o++){var u=s[o].split("=");
if(u.length==2){var a=u[1];
n||(a=its.string.urlDecode(a)),r[u[0]]=a}}}return r},its.url.hashParamValue=function(t,n){var r=its.url.hashAnchorParamsDict(n);
return r[t]},its.url.hashAnchorParamsDict=function(t){var n,r={};
if(!t)n=window.location.hash;
else{var i=t.indexOf("#");
i>=0&&(n=t.substring(i))}return n&&(r=its.url.parseHashAnchorParams(n)),r},its.url.parseHashAnchorParams=function(t){var n={};
t||(t=window.location.hash);
if(t!=null&&t.length>0){t.charAt(0)==="#"&&(t=t.substr(1));
var r=t.split(";");
for(var i=0;
i<r.length;
i++){var s=r[i].split("=");
if(s.length==2){var o=its.string.urlDecode(s[1]);
n[s[0]]=o}else n[r[i]]=""}}return n},its.url.parseHostname=function(t){var n="";
if(t){t=t.toString();
if(t&&t.indexOf("://")>0){var r=t.indexOf("://")+3,i=t.indexOf("/",r);
i===-1&&(i=t.length),n=t.substring(r,i)}}return n},its.url.parseUrlScheme=function(t){var n="";
if(t){t=t.toString();
if(t&&t.indexOf("://")>0){var r=t.indexOf("://");
r===-1&&(r=t.length),n=t.substring(0,r)}}return n},its.url.changeUrlScheme=function(t,n){var r="";
if(t&&n){t=t.toString();
if(t){var i=its.url.parseUrlScheme(t);
r=t.replace(i,n)}}return r},its.url.finalPathComponent=function(t){var n="";
if(t){t=t.toString();
if(t&&t!=""){var r=t.lastIndexOf("/");
if(r==t.length-1&&r>0)var r=t.lastIndexOf(r-1);
r!=t.length-1&&(n=t.substring(r+1)),(r=n.lastIndexOf("/"))!=-1&&(n=n.substring(0,r)),(r=n.lastIndexOf("?"))!=-1&&(n=n.substring(0,r))}}return n},its.url.buildUrlFromMap=function(e){var t=[];
for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];
typeof r!="undefined"&&r!=null&&t.push(n+"="+encodeURIComponent(r))}return t.join("&")},its.url.appendUrlParameter=function(t,n,r){var i={};
return i[n]=r,its.url.appendUrlParameters(t,i)},its.url.appendUrlParameters=function(t,n){if(!n)return t;
var r=its.url.queryParamsDict(t);
for(var i in n)r[i]=n[i];
var s=its.url.buildUrlFromMap(r);
return its.url.appendUrlParametersString(its.url.baseUrl(t),s)},its.url.appendUrlParametersString=function(t,n){t||(t="");
if(!n)return t;
var r=t.indexOf("?")===-1?"?":"&";
return t+=r+n,t},its.url.encodeURIAndComponents=function(e){var t=its.url.queryParamsDict(e),n=encodeURI(its.url.baseUrl(e)),r=[];
for(var i in t)r.push(encodeURIComponent(i+"="+t[i]));
return its.url.appendUrlParametersString(n,r.join("&"))},its.url.baseUrl=function(t){if(typeof t=="string"){var n=t.indexOf("?");
if(n===-1){n=t.indexOf("#");
if(n===-1)return t}return t.substring(0,n)}},its.url.originalLocationQueryParams=its.url.queryParamsDict(),its.url.originalLocationHashAnchorParams=its.url.parseHashAnchorParams(),its.url.formRedirect=function(t,n,r){var i=document.createElement("form");
i.method=r?"post":"get",i.target=t,i.action=n,document.body.appendChild(i),i.submit()},its.url.openExternalUrl=function(t,n){var r=document.createElement("a");
r.setAttribute("href",t),n=="main"?r.setAttribute("target",n):r.setAttribute("target","_blank");
var i=document.createEvent("MouseEvents");
i.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i)},window.its.cookies||(window.its.cookies={}),its.cookies.EXPIRE_NOW=-1,its.cookies.EXPIRE_SESSION=null,its.cookies.EXPIRE_ONE_SECOND=1,its.cookies.EXPIRE_ONE_MINUTE=its.cookies.EXPIRE_ONE_SECOND*60,its.cookies.EXPIRE_ONE_HOUR=its.cookies.EXPIRE_ONE_MINUTE*60,its.cookies.EXPIRE_ONE_DAY=its.cookies.EXPIRE_ONE_HOUR*24,its.cookies.EXPIRE_ONE_WEEK=its.cookies.EXPIRE_ONE_DAY*7,its.cookies.EXPIRE_ONE_MONTH=its.cookies.EXPIRE_ONE_DAY*31,its.cookies.EXPIRE_SIX_MONTHS=its.cookies.EXPIRE_ONE_MONTH*6-5,its.cookies.EXPIRE_ONE_YEAR=its.cookies.EXPIRE_ONE_DAY*365,its.cookies.EXPIRE_ONE_SIDEREAL_YEAR=its.cookies.EXPIRE_ONE_DAY*365.25,its.cookies.EXPIRE_SIX_MONTHS=its.cookies.EXPIRE_ONE_DAY*180,its.cookies.set=function(t,n,r,i,s){return n&&(n=escape(n)),its.cookies.setUnescaped(t,n,r,i,s)},its.cookies.get=function(t){var n=its.cookies.getUnescaped(t);
return n&&(n=unescape(n)),n},its.cookies.setUnescaped=function(t,n,r,i,s){var o;
i||(i="/");
var u=null;
r&&(u=new Date,u.setTime(u.getTime()+r*1e3));
if(its.sf.Platform&&its.sf.Platform.isITML()){var a={name:t,value:n,path:i,domain:s?s:"",expires:u};
o=its.cookies._setRaw(a)}else{var f=u?u.toUTCString():"",l=s?" domain="+s:"",c=t+"="+n+"; expires="+f+"; path="+i+";"+l;
its.cookies._debugAndUnitTestLastRawSetCookieString=c;
var h=r==void 0||r==its.cookies.EXPIRE_SESSION||r==0,p="sf6"in its&&"Platform"in its.sf6&&its.sf.Platform.device();
if(p&&(h||r<0)){var d=document.cookie=c;
if(h)return d}o=its.cookies._setRaw(c)}return o},its.cookies.getUnescaped=function(t){var n=null,r=its.cookies._debugAndUnitTestCookieGetterWithRawCookieStringOverride||its.cookies._getRaw();
if(r&&t){its.cookies._debugAndUnitTestCookieGetterWithRawCookieStringOverride=null;
var i=r.split(";");
for(var s=i.length-1;
!n&&s>=0;
s--){var o=i[s],u=o.indexOf("=");
if(u>0)if(u+1==o.length)n="";
else{var a=its.string.trim(o.substring(0,u));
a==t&&(its.cookies._debugAndUnitTestLastRawGetCookieString=o,n=its.string.trim(o.substring(u+1)))}}}return n},its.cookies.remove=function(t,n){return its.cookies.setUnescaped(t,".",its.cookies.EXPIRE_NOW,null,n)},"iTunes"in window&&"cookie"in iTunes?its.cookies._cookieOwner="iTunes":typeof itms!="undefined"&&typeof itms.cookie!="undefined"?its.cookies._cookieOwner="itms":its.cookies._cookieOwner="document",its.cookies._setRaw=function(e){return window[this._cookieOwner].cookie=e},its.cookies._getRaw=function(){return window[this._cookieOwner].cookie||""},window.iTSLocalization||(iTSLocalization={}),window.iTSLocalization._strings||(iTSLocalization._strings={}),iTSLocalization.hasLocalizedValue=function(t){var n=iTSLocalization._strings[t];
return its.isDefined(n)},its.loc=function(e,t){var n=iTSLocalization._strings[e];
return typeof n=="undefined"&&(n=e),t&&(n=iTSLocalization.replaceTokens(n,t)),typeof itms=="undefined"&&(n=iTSLocalization.replaceMarkupTokens(n,t)),n},its.locDate=function(e){if(!e)return"";
var t=e.length,n;
if(t>10)n=new Date(e);
else{var r=t>=4?e.slice(0,4):0,i=t>=7?e.slice(5,7):1,s=t>=10?e.slice(8,10):1;
n=new Date(r,i-1,s)}return formatDate(n)},its.locTimeAgo=function(e){if(!e)return"";
var t=e.length,n;
if(t>10)n=new Date(e);
else{var r=t>=4?e.slice(0,4):0,i=t>=7?e.slice(5,7):1,s=t>=10?e.slice(8,10):1;
n=new Date(r,i-1,s)}var o=Math.floor((new Date-n)/1e3),u=Math.floor(o/31536e3);
if(u>1)return its.loc("DV14.TimeAgo.YearsAgo",{time:u});
if(u==1)return its.loc("DV14.TimeAgo.YearAgo",{time:u});
u=Math.floor(o/86400);
if(u>=7){var a=its.locMonthFormatsShort();
return its.loc(a[n.getMonth()],{day:n.getDate()})}if(u>1){var f=its.locWeekdaysShort();
return its.loc(f[n.getDay()])}return u=Math.floor(o/3600),u==1?its.loc("DV14.TimeAgo.HourAgo",{time:u}):u>1?its.loc("DV14.TimeAgo.HoursAgo",{time:u}):its.loc("DV14.TimeAgo.JustNow")},its.secondsAgo=function(e){if(!e)return 0;
var t=e.length,n;
if(t>10)n=new Date(e);
else{var r=t>=4?e.slice(0,4):0,i=t>=7?e.slice(5,7):1,s=t>=10?e.slice(8,10):1;
n=new Date(r,i-1,s)}var o=Math.floor((new Date-n)/1e3);
return o},its.locWeekdaysShort=function(){var e=["DV14.Weekday.Short.Sunday","DV14.Weekday.Short.Monday","DV14.Weekday.Short.Tuesday","DV14.Weekday.Short.Wednesday","DV14.Weekday.Short.Thursday","DV14.Weekday.Short.Friday","DV14.Weekday.Short.Saturday"];
return e},its.locMonthFormatsShort=function(){var e=["DV14.MonthFormat.Short.January","DV14.MonthFormat.Short.February","DV14.MonthFormat.Short.March","DV14.MonthFormat.Short.April","DV14.MonthFormat.Short.May","DV14.MonthFormat.Short.June","DV14.MonthFormat.Short.July","DV14.MonthFormat.Short.August","DV14.MonthFormat.Short.September","DV14.MonthFormat.Short.October","DV14.MonthFormat.Short.November","DV14.MonthFormat.Short.December"];
return e},its.locWithMarkupTokens=function(e,t){return iTSLocalization.replaceMarkupTokens(its.loc(e,t),t)},iTSLocalization._strings._showLocKeys&&(its.loc=function(e){return"+"+e+"+"}),its.locWithCount=function(e,t,n){var r=null,i,s;
return t==0&&(i=e+"."+"zero",iTSLocalization.hasLocalizedValue(i)&&(r=i)),r===null&&(r=e,s=iTSLocalization.pluralCategory(t),s!=="other"&&(i=e+"."+s,iTSLocalization.hasLocalizedValue(i)&&(r=i))),n||(n={}),its.isDefined(n.count)||(n.count=its.formatNumber(t)),its.loc(r,n)},iTSLocalization.replaceTokens=function(t,n){if(n)for(var r in n)if(n.hasOwnProperty(r)){var i="@@"+r+"@@";
t=its.string.replace(t,i,n[r])}return t},iTSLocalization.markupParams={nbsp:"&nbsp;",gt:"&gt;",lt:"&lt;",copy:"Â©"},iTSLocalization.replaceMarkupTokens=function(t,n){if(t.indexOf("##")>-1){if(n)for(var r in n)iTSLocalization.markupParams[r.toString()]=n[r];
for(var i in iTSLocalization.markupParams){var s="##"+i+"##";
t=t.replace(new RegExp(s,"gi"),iTSLocalization.markupParams[i])}t=t.replace(/##([^##]+)##/gi,"<$1>")}return t},iTSLocalization.localizedResourceUrlForPathKey=function(t,n){n===undefined&&(n=/https:/.test(window.location.protocol));
var r=n?"https://s.mzstatic.com":"http://r.mzstatic.com";
return r+its.loc(t)},typeof itms!="undefined"&&typeof formatNumber!="undefined"?its.formatNumber=function(e){return formatNumber(Number(e))}:its.formatNumber=function(e){if(typeof iTSLocalization.decimalSeparator=="undefined"){var t=iTSLocalization._strings._decimalSeparator;
typeof t=="undefined"&&(t="."),iTSLocalization.decimalSeparator=t,t=iTSLocalization._strings._thousandsSeparator,typeof t=="undefined"&&(t=","),iTSLocalization.thousandsSeparator=t}var n=parseFloat(e).toString().split("."),r=iTSLocalization.thousandsSeparator,i=n[0].split("");
for(var s=i.length-3;
s>0;
s-=3)i.splice(s,0,r);
n[0]=i.join("");
var o=n.join(iTSLocalization.decimalSeparator);
return o},iTSLocalization._pluralCategoryDefault=function(e){return"other"},iTSLocalization._pluralCategoryOne=function(e){return e==1?"one":"other"},iTSLocalization._pluralCategoryArabic=function(e){var t=e>>0;
if(t!=e)return"other";
if(t===0)return"zero";
if(t===1)return"one";
if(t===2)return"two";
var n=t%100;
return n>=11?"many":n>=3?"few":"other"},iTSLocalization._pluralCategoryFrench=function(e){return e<2&&e>=0?"one":"other"},iTSLocalization._pluralCategoryHebrew=function(e){var t=e>>0;
if(t!=e)return"other";
if(t===1)return"one";
if(t===2)return"two";
var n=t%10;
return n==0&&t>10?"many":"other"},iTSLocalization._pluralCategoryPolish=function(e){var t=e>>0;
if(t!=e)return"other";
if(t===1)return"one";
var n=t%10;
if(n<=4&&n>=2){var r=t%100;
if(r>14||r<12)return"few"}return"many"},iTSLocalization._pluralCategoryRomanian=function(e){var t=e>>0;
if(t!=e)return"few";
if(t===0)return"few";
if(t===1)return"one";
var n=e%100;
return n<=19&&n>=1?"few":"other"},iTSLocalization._pluralCategoryRussian=function(e){var t=e>>0;
if(t!=e)return"other";
var n=t%10;
if(n>=5||n==0)return"many";
var r=t%100;
return r<=14&&r>=11?"many":n==1?"one":"few"},iTSLocalization._pluralCategoryFnByLanguage={zh:iTSLocalization._pluralCategoryDefault,id:iTSLocalization._pluralCategoryDefault,ja:iTSLocalization._pluralCategoryDefault,ko:iTSLocalization._pluralCategoryDefault,ms:iTSLocalization._pluralCategoryDefault,th:iTSLocalization._pluralCategoryDefault,vi:iTSLocalization._pluralCategoryDefault,en:iTSLocalization._pluralCategoryOne,ca:iTSLocalization._pluralCategoryOne,da:iTSLocalization._pluralCategoryOne,nl:iTSLocalization._pluralCategoryOne,de:iTSLocalization._pluralCategoryOne,el:iTSLocalization._pluralCategoryOne,fi:iTSLocalization._pluralCategoryOne,hu:iTSLocalization._pluralCategoryOne,it:iTSLocalization._pluralCategoryOne,nb:iTSLocalization._pluralCategoryOne,no:iTSLocalization._pluralCategoryOne,pt:iTSLocalization._pluralCategoryOne,es:iTSLocalization._pluralCategoryOne,sv:iTSLocalization._pluralCategoryOne,tr:iTSLocalization._pluralCategoryOne,ar:iTSLocalization._pluralCategoryArabic,fr:iTSLocalization._pluralCategoryFrench,iw:iTSLocalization._pluralCategoryHebrew,pl:iTSLocalization._pluralCategoryPolish,ro:iTSLocalization._pluralCategoryRomanian,ru:iTSLocalization._pluralCategoryRussian},iTSLocalization.pluralCategory=function(e){if(its.serverData&&its.serverData.constants){var t=iTSLocalization._pluralCategoryFnByLanguage[its.serverData.constants.languageCode];
if(t)return t(e);
if(its.Logger){var n=its.Logger.named("its-base-util");
n.error("missing plural category function for: "+its.serverData.constants.languageCode,!0)}}return"other"},its.isXMLResponse=function(e){var t,n="content-type";
try{t=e&&e.getResponseHeader(n)}catch(r){t=""}return t&&its.string.startsWith(t,"text/xml")},its.plistDictGetValue=function(t,n){if(!t)return;var r=t.childNodes.length,i=null;
for(var s=0;
s<r;
s++){var o=t.childNodes[s];
if(o.nodeType===Node.ELEMENT_NODE){if(i)return o.nodeName==="array"||o.nodeName==="dict"?o:o.textContent;
o.nodeName==="key"&&o.textContent===n&&(i=o)}}},its.plistDictRemoveValue=function(t,n){if(!t)return;var r=t.childNodes.length,i=null,s=null;
for(var o=0;
o<r;
o++){var u=t.childNodes[o];
if(u.nodeType===Node.ELEMENT_NODE){if(i){s=u;
break}u.nodeName==="key"&&u.textContent===n&&(i=u)}}i&&s&&(t.removeChild(i),t.removeChild(s))},its.plistDictAddDict=function(t,n,r){if(!t)return;var i=document.createElement("key");
i.textContent=n;
var s=document.createElement("dict");
if(r&&Array.isArray(r))for(var o=0;
o<r.length;
o++)s.appendChild(r[o]);
t.appendChild(i),t.appendChild(s)},its.plistDictAddKeyValue=function(t,n,r){if(!t)return;var i=document.createElement("key");
i.textContent=n;
var s=document.createElement("string");
s.textContent=r,t.appendChild(i),t.appendChild(s)},its.plistDictAddKeyValuePairs=function(t,n){if(!t)return;for(var r in n){if(!n.hasOwnProperty(r))continue;its.plistDictAddKeyValue(t,r,n[r])}},its._dataCache={},its.property=function(e,t){return t||(returnValue=its._dataCache[e]),returnValue==undefined&&(returnValue=its.value("its.serverData.properties",e,!0,t)),returnValue},its.pageData=function(e,t){return t||(returnValue=its._dataCache[e]),returnValue==undefined&&(returnValue=its.value("its.serverData.pageData",e,!0,t)),returnValue},its.valueOverride=function(e,t){var n;
return e&&(t||(n=its._dataCache[e]),n==undefined&&(n=its.string.unstringify(its.url.originalLocationQueryParams[e])),n==undefined&&(n=its.string.unstringify(sessionStorage.getItem(e)),n===null&&(n=undefined)),n==undefined&&(n=its.string.unstringify(localStorage.getItem(e)),n===null&&(n=undefined)),n==undefined&&window.itsv&&(n=window.itsv[e]),!t&&its.isDefined(e)&&its.isDefined(n)&&(its._dataCache[e]=n)),n},its.value=function(dataPath,key,useOverrideIfAvailable,noCache){its.value.totalCount++;
var returnValue,keyIsDefined=its.isDefined(key),cacheKey=keyIsDefined?key:dataPath;
if(its.isDefined(cacheKey)){useOverrideIfAvailable&&keyIsDefined&&(returnValue=its.valueOverride(key,noCache));
if(returnValue==undefined){its.value.cacheMissCount++,noCache||(returnValue=its._dataCache[cacheKey]);
if(returnValue==undefined){var objectAtDataPath;
try{objectAtDataPath=eval(dataPath)}catch(anException){}if(objectAtDataPath!=undefined)if(keyIsDefined){returnValue=objectAtDataPath[key];
if(returnValue==undefined)try{returnValue=eval(dataPath+"."+key)}catch(anException){}}else returnValue=objectAtDataPath}}!noCache&&its.isDefined(returnValue)&&(its._dataCache[cacheKey]=returnValue)}return returnValue},its.setPropertyOverride=function(e,t,n){return its.setValueOverride(e,t,n)},its.setPageDataOverride=function(e,t,n){return its.setValueOverride(e,t,n)},its.setValueOverride=function(e,t,n){var r=null;
e?its.isDefined(t)||(r="Invalid value"):r="Invalid key";
if(r)throw new Error(r+". Usage: set[Property|Value]Override(key, value, usePermanentStorage)");
var i=null;
delete its._dataCache[e],its.removeValueOverride(e);
var s=null;
return n?s=localStorage:s=sessionStorage,s.setItem(e,t),i=s[e],i},its.removePropertyOverride=function(e){return its.removeValueOverride(e)},its.removePageDataOverride=function(e){return its.removeValueOverride(e)},its.removeValueOverride=function(key){delete its._dataCache[key],sessionStorage.removeItem(key),localStorage.removeItem(key);
try{returnValue=eval("delete window.itsv."+key)}catch(anException){}return key},its.value.totalCount=0,its.value.cacheMissCount=0,its.flushDataCache=function(){its._dataCache={}},its.screenReaderRunning=function(){if(typeof iTunes!="undefined"){if(iTunes.hasOwnProperty("screenReaderRunning"))return iTunes.screenReaderRunning;
if(iTunes.screenReaderRunning&&typeof iTunes.screenReaderRunning=="function")return iTunes.screenReaderRunning()}return!1}(),its.sf.Events={PAGE_LOAD:"its.sf.Events.PAGE_LOAD",PAGE_UNLOAD:"its.sf.Events.PAGE_UNLOAD"};
var docImpl=DOMImplementationRegistry.getDOMImplementation(null);
typeof console!="undefined"&&(typeof console.debug=="undefined"&&(console.log("console.debug() is not defined. Mapping to console.log() instead."),console.debug=console.log),typeof console.info=="undefined"&&(console.log("console.info() is not defined. Mapping to console.log() instead."),console.info=console.log),typeof console.warn=="undefined"&&(console.log("console.warn() is not defined. Mapping to console.log() instead."),console.warn=console.log)),typeof document=="undefined"&&(document=docImpl.createDocument(null,"document",null),document.removeChild(document.firstChild));
var _elementTypeProtoObjects=[];
(function(){if(its.property("MZStore.shouldCacheElementTypeProtoObjects"))for(var e=0;
e<100;
e++){var t=document.createElement("placeholder");
if(!t.__proto__)continue;_elementTypeProtoObjects.push(t.__proto__);
break}})();
var domParserError=!1;
try{new DOMParser}catch(e){domParserError=!0}if(typeof DOMParser=="undefined"||domParserError)DOMParser=function(){this._parser=docImpl.createLSParser(1,null),this._xmlInput=docImpl.createLSInput(),this.parseFromString=function(e,t){return this._xmlInput.stringData=e,this._parser.parse(this._xmlInput)}};
typeof HTMLScriptElement=="undefined"&&(HTMLScriptElement=function(){console.error("HTMLScriptElement not implemented!")});
if(typeof XMLHttpRequest=="undefined"||typeof XMLHttpRequest.constructor!="object")XMLHttpRequest=function(){return itms.makeStoreXMLHttpRequest()};
var cssToXpath={convert:function(e){var t=/(:.*?$)/g,n=e.trim().replace(t,""),r=this._forAttribute(n)||this._forAllWithAttribute(n)||this._forElementById(n)||this._forId(n)||this._forElementByClasses(n)||this._forClasses(n)||this._forTagName(n)||this._forEverything(n);
return r},_forAttribute:function(e){this._forAttribute.regex||(this._forAttribute.regex=new RegExp(/\[(\S*?)\s*?\=\s*?[\"|\'](.*?)[\"|\']\]/));
var t,n=this._forAttribute.regex.exec(e);
return n&&n.length>0&&(t="descendant-or-self::*[@"+n[1]+" = '"+n[2]+"']"),t},_forAllWithAttribute:function(e){this._forAllWithAttribute.regex||(this._forAllWithAttribute.regex=new RegExp(/\[(\S*?)\s*?\]/));
var t,n=this._forAllWithAttribute.regex.exec(e);
return n&&n.length>0&&(t="descendant-or-self::*[@"+n[1]+"]"),t},_forElementById:function(e){this._forElementById.regex||(this._forElementById.regex=new RegExp(/(^\w+)#(.+$)/));
var t,n=this._forElementById.regex.exec(e);
return n&&n.length>0&&(t="descendant-or-self::"+n[1]+"[@id ="+"'"+n[2]+"']"),t},_forElementByClasses:function(e){this._forElementByClasses.regex||(this._forElementByClasses.regex=new RegExp(/(\w*)#(\w*)/));
var t,n=this._forElementByClasses.regex.exec(e);
if(n&&n.length>0){t="descendant-or-self::"+n[1]+"[";
var r=n[2].split("."),i=[];
for(var s=0;
s<r.length;
s++)i.push("contains(concat(' ', normalize-space(@class), ' '), '"+r[s]+"')");
t+=i.join(" and "),t+="]"}return t},_forId:function(e){this._forId.regex||(this._forId.regex=new RegExp(/#(\w*)/));
var t,n=this._forId.regex.exec(e);
return n&&n.length>0&&(t="descendant-or-self::*[@id = '"+n[1]+"']"),t},_forClasses:function(e){this._forClasses.regex||(this._forClasses.regex=new RegExp(/^\.(.+$)/));
var t,n=this._forClasses.regex.exec(e);
if(n&&n.length>0){t="descendant-or-self::*[";
var r=n[1].split("."),i=[];
for(var s=0;
s<r.length;
s++)i.push("contains(concat(' ', normalize-space(@class), ' '), '"+r[s]+"')");
t+=i.join(" and "),t+="]"}return t},_forTagName:function(e){this._forTagName.regex||(this._forTagName.regex=new RegExp(/([\w\-]+)/));
var t,n=this._forTagName.regex.exec(e);
return n&&n.length>0&&(t="descendant-or-self::"+n[1]),t},_forEverything:function(e){this._forEverything.regex||(this._forEverything.regex=new RegExp(/\*/));
var t,n=this._forEverything.regex.exec(e);
return n&&(t="descendant-or-self::*"),t}};
ClassList=function(e){var t=e.getAttribute("class"),n=t?t.trim():"",r=n?n.split(" "):[];
for(var i=0;
i<r.length;
i++)this.push(r[i]);
this._updateClassName=function(){e.setAttribute("class",this.join(" "))}};
var classListProto=ClassList.prototype=[],classListGetter=function(){return new ClassList(this)};
classListProto.item=function(e){return this[e]||null},classListProto.contains=function(e){return e+="",this.indexOf(e)!==-1},classListProto.add=function(){var e=!1;
for(var t=0;
t<arguments.length;
t++){var n=arguments[t],r=this.indexOf(n);
r===-1&&(this.push(n),e=!0)}e&&this._updateClassName()},classListProto.remove=function(e){var t=this.indexOf(e);
t>-1&&(this.splice(t,1),this._updateClassName())},classListProto.toggle=function(e){e+="",this.contains(e)?this.remove(e):this.add(e)},classListProto.toString=function(){return this.join(" ")};
var additionalFunctionality={querySelector:function(e){var t=null;
if(this.ownerDocument){var n=cssToXpath.convert(e);
if(n!=null){var r=this.ownerDocument.evaluate(n,this,null,9,null);
t=r.singleNodeValue;
if(typeof r.resultType=="undefined"&&its.property("MZStore.shouldAttemptToEvaluateXpathSecondTime")){r=this.ownerDocument.evaluate(n,this,null,9,null),t=r.singleNodeValue;
var i,s;
typeof r.resultType=="undefined"?(i="failed",s="error"):(i="succeeded",s="info"),its.sf.DelayedCallQueue.call("its.Logger",function(){its.Logger.named("MockWebKit")[s]("Second attempt to evaluate xpath for "+e+" "+i+".",null,!0)})}}else console.error("querySelector not supported for selection: "+e)}else console.error("no owner document found for: ",this);
return t},querySelectorAll:function(e){var t=null;
if(this.ownerDocument){var n=cssToXpath.convert(e);
if(n!=null){t=[],t.item=function(e){return this[e]};
var r=this.ownerDocument.evaluate(n,this,null,7,null);
if(typeof r.resultType=="undefined"&&its.property("MZStore.shouldAttemptToEvaluateXpathSecondTime")){r=this.ownerDocument.evaluate(n,this,null,7,null);
var i,s;
typeof r.resultType=="undefined"?(i="failed",s="error"):(i="succeeded",s="info"),its.sf.DelayedCallQueue.call("its.Logger",function(){its.Logger.named("MockWebKit")[s]("Second attempt to evaluate xpath for "+e+" "+i+".",null,!0)})}for(var o=0;
o<r.snapshotLength;
o++)t.push(r.snapshotItem(o))}else console.error("querySelectorAll not supported for selection: "+e)}else console.error("no owner document found for: ",this);
return t},parseWithContext:function(){var e=docImpl.createLSParser(1,null),t=docImpl.createLSInput();
return function(n,r,i){t.stringData=n;
if(e.parseWithContext)try{e.parseWithContext(t,r,i)}catch(s){console.error("Error parsing with context: ",s,"markup: ",n.toString())}}}(),innerXML:function(){return docImpl.createLSSerializer?docImpl.createLSSerializer().writeToString(this):this.printITML()},children:function(){var e=[];
e.item=function(e){return this[e]};
var t=this.childNodes;
t||(t=this.childNodes,t?console.warn("children() - this.childNodes second attempt succeeded!"):console.error("children() - this.childNodes second attempt failed!"));
if(t)for(var n=0;
n<t.length;
n++){var r=t.item(n);
r instanceof Element&&e.push(r)}return e},firstElementChild:function(){var e=this.children;
return e.length>0?e.item(0):null},remove:function(){var e=this.parentNode;
e.removeChild(this)},removeAllChildNodes:function(){while(this.firstChild)this.removeChild(this.firstChild)},adoptAndAppendNode:function(e){var t=this.ownerDocument;
if(t&&e&&t!=e.ownerDocument)try{e=t.adoptNode(e)}catch(n){console.error("---------- adoptAndAppendNode: argument is a string! ",e)}this._appendChild(e)},adoptAndReplaceNode:function(e,t){var n=this.ownerDocument;
n&&n!=e.ownerDocument&&(e=n.adoptNode(e));
try{this._replaceChild(e,t)}catch(r){console.error("---------- error: ",r)}},printITML:function(){if(docImpl.createLSSerializer)console.log(docImpl.createLSSerializer().writeToString(this));
else{var e=function(e){var t=["id","type","class","disabled","href","target","url","confirm-text","bookmarkID","serviceID","showSettings","mode","data-content-id","data-content-kind","data-id","data-url","data-target","format","height","width","src","srcset","altText","alt","value","count","actionParams","duration","offset","adamID","preview-url","numStars","selected","displayInterval","keyDelivery","_ph","expands","data-category-id","title","channelID","pin","autoHighlight"],n="";
for(var r=0;
r<t.length;
r++){var i=t[r],s=e.getAttribute?e.getAttribute(i):null;
s&&(n+=" "+i+'="'+s+'"')}return n},t=function(n,r){var i="";
r+="  ";
if(n){var s=n.childNodes;
if(s)if(s.length){var o=n.nodeName;
i+=r+"<"+o+e(n)+">\n";
for(var u=0;
u<s.length;
u++){var a=s.item(u);
a?i+=t(a,r):i+=r+n.textContent+"\n"}i+=r+"</"+o+">\n"}else i+=r+"<"+n.nodeName+e(n)+"/>\n"}return i};
console.log(t(this,""))}}},printDocumentITML=function(){console.log(getActiveDocument().documentElement.innerXML)};
Element.prototype._appendChild=Element.prototype.appendChild,Element.prototype.appendChild=additionalFunctionality.adoptAndAppendNode,Element.prototype._replaceChild=Element.prototype.replaceChild,Element.prototype.replaceChild=additionalFunctionality.adoptAndReplaceNode,typeof Element.prototype.querySelector=="undefined"&&(Element.prototype.querySelector=additionalFunctionality.querySelector),typeof Element.prototype.querySelectorAll=="undefined"&&(Element.prototype.querySelectorAll=additionalFunctionality.querySelectorAll),typeof Element.prototype.classList=="undefined"&&Object.defineProperty(Element.prototype,"classList",{get:classListGetter}),typeof Element.prototype.innerXML=="undefined"&&Object.defineProperty(Element.prototype,"innerXML",{set:function(e){additionalFunctionality.parseWithContext(e,this,2)},get:additionalFunctionality.innerXML}),typeof document.createElement("placeholder").children=="undefined"&&Object.defineProperty(Element.prototype,"children",{get:additionalFunctionality.children}),typeof document.createElement("placeholder").firstElementChild=="undefined"&&Object.defineProperty(Element.prototype,"firstElementChild",{get:additionalFunctionality.firstElementChild}),Element.prototype.printITML=additionalFunctionality.printITML,typeof modal!="undefined"&&typeof modal.clear=="undefined"&&(modal.clear=function(){while(modal.documents.length>0)modal.popDocument()}),DocumentFragment.prototype._appendChild=DocumentFragment.prototype.appendChild,DocumentFragment.prototype.appendChild=additionalFunctionality.adoptAndAppendNode,DocumentFragment.prototype._replaceChild=DocumentFragment.prototype.replaceChild,DocumentFragment.prototype.replaceChild=additionalFunctionality.adoptAndReplaceNode,typeof DocumentFragment.prototype.querySelector=="undefined"&&(DocumentFragment.prototype.querySelector=additionalFunctionality.querySelector),typeof DocumentFragment.prototype.querySelectorAll=="undefined"&&(DocumentFragment.prototype.querySelectorAll=additionalFunctionality.querySelectorAll),typeof DocumentFragment.prototype.innerXML=="undefined"&&Object.defineProperty(DocumentFragment.prototype,"innerXML",{set:function(e){additionalFunctionality.parseWithContext(e,this,2)},get:additionalFunctionality.innerXML});
var docFrag=document.createDocumentFragment();
typeof docFrag.children=="undefined"&&Object.defineProperty(DocumentFragment.prototype,"children",{get:additionalFunctionality.children}),typeof docFrag.firstElementChild=="undefined"&&Object.defineProperty(DocumentFragment.prototype,"firstElementChild",{get:additionalFunctionality.firstElementChild}),DocumentFragment.prototype.printITML=additionalFunctionality.printITML,Document.prototype._appendChild=Document.prototype.appendChild,Document.prototype.appendChild=additionalFunctionality.adoptAndAppendNode,Document.prototype._replaceChild=Document.prototype.replaceChild,Document.prototype.replaceChild=additionalFunctionality.adoptAndReplaceNode,typeof Document.prototype.classList=="undefined"&&Object.defineProperty(Document.prototype,"classList",{get:classListGetter}),Document.prototype.printITML=additionalFunctionality.printITML,typeof Node.prototype.remove=="undefined"&&(Node.prototype.remove=additionalFunctionality.remove),typeof Node.prototype.removeAllChildNodes=="undefined"&&(Node.prototype.removeAllChildNodes=additionalFunctionality.removeAllChildNodes);
if(typeof getActiveDocument=="undefined"||Device.productType.indexOf("AppleTV")!=-1||Device.appIdentifier==="com.apple.videos")getActiveDocument=function(){var e=navigationDocument.documents.length,t=e>0?navigationDocument.documents[e-1]:null;
return t};
window.its||(window.its={}),its.sf||(its.sf={}),its.notifications={_subscribers:{},_unboundSubscribers:{},subscribe:function(e,t,n,r,i,s){var o=this.senderId(n)||r;
i&&(t.filter=i),s&&(t.eventGroupId=s),o?(this._subscribers[e]||(this._subscribers[e]={}),this._subscribers[e][o]||(this._subscribers[e][o]=[]),this._subscribers[e][o].push(t)):(this._unboundSubscribers[e]||(this._unboundSubscribers[e]=[]),this._unboundSubscribers[e].push(t))},senderId:function(e){var t=null;
return e&&(e.__senderId||(e.__senderId=its.notifications.createSenderId()),t=e.__senderId),t},subscribeToSender:function(e,t,n,r,i){this.subscribe(e,t,n,null,r,i)},subscribeToTarget:function(e,t,n,r,i){this.subscribe(e,t,null,n,r,i)},unsubscribe:function(e,t,n,r){var i=this.senderId(n)||r;
if(this._subscribers[e]&&this._subscribers[e][i]){var s=this._subscribers[e][i].indexOf(t);
s>=0&&this._subscribers[e][i].splice(s,1)}if(this._unboundSubscribers[e]){var s=this._unboundSubscribers[e].indexOf(t);
s>=0&&this._unboundSubscribers[e].splice(s,1)}},publish:function(e,t,n,r,i){var s=this.senderId(n)||r,o=t||{};
o.eventInfo={name:e,sender:n,targetId:r};
var u=function(e){return e.eventGroupId==i};
if(this._subscribers[e]){var a=i&&this._subscribers[e][s]?this._subscribers[e][s].filter(u):this._subscribers[e][s];
this._sendNotification(e,a,o)}var f=i&&this._unboundSubscribers[e]?this._unboundSubscribers[e].filter(u):this._unboundSubscribers[e];
this._sendNotification(e,f,o)},publishToSender:function(e,t,n){this.publish(e,t,n,null)},publishToTarget:function(e,t,n){this.publish(e,t,null,n)},publishToEventGroup:function(e,t,n){this.publish(e,t,null,null,n)},remove:function(e){this._subscribers[e]&&delete this._subscribers[e],this._unboundSubscribers[e]&&delete this._unboundSubscribers[e]},removeEventGroup:function(e){var t=function(t){return t.eventGroupId!=e};
for(var n in this._subscribers){var r=this._subscribers[n];
for(var i in r){var s=r[i],o=s.filter(t);
o.length?this._subscribers[n][i]=o:delete this._subscribers[n][i]}}for(var n in this._unboundSubscribers){var u=this._unboundSubscribers[n],o=u.filter(t);
o.length?this._unboundSubscribers[n]=o:delete this._unboundSubscribers[n]}},getEventGroupSubscribers:function(e){var t={},n={};
for(var r in this._subscribers){var i=this._subscribers[r];
for(var s in i){var o=i[s];
for(var u in o){var a=o[u];
a.eventGroupId==e&&(t[r]||(t[r]={}),t[r][s]||(t[r][s]=[]),t[r][s].push(a))}}}for(var r in this._unboundSubscribers){var f=this._unboundSubscribers[r];
for(var u in f){var a=f[u];
a.eventGroupId==e&&(n[r]||(n[r]=[]),n[r].push(a))}}return{bound:t,unbound:n}},addEventGroupSubscribers:function(e,t){if(t&&t.bound&&t.unbound){var n=t.bound,r=t.unbound;
for(var i in n){var s=n[i];
for(var o in s){var u=s[o];
for(var a in u){var f=u[a];
this.subscribeToTarget(i,f,o,f.filter,e)}}}for(var i in r){var l=r[i];
for(var a in l){var f=l[a];
this.subscribe(i,f,null,null,null,e)}}}},totalSubscriberCount:function(){var e=0;
for(var t in this._subscribers){var n=this._subscribers[t];
for(var r in n)e+=n[r].length}for(var t in this._unboundSubscribers)e+=this._unboundSubscribers[t].length;
return e},totalSubscriberCountForGroupId:function(e){var t=function(t){return t.eventGroupId==e},n=0;
for(var r in this._subscribers){var i=this._subscribers[r];
for(var s in i){var o=i[s],u=o.filter(t);
n+=u.length}}for(var r in this._unboundSubscribers){var a=this._unboundSubscribers[r],u=a.filter(t);
n+=u.length}return n},hasListeners:function(e,t,n){var r=this.senderId(t)||n;
return this._subscribers[e]&&this._subscribers[e][r]||this._unboundSubscribers[e]?!0:!1},_sendNotification:function(e,t,n){if(t)for(var r=0,i=t.length;
r<i;
r++){var s=t[r];
if(s){var o=s.filter;
(!o||o(n))&&s(n)}}}},its.notifications.createSenderId=function(){var e=0;
return function(){var t="senderId"+e;
return e++,t}}(),its.sf.DelayedCallQueue.objectReady("its.notifications"),window.its||(window.its={}),window.its.sf||(window.its.sf={}),its.sf.Client={_iTunesObject:function(){var e=null;
return typeof iTunes!="undefined"?e=iTunes:typeof itms!="undefined"&&(e=itms),e},_deviceObject:function(){var e=null;
return typeof Device!="undefined"&&(e=Device),e},_isRunning:function(){return its.isDefinedNonNull(this._iTunesObject())},version:function(){var e=null;
return this._iTunesObject()&&(this._iTunesObject().version?e=this._iTunesObject().version:this._iTunesObject().systemVersion&&(e=this._iTunesObject().systemVersion())),!e&&this._deviceObject()&&this._deviceObject().systemVersion&&(e=this._deviceObject().systemVersion),e},isVersion:function(e){return its.string.compareNumerically(its.sf.Client.version(),e)>=0},dsId:function(){var e=null;
return this._iTunesObject()&&(this._iTunesObject().primaryAccount?e=iTunes.primaryAccount.dsID:this._iTunesObject().getUserDSID?(e=this._iTunesObject().getUserDSID(),e=="0"&&(e=null)):its.isDefinedNonNull(this._iTunesObject().DSID)&&(e=this._iTunesObject().DSID,e=="0"&&(e=null))),e},iCloudDsid:function(){var e=null;
return this._iTunesObject()&&this._iTunesObject().appleAccountStore&&this._iTunesObject().appleAccountStore.primaryAppleAccount&&(e=this._iTunesObject().appleAccountStore.primaryAppleAccount.dsID),e},isXMLResponse:function(e){return e&&its.string.startsWith(e.getResponseHeader("content-type"),"text/xml")},findChildElementNodeAtPosition:function(e,t){if(!e)return;var n=e.childNodes.length;
if(t>=n)return;var r=0;
for(var i=0;
i<n;
i++){var s=e.childNodes[i];
if(s.nodeType===Node.ELEMENT_NODE){if(r===t)return s;
r+=1}}return null},findPositionChildElementNodeNamed:function(e,t){if(!e)return;var n=e.childNodes.length;
if(n===0)return;var r=0;
for(var i=0;
i<n;
i++){var s=e.childNodes[i];
if(s.nodeType===Node.ELEMENT_NODE){if(s.lastChild&&s.lastChild.textContent==t)return r;
r++}}return}},its.client||(its.client={}),its.client.version||(its.client.version=function(){return its.sf.Client.version()}),window.its||(window.its={}),window.its.sf||(window.its.sf={}),its.sf.LocalStorage={};
if(its.sf.Client._isRunning()){its.sf.LocalStorage.isSupported=!0;
var isITunesObjectAvailable=typeof iTunes!="undefined",isITMSObjectAvailable=typeof itms!="undefined";
if(isITunesObjectAvailable&&iTunes.deviceLocalStorage)its.sf.LocalStorage.setItem=function(){return iTunes.deviceLocalStorage.setValue.apply(iTunes.deviceLocalStorage,arguments)},its.sf.LocalStorage.getItem=function(){return iTunes.deviceLocalStorage.valueForKey.apply(iTunes.deviceLocalStorage,arguments)},its.sf.LocalStorage.removeItem=function(){return iTunes.deviceLocalStorage.removeValue.apply(iTunes.deviceLocalStorage,arguments)},its.sf.LocalStorage.clear=function(){return iTunes.deviceLocalStorage.removeAllItems.apply(iTunes.deviceLocalStorage,arguments)};
else if(isITunesObjectAvailable&&iTunes.localStorage)its.sf.LocalStorage.setItem=function(){return iTunes.localStorage.setItem.apply(iTunes.localStorage,arguments)},its.sf.LocalStorage.getItem=function(){return iTunes.localStorage.getItem.apply(iTunes.localStorage,arguments)},its.sf.LocalStorage.removeItem=function(){return iTunes.localStorage.removeItem.apply(iTunes.localStorage,arguments)},its.sf.LocalStorage.clear=function(){return iTunes.localStorage.clear.apply(iTunes.localStorage,arguments)};
else if(!isITunesObjectAvailable&&isITMSObjectAvailable)its.sf.LocalStorage.setItem=function(){return localStorage.setItem.apply(localStorage,arguments)},its.sf.LocalStorage.getItem=function(){return localStorage.getItem.apply(localStorage,arguments)},its.sf.LocalStorage.removeItem=function(){return localStorage.removeItem.apply(localStorage,arguments)},its.sf.LocalStorage.clear=function(){return localStorage.clear.apply(localStorage,arguments)};
else if(isITunesObjectAvailable){var platformCacheMetaTag=document.querySelector("meta[name='platform-cache-id']");
platformCacheMetaTag&&(platformCacheId=Number(platformCacheMetaTag.getAttribute("content")),platformCacheId==13&&(console.error("Spinal Mac: Local Storage is Not Supported"),its.sf.LocalStorage.setItem=function(){console.error("Spinal Mac: Local Storage is Not Supported: setItem is a no-op")},its.sf.LocalStorage.getItem=function(){return console.error("Spinal Mac: Local Storage is Not Supported: getItem always returns null"),null},its.sf.LocalStorage.removeItem=function(){console.error("Spinal Mac: Local Storage is Not Supported: removeItem is a no-op")},its.sf.LocalStorage.clear=function(){console.error("Spinal Mac: Local Storage is Not Supported: clear is a no-op")}))}}its.Logger=function(e){e||(e="default"),this._name=e,its.Logger._loggers||(its.Logger._loggers={}),its.Logger._loggers[e]=this},its.Logger.DEBUG=1,its.Logger.INFO=2,its.Logger.WARN=3,its.Logger.ERROR=4,its.Logger.STATS=5,its.Logger._loggingMethods=typeof console!="undefined"?[console.debug,console.info,console.warn,console.error]:null,its.Logger._version="3.1",its.Logger._intraFieldSeparator="|",its.Logger._visitorIdVersion="v6",its.Logger._undefinedValue="undefined",its.Logger._levelsAsText={},its.Logger._levelsAsText[its.Logger.DEBUG]="debug",its.Logger._levelsAsText[its.Logger.INFO]="info",its.Logger._levelsAsText[its.Logger.WARN]="warn",its.Logger._levelsAsText[its.Logger.ERROR]="error",its.Logger._levelsAsText[its.Logger.STATS]="stats",its.Logger.Defaults={},its.Logger.Defaults.loggerName="Logger",its.Logger.Defaults.level=its.Logger.ERROR,its.Logger._loggingEnabledToConsole=function(){return!its.property("ITSLogger.DisableLoggingToConsole")},its.Logger._loggingEnabledToServer=function(){return its.serverData&&!its.property("ITSLogger.DisableLogging")},its.Logger.setLevel=function(e){its.Logger._level=e},its.Logger.named=function(e){var t=null;
return e||(e=its.Logger.Defaults.loggerName),its.Logger._loggers&&(t=its.Logger._loggers[e]),t||(t=new its.Logger(e)),t},its.Logger.prototype={name:function(){return this._name},setLevel:function(e){this._level=e},level:function(){var e=its.property(this.name()+".LoggerLevel");
return e||(e=its.property("LoggerLevel")),e||(e=this._level),e||(e=its.Logger._level),e||(e=its.Logger.Defaults.level),e=its.Logger._levelToInt(e),e},isAnyDebugLevel:function(){return its.isDefinedNonNull(this._anyDebugLevel)?returnValue=this._anyDebugLevel:(this._anyDebugLevel=this.level()<its.Logger.ERROR?!0:!1,returnValue=this._anyDebugLevel),returnValue},levelText:function(){returnAsInt||(returnLevel=its.Logger._levelToText(returnLevel))},debug:function(e,t,n,r){return this._funnelLogger(its.Logger.DEBUG,!1,e,t,n,r)},info:function(e,t,n,r){return this._funnelLogger(its.Logger.INFO,!1,e,t,n,r)},warn:function(e,t,n,r){return this._funnelLogger(its.Logger.WARN,!1,e,t,n,r)},error:function(e,t,n,r){typeof n=="undefined"&&its.property("ITSLogger.mirrorToServerByDefaultOnErrors")&&(n=!0);
try{undefined.intentionallyCauseError()}catch(i){i.stack&&(t||(t={}),t.callstack=i.stack)}return this._funnelLogger(its.Logger.ERROR,!1,e,t,n,r)},stats:function(e,t,n){return this._funnelLogger(its.Logger.STATS,!1,e,t,n)},_funnelLogger:function(e,t,n,r,i,s){var o=null;
if(n){var u=this.level(),a=e;
a==its.Logger.STATS&&(e=its.Logger.INFO);
var f=e-1,l=(e>=u||e==its.Logger.ERROR)&&its.Logger._loggingMethods&&its.Logger._loggingMethods[f]?!0:!1;
if(l){var c=its.property("LoggerFilter");
if(!its.isDefined(c)||c=="")c=null;
c&&c!=this._cachedloggerFilterString&&(this._cachedloggerFilterString=c,this._cachedloggerFilter=new RegExp(this._cachedloggerFilterString));
var h="";
e==its.Logger.WARN?h+="WARN: ":e==its.Logger.ERROR&&(h+="ERROR: "),h+=this.name()+":",o=h+" "+n,!s&&(e==its.Logger.ERROR||e==its.Logger.WARN||its.Logger._passesRegexFilterTest(this._cachedloggerFilter,o))&&its.Logger._loggingMethods[f].apply(console,[h].concat(n));
if(e==its.Logger.ERROR&&window.iTunes&&iTunes.log){var p=h+" "+n.toString();
iTunes.log(p)}}return i&&its.Logger._notifyServer(n,this.name(),r,a),o}}},its.Logger._levelToInt=function(e){if(e!=null&&e.toUpperCase){var t=its.string.toInt(e);
if(isNaN(t)){var n=e?e.toUpperCase():"";
n=="DEBUG"?e=its.Logger.DEBUG:n=="INFO"?e=its.Logger.INFO:n=="WARN"?e=its.Logger.WARN:n=="ERROR"?e=its.Logger.ERROR:e=its.Logger.Defaults.level}else e=t}return e},its.Logger._levelToText=function(e){return its.Logger._levelsAsText[e]},its.Logger._passesRegexFilterTest=function(e,t){var n=!1;
if(!e||t.search(e)!=-1)n=!0;
return n},its.Logger._notifyServer=function(e,t,n,r){var i=null;
if(its.Logger._loggingEnabledToServer()){var s,o,u;
its.Logger._useLegacyLogFormat()?(s=its.Logger._legacyLogEvent(e,t,n,r),o=its.Logger._legacyLogUrl(t),u=its.Logger._serializedJSON(s)):(s=its.Logger._logEvent(e,t,n,r),o=its.Logger._logUrl(),u=its.Logger._enrichedAndSerializedEvent(s)),u&&(i=its.Logger._sendToServer(o,u))}return i},its.Logger._useLegacyLogFormat=function(){var e=!0,t=its.sf.Metrics.bagMetrics().useLegacyLogFormat;
if(its.isDefined(t))e=t;
else{var n=its.property("ITSLogger.UseLegacyLogFormat");
its.isDefined(n)&&(e=n)}return e},its.Logger._logUrl=function(){var e=null,t=its.sf.Metrics.bagMetrics().metricsUrl,n=2,r="xp_amp_legacy_log";
return t&&n&&r&&(e=t+"/"+n+"/"+r),e},its.Logger._legacyLogUrl=function(e){var t="",n=its.property("ITSLogger.ServerReportingProtocol"),r=its.property("ITSLogger.ServerReportingDomain"),i=its.property("ITSLogger.ServerReportingApp"),s="/WebObjects/"+i+".woa/wa/";
return t=n+"://"+r,t+=s,t+=its.property("ITSLogger.RecordStatsAction"),t+="?eventType="+e,t+="&version="+its.Logger._version,t},its.Logger._logEvent=function(e,t,n,r){var i=its.Logger._baseLogEvent(e,t,n,r);
return i.eventType="log",i.eventTime=Date.now(),i=its.Logger._removeBlacklistedFields(i,["ITSLogger_dsid"]),i},its.Logger._legacyLogEvent=function(e,t,n,r){var i=its.Logger._baseLogEvent(e,t,n,r);
return i=its.Logger._removeBlacklistedFields(i),i},its.Logger._baseLogEvent=function(e,t,n,r){n=n||{};
var i={},s={};
e||(e=its.Logger._undefinedValue),i.messageParam=e,n.message||(n.message=e),i.loggerName=t,r||(r=its.Logger._undefinedValue),i.loggingThreshold=r;
var o=(new Date).getTime(),u=o-its.markupLoadStartTime,a=null;
document&&document.body&&document.body.className?a=document.body.className:a=its.Logger._undefinedValue;
for(var f in n)s[t+"_"+f]=n[f];
i.version=its.Logger._version,i.iTunesVersion=its.Logger._cleanValue(its.sf.Client.version()),i.eventType=i.loggerName,i.serverEnvironment=its.Logger._cleanValue(its.property("ITSServerEnvironment")),i.serverEnvironmentDetailsString=its.Logger._cleanValue(window.status),its.reflect.copyKeysAndValues(window.statusData,i),i.serverInstance=its.Logger._cleanValue(its.property("ITSServerInstance"));
var l=its.Logger._cleanValue(its.Logger._dsid());
i.dsid=l;
var c=its.Logger._locallyStoredVisitorIdMap(l),h=c[l];
i.visitorId=h;
var p=its.reflect.values(c);
i.visitorIds=JSON.stringify(p);
var d=1;
c.unknown?p.length>=3&&(d=p.length-1):d=p.length,i.visitorCount=d,i.omnitureVisitorId=its.Logger._cleanValue(its.cookies.get("s_vi")),i.metricsClientId=its.Logger._cleanValue(its.cookies.get("xp_ci")),i.vip=its.property("vip"),i.resourceRevNum=its.property("ITSResourceRevNum"),i.windowLocationHref=window&&window.location&&window.location.href?window.location.href:"undefined",i.timeOfLog=o,i.markupLoadStartTime=its.markupLoadStartTime,i.markupLoadEndTime=its.Logger._cleanValue(its.markupLoadEndTime),i.markupLoadTotalTime=its.markupLoadStartTime&&its.markupLoadEndTime?its.markupLoadEndTime-its.markupLoadStartTime:"undefined",i.timeElapsedFromLoadStart=u,i.pageName=its.Logger._omnitureValue("omniturePageName"),i.pageChannel=its.Logger._omnitureValue("omnitureChannel"),i.pageClassName=a,i.allowDeferJsLoad=its.property("MZHtmlResourcesUtil.allowDeferJsLoad")?!0:!1,i.clientForceServerNotifications=its.property("ITSLogger.clientForceServerNotifications")?!0:!1;
for(var f in i)s["ITSLogger_"+f]=i[f];
return s.sender=its.property("ITSLogger.SenderName"),s},its.Logger._removeBlacklistedFields=function(e,t){t=t||[];
var n=its.property("ITSLogger.blacklistedServerNotificationsFields")||[];
n=n.concat(t);
if(n.length>0)for(var r=0;
r<n.length;
r++){var i=n[r];
delete e[i]}return e},its.Logger._serializedJSON=function(e){var t=null;
try{t=JSON.stringify(e)}catch(n){its.Logger.named().error("Error stringifying data as JSON: "+n)}return t},its.Logger._enrichedAndSerializedEvent=function(e){var t={deliveryVersion:"1.0",postTime:Date.now(),events:[e]};
return its.Logger._serializedJSON(t)},its.Logger._sendToServer=function(e,t){var n=null;
if(e&&t){var r=new XMLHttpRequest;
r.open("POST",e,!0),r.setRequestHeader("Content-type","application/json"),r.send(t),n=t}return n},its.Logger._omnitureValue=function(e){var t=its.Logger._undefinedValue;
if(window.ITSMetrics){var n=ITSMetrics[e]();
n&&(t=n)}return t},its.Logger._cleanValue=function(e){if(!e||e=="")e=its.Logger._undefinedValue;
return e},its.Logger._createVisitorId=function(e){var t=null,n="[LS]",r=e?"1":"0",i=its.string.generateUuid(23,10),s="[LE]",o=[n,its.Logger._visitorIdVersion,r,i,s];
return t=o.join(its.Logger._intraFieldSeparator),t},its.Logger._visitorMapVersionAdjustments=function(e){var t=its.reflect.values(e);
if(t&&t.length){var n=t[0],r=n.split(its.Logger._intraFieldSeparator);
r[1]!=its.Logger._visitorIdVersion&&(e={})}return e},its.Logger._locallyStoredVisitorIdMap=function(e){var t={},n=null,r="ITSLogger.visitorIds",i=its.sf.LocalStorage.getItem(r);
return i&&(t=JSON.parse(i),t=its.Logger._visitorMapVersionAdjustments(t),n=t[e]),n||(t[e]=its.Logger._createVisitorId(e!=its.Logger._undefinedValue),its.sf.LocalStorage.setItem(r,JSON.stringify(t))),t},its.Logger._dsid=function(){var e=0;
return its&&its.sf6&&its.sf.Client?e=its.sf.Client.dsId():typeof itms!="undefined"&&(e=itms.DSID),e},window.SF_EXCEPTION_LOGGER_NAME="ITSExceptionHandler",window._sf_itsComposeErrorMessage=function(e,t,n,r){var i="unknown (might be html-embedded script?)",s="unknown";
its.isDefinedNonNull(t)&&t!=""&&t!="undefined"&&(i=t),its.isDefinedNonNull(n)&&n!=""&&(s=n);
var o='{message:"'+e+'", url:"'+i+'", lineNumber:"'+s+'"}';
return o},window._sf_itsOnErrorCallback=function(e,t,n){if(e&&e instanceof Event){var r=e.target;
r&&(e="Error attempting to load a script: id="+r.id+" src="+r.src+" type="+r.type+", contents:"+r.innerHTML)}var i={message:e,url:t,lineNumber:n};
fullMessage=window._sf_itsComposeErrorMessage(e,t,n,window.SF_EXCEPTION_LOGGER_NAME),its.Logger.named(window.SF_EXCEPTION_LOGGER_NAME).error(fullMessage,i,!0,!0)},window._earlyOnerrorException&&(window._sf_itsOnErrorCallback(window._earlyOnerrorException.message,window._earlyOnerrorException.url,window._earlyOnerrorException.lineNumber),window._earlyOnerrorException=null),window.onerror=window._sf_itsOnErrorCallback,ITSLogger=function(e){return this._logger=its.Logger.named(e),this._logger},ITSLogger.named=function(e){return this._logger=its.Logger.named(e),this._logger},ITSLogger.prototype={debug:function(e,t,n,r){this._logger.debug(e,t,n)},info:function(e,t,n,r){this._logger.info(e,t,n)},warn:function(e,t,n,r){this._logger.warn(e,t,n)},error:function(e,t,n,r){this._logger.error(e,t,n)}},its.sf.DelayedCallQueue.objectReady("its.Logger"),its.sf.DelayedCallQueue.objectReady("ITSLogger"),window.its||(window.its={}),window.its.sf||(window.its.sf={}),its.sf.Platform={iPhone:function(){return its.sf.Platform.init(),its.sf.Platform._iPhone==1},iPhone5:function(){return its.sf.Platform.init(),its.sf.Platform._iPhone5==1},iPad:function(){return its.sf.Platform.init(),its.sf.Platform._iPad==1},iPadPro:function(){return typeof Device!="undefined"&&(Device.productType.indexOf("iPad6,7")!==-1||Device.productType.indexOf("iPad6,8")!==-1)},ATV:function(){return its.sf.Platform.init(),its.sf.Platform._ATV==1},iTunes11:function(){return its.sf.Platform.init(),its.sf.Platform._iTunes11==1},iTunes12:function(){return its.sf.Platform.init(),its.sf.Platform._iTunes12==1},iTunes13:function(){return its.sf.Platform.init(),its.sf.Platform._iTunes13==1},iBooksMac:function(){return its.sf.Platform.init(),its.sf.Platform._iBooksMac==1},appleTVMac:function(){return its.sf.Platform.init(),its.sf.Platform._appleTVMac==1},MacAppStore:function(){return its.sf.Platform.init(),its.sf.Platform._MacAppStore==1},desktop:function(){return this.iTunes11()||this.iTunes12()||this.iTunes13()?!0:this.iBooksMac()?!0:this.MacAppStore()?!0:this.appleTVMac()?!0:!1},device:function(){return this.iPhone()||this.iPad()},init:function(){if(its.sf.Platform._IS_INITIALIZED)return;if(its.serverData&&its.serverData.constants&&its.serverData.constants.platformCacheId)its.sf.Platform._platformCacheId=Number(its.serverData.constants.platformCacheId);
else{var e=document.querySelector("meta[name='platform-cache-id']");
its.sf.Platform._platformCacheId=e?Number(e.getAttribute("content")):null}switch(its.sf.Platform._platformCacheId){case 25:case 23:case 20:case 15:case 30:its.sf.Platform._iPad=!0;
break;case 26:case 24:case 21:case 16:case 29:its.sf.Platform._iPhone=!0;
break;case 19:case 27:case 33:its.sf.Platform._ATV=!0;
break;case 17:its.sf.Platform._iTunes11=!0;
break;case 28:case 32:its.sf.Platform._iTunes12=!0;
break;case 39:case 42:its.sf.Platform._iTunes13=!0;
break;case 22:case 37:its.sf.Platform._iBooksMac=!0;
break;case 41:its.sf.Platform._appleTVMac=!0;
break;case 13:its.sf.Platform._MacAppStore=!0}its.sf.Platform._IS_INITIALIZED=!0},hiDPI:function(){return window.devicePixelRatio>1},isDark:function(){return typeof document!="undefined"&&typeof document.body!="undefined"&&typeof document.body.className!="undefined"&&document.body.className.match("dark")},isMavericksOrLater:function(){return this.iBooksMac()||typeof iTunes!="undefined"&&(iTunes.platform=="mac"||iTunes.platform=="Mac")&&iTunes.osBuildID&&its.string.compareNumerically(iTunes.osBuildID,"13A")>=0},platformCacheId:function(){return its.sf.Platform.init(),its.sf.Platform._platformCacheId},isITML:function(){var e=!1;
return its.serverData&&its.serverData.constants&&its.serverData.constants.usesITML&&typeof itms!="undefined"&&(e=!0),e},isProd:function(){if(!its.isDefinedNonNull(this._isProd)){var e=its.property("ITSServerEnvironment");
this._isProd=e&&e.indexOf("prod")!=-1}return this._isProd},isBadgeTextColoringSupported:function(){return Device&&its.string.compareNumerically(Device.systemVersion,"8.1")>=0},isReleaseDateInMovieLockup:function(){return its.sf.Platform.iPad()},isATV9OrGreater:function(){return this.ATV()&&this.platformCacheId()>=33},isIPhone6PlusScreenSize:function(){return this._screenSize().height==736&&this._screenSize().width==414||this._screenSize().height==414&&this._screenSize().width==736},isIPhone6ScreenSize:function(){return its.isDefinedNonNull(this._isIPhone6ScreenSize)||(this._isIPhone6ScreenSize=this._screenSize().height==667&&this._screenSize().width==375),this._isIPhone6ScreenSize},isIPhone5ScreenSize:function(){return its.isDefinedNonNull(this._isIPhone5ScreenSize)||(this._isIPhone5ScreenSize=this._screenSize().height==568&&this._screenSize().width==320),this._isIPhone5ScreenSize},isIPhone4ScreenSize:function(){return typeof Device!="undefined"&&!its.isDefinedNonNull(this._isIPhone4ScreenSize)&&(this._isIPhone4ScreenSize=Device.productType.indexOf("iPhone4")!=-1),this._isIPhone4ScreenSize},_screenSize:function(){var e={};
return typeof Settings!="undefined"&&(e=typeof Settings.screen!="undefined"?Settings.screen:Settings.Screen),e},isVersionSupported:function(t){if(Device.systemVersion===t)return!0;
var n=Device.systemVersion,r=n.split("."),i=t.split("."),s=Math.max(r.length,i.length),o=function(e,t,n){e+="";
for(var r=0;
r<t;
r++)e+=n;
return e};
i.length!==s&&(t=o(t,s-i.length,".0"),i=t.split(".")),r.length!==s&&(n=o(n,s-r.length,".0"),r=n.split("."));
if(n===t)return!0;
for(var u=0,a=i.length;
u<a;
u++){i[u]=+i[u],r[u]=+r[u];
if(i[u]<r[u])return!0;
if(i[u]>r[u])return!1}return!1}},its.sf.Platform._logger=its.Logger?its.Logger.named("its.sf.Platform"):null,window.its||(window.its={}),its.files||(its.files={}),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice,r=n.call(arguments,1);
return function(){return t.apply(e,r.concat(n.call(arguments)))}}),Class={create:function(e,t){return Class._create(e,t)},createSubclass:function(e,t,n){if(!t)throw new Error("Undefined base class when creating subclass: "+e);
return Class._create(e,n,t)},_create:function(e,t,n){function r(){this.initialize.apply(this,arguments)}function i(e,t,n){var r=e[n];
e[n]=function(){var i=t[n],s=this.base,o=arguments;
this.base=function(){return arguments.length&&(o=arguments),i.apply(this,o)};
try{return r.apply(this,o)}finally{this.base=s}}}if(n){var s=function(){};
s.prototype=n.prototype,r.prototype=new s}Class.extend(r.prototype,t);
if(n)for(var o in n.prototype)r.prototype.hasOwnProperty(o)&&typeof r.prototype[o]=="function"&&typeof n.prototype[o]=="function"&&i(r.prototype,n.prototype,o);
return r.prototype.initialize||(r.prototype.initialize=its.emptyFunction),r.prototype.constructor=r,r.klassName=e,r},extend:function(e,t){e=e||{},t=t||{};
for(var n in t)e[n]=t[n];
return e},shallowClone:function(e){return Class.extend({},e)}},Element.prototype.replaceTokenWithElement=function(t,n){return its.Template.replaceTokenWithElement(this,t,n)},its.Template=Class.create("its.Template",{initialize:function(t,n){its.Logger&&(this._logger=its.Logger.named("its.Template")),this._stopwatch=ITSStopwatch?ITSStopwatch.named("its.Template"):null,this._parent=null,this.rootParent=this,this._logger&&this._logger.debug("creating template: "+n),t=its.string.trim(t);
if(its.string.startsWith(t,"<script",!0)){var r=null;
r=this._createElementRepresentationOfTemplateString(t,!0),r.nodeName=="SCRIPT"&&r.id&&(t=r.innerHTML,n||(n=r.id))}if(!n)throw"new its.Template(...) called without required uniqueTemplateName parameter";
this._rawTemplateString=t,this._name=n,this._tokens={},this._elementTokens={},this._blocks={},this._blocksToKeep={},this._parsedChunks=[],this._parsedRefs={},this._nextIterations=[],this._repetitionId=1,its.Template._cache[this._name]=this,this.dateFormatter="%b %e",its.Template.disableOnDemandParsing&&this._parseIfNeeded()},parent:function(){return this._parent},rootParent:function(){return this.rootParent},isChild:function(){return this.parent()?!0:!1},name:function(){return this._name},_nameWithRepetitionId:function(){var t=this.isChild()?this._repetitionId:"";
return its.Template.namespacedString(this.name(),t)},fullTokenName:function(t){return its.contains(t,its.Template.namespaceSeparator)?t:its.Template.namespacedString(this._nameWithRepetitionId(),t)},replaceToken:function(e,t,n,r){var i=this;
if(typeof n=="undefined"||n){var s=its.string.xmlEscape(t);
i=this.replaceTokenUnescaped(e,s,n);
if(this._logger&&this._logger.isAnyDebugLevel()&&r!=its.Template.SUPPRESS_WARNINGS&&t!=s&&t&&its.isString(t)&&t.match(/<[^>]*>/))try{throw new Error}catch(o){this._logger.warn("\n**********\n MARKUP FOUND:\n**********\nreplaceToken("+e+"): Found HTML markup in replacement value: "+t+"\n==========\n STACKTRACE:\n==========\n"+o.stack)}}return i},replaceTokenUnescaped:function(e,t,n){return typeof n!="undefined"&&!n?this:(this._parseIfNeeded(),this._tokens[e]=t,this)},replaceObject:function(e,t){return this._replaceObjectFunnel(e,t,!0)},replaceObjectUnescaped:function(e,t){return this._replaceObjectFunnel(e,t,!1)},_replaceObjectFunnel:function(refName,refObj,escape){this._parseIfNeeded();
var refTokens=this.rootParent._parsedRefs[refName];
if(!refTokens)throw"replaceObject('"+refName+"') called on template with no object tokens";
var obj={};
obj[refName]=refObj;
for(var index=0;
index<refTokens.length;
index++){var token=refTokens[index],val=null;
try{val=eval("obj."+token)}catch(e){}val!=null&&(escape?this.replaceToken(token,val):this.replaceTokenUnescaped(token,val))}return this},replaceTokenWithElement:function(e,t,n){if(!t)return;return typeof n!="undefined"&&!n?this:(this._parseIfNeeded(),this._elementTokens[this.fullTokenName(e)]=t,this)},elementAssociatedWithToken:function(e){return this._parseIfNeeded(),this._elementTokens[e]},replaceBlock:function(e,t){return this._parseIfNeeded(),this._blocks[e].value=t,this},keepBlock:function(e,t){return arguments.length<2&&(t=!0),t?(this._parseIfNeeded(),e=its.Template.leafName(e),this._blocksToKeep[e]=!0):this._blocksToKeep[e]=!1,this},_ancestorFlaggedToKeep:function(e){var t=null,n=this.parent();
while(n&&t==null){var r=n._blocksToKeep[e];
its.isDefined(r)?t=r:n=n.parent()}return t},getBlock:function(e,t){var n=its.Template.named(e);
return n||(n=this._getBlockRecursive(e)),!n&&this._logger&&!t&&this._logger.error("getBlock(): Failed to find block: '"+e+"' at any level of template: '"+this.name()+"'"),n},_getBlockRecursive:function(e){this._parseIfNeeded();
var t=this._blocks[e],n=t?t.template:null;
if(!n)for(var r in this._blocks){var i=this._blocks[r].template;
i&&(its.string.endsWith(i._name,e)?n=i:n=i._getBlockRecursive(e));
if(n)break}return n},next:function(e){this._parseIfNeeded(),this._copyElementTokensToRootParent();
var t=this._composeToString();
return this._nextIterations.push(t),e&&this._nextIterations.push(e),this._reset(),this._repetitionId++,t},compose:function(e,t){if(its.reflect.hasAnyNonNullKeys(this._elementTokens))throw"'"+this.name()+'\' template: attempt made to compose a template to a string after replacing tokens with live DOM elements. Try using "composeAsElement()" instead.';
return this._compose(e,t,!0)},_compose:function(e,t,n){this._parseIfNeeded();
var r=!1,i=null;
if(this._isITML()&&this._tokens.itsId){var i=e?e:its.Template.createItsId();
this.replaceToken(e,'itsId="'+i+'"'),r=!0}var s;
this._copyElementTokensToRootParent(),this._nextIterations.length==0?s=this._composeToString():s=this._nextIterations.join(""),this._isITML()&&(r?s.itsId||(s=new String(s),s.itsId=function(){return i}):s=its.Template.addItsIdToComposedString(s,e)),this._nextIterations=[],n&&this._reset();
if(t){var o=this._elem(t);
this._isITML()?o.innerXML=s:o.innerHTML=s,its.Template.queryForITSElements(o)}return s},_createElementRepresentationOfTemplateString:function(e,t){var n=null,r=its.element.createDocumentFragmentFromString(e),i=r[its.Template.firstElementChild];
return r[its.Template.children].length!=1||!t&&(i instanceof HTMLScriptElement||i.tagName.toLowerCase()=="placeholder")?n=r:n=i,this._isITML()&&(e.itsId||this._logger.debug(["---------- missing itsId method on composed template string: ",e]),e.itsId()&&(n.itsId=function(){return e.itsId()})),n},composeAsElement:function(e){its.Template.composeAsElementCalls++,this._parseIfNeeded();
var t=null,n=this._compose(e,null,!1);
t=this._createElementRepresentationOfTemplateString(n);
if(t){var r=this;
t.__creatorTemplate=Class.shallowClone(this),t.replaceTokenWithElement=this._elementReplaceTokenWithElement,this._applyStashedElementTokens(t),t instanceof DocumentFragment&&(t.___stashedChildNodes=this._shallowCloneNodeList(t[its.Template.children]),t[its.Template.children].length==1&&!(t[its.Template.firstElementChild]instanceof HTMLScriptElement)&&t[its.Template.firstElementChild].tagName.toLowerCase()!="placeholder"&&(t=t[its.Template.firstElementChild]))}else this._logger&&this._logger.error("composeAsElement failed to create new element with this html:"+n,null,!0);
return this._reset(),this._isITML()&&t instanceof Element&&document.appendChild(t.parentNode),t},composeAndAppend:function(e,t){this._parseIfNeeded();
var n=this.composeAsElement(),r=this._elem(e);
return t?r.insertBefore(n,t):r.appendChild(n),n},composeAndReplace:function(e){this._parseIfNeeded();
var t=this.composeAsElement(),n=this._elem(e);
return n.parentNode.replaceChild(t,n),t},_elem:function(e){return typeof e=="string"?document.querySelector(e):e},_copyElementTokensToRootParent:function(){if(this.rootParent!=this)for(var t in this._elementTokens){var n=this.fullTokenName(t);
its.isDefined(this.rootParent._elementTokens[n])||(this.rootParent._elementTokens[n]=this._elementTokens[t])}},_getValue:function(e,t){var n=null;
this._parseIfNeeded();
if(t=="elementToken"){var r=this.fullTokenName(e),i=this._isITML()?"placeholder":"SCRIPT";
n="<"+i+' _ph="'+r+'"></'+i+">"}else{var s=this._tokens[e];
s==null&&this.isChild()?s=this.parent()._getValue(e):s==null?s=s?s:"":s instanceof Date?s=s.format(this._getDateFormatter()):s+="",n=s}return n},_getDateFormatter:function(){this._parseIfNeeded();
var e=this.dateFormatter;
return!this.dateFormatter&&this.isChild()&&(e=this.parent()._getDateFormatter()),e},_reset:function(){this._parseIfNeeded();
var e;
for(e in this._tokens)this._tokens[e]=void 0;
return this._elementTokens={},this._blocksToKeep={},this},_composeToString:function(){this._parseIfNeeded();
var e=[],t=null,n="";
for(var r=0;
r<this._parsedChunks.length;
r++){t=this._parsedChunks[r],n="";
if(typeof t=="string")n=t;
else if(t.type=="token")n=this._tokens[t.name],n==null&&(n=this._getValue(t.name,t.subtype));
else if(t.type=="block"){var i=this._blocksToKeep[t.name],s=its.isDefined(i);
s&&i||!s&&this._ancestorFlaggedToKeep(t.name)==1||t.template._nextIterations.length>0?n=t.template._compose(null,null,!0):n=""}e.push(n)}return e.join("")},_parseIfNeeded:function itsTemplate_parse(){if(!this._rawTemplateString)return;var stack=[this],match,embedString=null,currTemplate=null;
while((match=its.Template.REGEX.exec(this._rawTemplateString))!=null){var leftContext=match.input.substr(0,match.index),rightContext=match.input.substr(match.index+match[0].length);
currTemplate=stack[stack.length-1],embedString=null,currTemplate._parsedChunks.push(leftContext);
var chunk={},val=RegExp.lastMatch,chunkSubtype=null;
val.indexOf("@")==0?(chunkSubtype="basicToken",chunk.name=match[its.Template._PATTERN.BASIC.position],currTemplate._tokens[chunk.name]=null):val.indexOf("$")==0&&(chunkSubtype="elementToken",chunk.name=match[its.Template._PATTERN.ELEMENT.position]);
if(chunkSubtype){chunk.type="token",chunk.subtype=chunkSubtype,currTemplate._parsedChunks.push(chunk);
var index;
if((index=chunk.name.indexOf("."))>0){var refName=chunk.name.substring(0,index),refTokens=this._parsedRefs[refName];
refTokens==null&&(refTokens=[],this._parsedRefs[refName]=refTokens),refTokens.push(chunk.name)}}else if(val.indexOf("@/")==-1){chunk.name=match[its.Template._PATTERN.BLOCK.position];
var uniqueTemplateName=its.Template.namespacedString(currTemplate.name(),chunk.name),template=new its.Template(null,uniqueTemplateName);
chunk.type="block",chunk.template=template,currTemplate._parsedChunks.push(chunk),currTemplate._blocks[chunk.name]={template:template},template.rootParent=this,template._parent=currTemplate,stack.push(template)}else val.indexOf("#embed:")==0?embedString=eval(match[its.Template._PATTERN.EMBED.position]):val.indexOf("#js:")==0?this._parsedChunks.push(eval(match[its.Template._PATTERN.JS.position])):stack.length--;
this._rawTemplateString=rightContext,embedString!=null&&(this._rawTemplateString=embedString+this._rawTemplateString)}this._parsedChunks.push(this._rawTemplateString),this._rawTemplateString=null},_applyStashedElementTokens:function(t){for(var n in this._elementTokens)if(this._elementTokens.hasOwnProperty(n)){var r=this._elementTokens[n];
r&&t.replaceTokenWithElement(n,r)}},_elementReplaceTokenWithElement:function(t,n){var r=this.__creatorTemplate.fullTokenName(t),i=this;
if(this.___realParentElement)i=this.___realParentElement;
else if(this.___stashedChildNodes&&this.___stashedChildNodes.length&&(!this[its.Template.children]||!this[its.Template.children].length))for(var s=0;
s<this.___stashedChildNodes.length;
s++){this.___stashedChildNodes[s]||this.printITML();
var o=this.___stashedChildNodes[s].parentNode;
if(o){i=o,this.___realParentElement=i,this.___realParentElement.__replacedTokens?its.reflect.copyKeysAndValues(this.__replacedTokens,this.___realParentElement.__replacedTokens):this.___realParentElement.__replacedTokens=this.__replacedTokens;
break}}return its.Template.replaceTokenWithElement(i,r,n)},_shallowCloneNodeList:function(e){var t;
if(this._isITML()){t=[],t.item=function(e){return this[e]};
for(var n=0;
n<e.length;
n++)e.item(n)&&t.push(e.item(n))}else t=Class.shallowClone(e);
return t},_isITML:function(){return its&&its.sf&&its.sf.Platform&&its.sf.Platform.isITML()}}),its.Template.Events={NEW_ELEMENTS_CREATED:"its.Template.Events.NEW_ELEMENTS_CREATED"},its.Template._queriedIds={},its.Template.queryForITSElements=function(e){var t;
e?t=e:its.isDefined(window.currentDocument)&&window.currentDocument()?t=this.currentDocument().documentElement:document&&(t=document),t.querySelectorAll||(t=t.parentNode);
if(t){var n=t.querySelectorAll("[itsId]");
for(var r=0;
r<n.length;
r++){var i=n[r],s=i.getAttribute("itsId");
this._queriedIds[s]||(this._queriedIds[s]=!0,its.notifications.publishToTarget(its.Template.Events.NEW_ELEMENTS_CREATED,{target:i,itsId:s},s))}}},its.Template.addItsIdToComposedString=function(e,t){var n=e,r=t?t:its.Template.createItsId(),i=/(<\s*)(.*?)\W/,s=i.exec(e),o=s?s[2]:null,u=e.indexOf(o+" itsId")>=0;
return u?r=n.match(/itsId\s*\=\s*\"(\w*)\"/)[1]:o&&(n=new String(e.replace(o,o+" itsId="+'"'+r+'"'))),n.itsId||(n=new String(n),n.itsId=function(){return r}),n},its.Template.namespaceSeparator=".",its.Template._PATTERN={BASIC:{position:0,pattern:"@([a-zA-Z0-9_\\-.]+)@"},ELEMENT:{position:0,pattern:"\\$([a-zA-Z0-9_\\-.]+)\\$"},BLOCK:{position:0,pattern:"<!-- +@\\/?([a-zA-Z0-9_\\-.]+)@ +-->"},EMBED:{position:0,pattern:"#embed:([a-zA-Z0-9_\\-.]+)"},JS:{position:0,pattern:"#js:(.*?)#"}},its.Template.createItsId=function(){var e=0;
return function(){var t="itsId"+e;
return e++,t}}(),its.Logger&&(its.Template._logger=its.Logger.named("its.Template")),its.Template._PATTERNS_STRING=function(){var t="",n=1;
for(var r in its.Template._PATTERN)its.Template._PATTERN.hasOwnProperty(r)&&(its.Template._PATTERN[r].position=n,t.length&&(t+="|"),t+=its.Template._PATTERN[r].pattern,n++);
return t}(),its.Template.REGEX=new RegExp(its.Template._PATTERNS_STRING),its.Template._cache={},its.Template.disableOnDemandParsing=!1,its.Template.SUPPRESS_WARNINGS=!0,its.Template.create=function(e){var t=document.getElementById(e),n=its.Template.named(e);
if(n)return n;
var r=t?t.innerHTML:null;
if(!r)throw"its.Template : Unable to find template with id: "+e;
return its.Template.createFromString(r,e)},its.Template.createFromString=function(e,t){var n=its.Template.named(t);
return n==null&&(n=new its.Template(e,t)),n},its.Template.resetAllCachedTemplates=function(){for(var e in its.Template._cache){var t=its.Template._cache[e];
t._reset()}},its.Template.named=function(t){return its.Template._cache[t]},its.Template.replaceTokenWithElement=function(t,n,r,i){if(!r)return;if(typeof i!="undefined"&&!i)return this;
var s='[_ph="'+n+'"]',o=t.querySelector(s);
if(!o&&t.__replacedTokens){var u=t.__replacedTokens[n];
if(u&&u.length){for(var a=0;
a<u.length;
a++)o?u[a].remove():o=u[a];
t.__replacedTokens&&(t.__replacedTokens[n]=null)}}if(!o){var c="";
throw its.contains(n,its.Template.namespaceSeparator)||(c=" It looks like you forgot to fully qualify the token name, like: main_template_name."+n+" or main_template_name.SomeBlock."+n+" etc."),new Error("replaceTokenWithElement(): Attempting to replace non-existent elementToken: '"+n+"'."+c)}var f=[];
if(r.nodeType&&r.nodeType==11){var l=r.childNodes;
for(var a=0;
a<l.length;
a++)l.item(a)&&f.push(l.item(a))}else f.push(r);
return t.__replacedTokens||(t.__replacedTokens={}),t.__replacedTokens[n]=f,o.parentNode&&(o.ownerDocument&&o.ownerDocument!=r.ownerDocument&&(typeof r=="string"||r instanceof String?this._logger.error(["---------- Replacement element was a string: ",r.toString()]):o.ownerDocument.adoptNode(r)),r!=o&&o.parentNode.replaceChild(r,o)),this},its.Template.leafName=function(t){var n=t.split(its.Template.namespaceSeparator),r=n[n.length-1];
return r},its.Template.namespacedString=function(t,n,r){var i="";
if(arguments)for(var s=0;
s<arguments.length;
s++){var o=arguments[s];
o&&o!=""&&(i==""?i=o:i=i+its.Template.namespaceSeparator+o)}return i},its.Template.composeAsElementCalls=0,its.Template.children=its&&its.sf&&its.sf.Platform&&its.sf.Platform.isITML()?"children":"childNodes",its.Template.firstElementChild=its&&its.sf&&its.sf.Platform&&its.sf.Platform.isITML()?"firstElementChild":"firstChild",its.sf.BadgeUtil={_logger:its.Logger.named("its.sf.BadgeUtil"),systems_that_have_new_logos:["br","bbfc","nz-oflc"],buildImagePath:function(e){var t="content-badging/",n;
e.system?n=e.system.toLowerCase():(its.sf.BadgeUtil._logger.error("Could not find system in config named "+e.name),n=""),n&&n=="us-tv"&&(n="tv");
var r=e.size,i;
n=n.replace("-movies","").replace("-movie","");
var s=["ai","ag","bh","bb","bz","bm","bw","vg","kh","ky","dm","gm","gd","jo","la","fm","kn","ug","ye","zw"],o=["am","az","bf","td","eg","sa","tn","tm"],u=["au-oflc","ca-chvrs","de-fsk","fr-tv","pg","tr","au-tv","ca-tv","de-tv","ke","om","sg","th","sk"],a=["fr-tv","ca-tv","au-tv"],f=["sg","th"],l=this.systems_that_have_new_logos;
if(s.indexOf(n)!=-1)n="mpaa";
else if(o.indexOf(n)!=-1){n="mpaa";
if(e.value==900)return null}else{if(u.indexOf(n)!=-1){var c=e.value;
return this.is2xLegacyLogo=!0,this.isMaskedLegacyLogo=!0,a.indexOf(n)!=-1&&(this.isMaskedLegacyLogo=!1),f.indexOf(n)!=-1&&(this.is2xLegacyLogo=!1),i=t+"video-ratings/"+n+c,r&&(i+="-"+r),i+=".png",i}if(l.indexOf(n)!=-1){var c=e.name.toLowerCase();
r=r&&r.match(/xsm|sm|med|lg/)||"lg",i=t+"video-ratings/"+n+"/"+c,i+="-"+r;
var h=window.devicePixelRatio||Device.pixelRatio;
return h>=2&&(i+="@"+h+"x"),i+=".png",i}}var c=e.filename?e.filename:e.name.toLowerCase().replace(" ","-");
i=t,n.length&&(i+=n+"/"),i+=c,r&&(i+="-"+r);
if(e.respectPixelRatio){var h=window.devicePixelRatio||Device.pixelRatio;
h>=2&&(i+="@"+h+"x")}return i+=".png",i}};
var ColorUtil=function(){var e,t,n,r=[],i,o=95.0456,u=100,a=108.9058,f=function(t){if(typeof t=="string")return t.indexOf("%")>0?parseFloat(t)/100:parseFloat(t);
if(typeof t=="number")return t;
throw{error:"InvalidFormat",message:"Argument "+t+" is not a number."}},l=function(t){return t=f(t),t>1||t<-1?t/100:t},c=function(t,n,r){return Math.max(Math.min(f(t),f(r)),f(n))},p=function(t){return t===+t&&t===(t|0)},d=function(t){return t===+t&&t!==(t|0)},v=function(s,o,u){return s=f(s),o=f(o),u=f(u),p(s)&&p(o)&&p(u)?(s=c(s,0,255),o=c(o,0,255),u=c(u,0,255),e=s/255,t=o/255,n=u/255):(e=c(s,0,1),t=c(o,0,1),n=c(u,0,1),s=Math.round(e*255),o=Math.round(t*255),u=Math.round(n*255)),r=[s,o,u],{r:s,g:o,b:u}},m=function(t){return typeof t=="undefined"||t==null||t===""?t=1:(t=l(t),t=c(t,0,1)),t},g=function(t){return/(^#?[0-9A-F]{6}$)|(^#?[0-9A-F]{3}$)/i.test(t)},y=function(t){return/[\d.]{1,3}/gi.test(t)},b=function(t){return t.match(/[\d.]{1,3}/gi)};
return{parseColor:function(e,t){var n,r;
return e==null?(n=v(0,0,0),r=m(t)):e instanceof Color?(n=v(e.rgb.r.color.rgb.g,e.rgb.b),r=m(e.alpha)):e.r!=null?(n=v(e.r,e.g,e.b),r=m(e.alpha||1)):Array.isArray(e)&&e.length>=3?(n=v(e[0],e[1],e[2]),r=m(e.length>3&&typeof t=="undefined"?e[3]:t)):!g(e)&&(e.indexOf("rgb")>-1||e.match(/[\d.]{1,3}/gi)!=null&&e.match(/[\d.]{1,3}/gi).length>=3)?(e=e.match(/[\d.]{1,3}/gi),n=v(e[0],e[1],e[2]),r=m(e.length>3&&typeof t=="undefined"?e[3]:t)):e.indexOf("hsv")>-1?(e=e.match(/[\d.%]{1,3}/gi),n=this.HSVtoRGB(e[0],e[1],e[2]),r=m(e.length>3&&typeof t=="undefined"?e[3]:t)):e.indexOf("hsl")>-1?(e=b(e),n=this.HSLtoRGB(e[0],e[1],e[2]),r=m(e.length>3&&typeof t=="undefined"?e[3]:t)):g(e)&&(n=this.HEXtoRGB(e),r=m(t)),{rgb:n,alpha:r}},setOpacity:function(e){return m(e)},getHue:function(r,i,s){var o=0;
r!=null&&v(r,i,s);
var u=Math.max(e,t,n),a=Math.min(e,t,n),f=u-a;
switch(u){case e:o=(t-n)/f+(t<n?6:0);
break;case t:o=(n-e)/f+2;
break;case n:o=(e-t)/f+4;
break;default:o=0}return o*=60,o<0&&(o+=360),o},RGBtoHEX:function(e,t,n){e!=null&&v(e,t,n);
var i=r.map(function(e){return e=e.toString(16),e.length===1?"0"+e:e}).join("");
return i},HEXtoRGB:function(e){if(g(e)){e.indexOf("#")===0&&(e=e.substr(1));
var t=0,n=0,r=0;
return e.length===3?(e=e.split("").map(function(e){return parseInt(e+e,16)}),t=e[0],n=e[1],r=e[2],rgb=v(t,n,r)):e.length>=6&&(t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2,2),16),r=parseInt(e.substr(4,2),16),rgb=v(t,n,r)),{r:t,g:n,b:r}}throw{error:"InvalidFormat",message:e+" is not a valid hex value."}},RGBtoHSL:function(r,i,o){r!=null&&v(r,i,o);
var u=Math.max(e,t,n),a=Math.min(e,t,n),f=(u+a)/2,l=u-a;
return l===0?h=s=0:(s=f>0?l/(1-Math.abs(2*f-1)):0,h=this.getHue()),{h:h,s:s,l:f}},HSLtoRGB:function(e,t,n){if(e!=null&&t!=null&&n!=null){typeof e=="string"&&e.indexOf("%")>0&&(e=f(e)*360),e=c(e,0,360),t=l(Math.abs(t)),n=l(Math.abs(n));
var r=0,i=0,s=0;
if(t!==0||n!==0){var o=n<=.5?n*(1+t):n+t-n*t,u=n+n-o,a=function(e){e=e<0?e+1:e>1?e-1:e;
var t;
return e*6<1?t=u+(o-u)*6*e:e<.5?t=o:e*3<2?t=u+(o-u)*(2/3-e)*6:t=u,t};
r=a(e+1/3),i=a(e),s=a(e-1/3)}return v(r,i,s)}throw{error:"InvalidFormat",message:"NULL is not a valid argument."}},RGBtoHSV:function(r,i,o){r!=null&&v(r,i,o);
var u=Math.max(e,t,n),a=Math.min(e,t,n),f=u-a,l=u;
return f===0?h=s=0:(s=f/l,h=this.getHue()),{h:h,s:s,v:l}},HSVtoRGB:function(e,t,n){if(e!=null&&t!=null&&n!=null){typeof e=="string"&&e.indexOf("%")>0&&(e=f(e)*360),e=c(f(e),0,360),t=l(Math.abs(t)),n=l(Math.abs(n));
var r=0,i=0,s=0;
if(t===0&&n!==0)r=i=s=Math.round(n*255);
else if(t!==0&&n!==0){var o=e/60,u=o|0,a=n*t,h=n-a,p=a*(1-Math.abs(o%2-1))+h;
a+=h;
switch(u){case 0:r=a,i=p,s=h;
break;case 1:r=p,i=a,s=h;
break;case 2:r=h,i=a,s=p;
break;case 3:r=h,i=p,s=a;
break;case 4:r=p,i=h,s=a;
break;case 5:r=a,i=h,s=p;
break;default:r=0,i=0,s=0}}return v(r,i,s)}throw{error:"InvalidFormat",message:"NULL is not a valid argument."}},RGBtoXYZ:function(r,i,s){r!=null&&v(r,i,s);
var o=0,u=0,a=0,f=0,l=0,c=0;
return r=(e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)*100,i=(t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)*100,s=(n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)*100,o=r*.412453+i*.35758+s*.180423,u=r*.212671+i*.71516+s*.072169,a=r*.019334+i*.119193+s*.950227,{x:o,y:u,z:a}},XYZtoRGB:function(e,t,n){if(e!=null&&t!=null&&n!=null){e=c(Math.abs(e),0,o)/100,t=c(Math.abs(t),0,u)/100,n=c(Math.abs(n),0,a)/100;
var r=e*3.240479+t*-1.53715+n*-0.498535,i=e*-0.969256+t*1.875992+n*.041556,s=e*.055648+t*-0.204043+n*1.057311,f=function(e){return e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e};
return r=f(r),i=f(i),s=f(s),v(r,i,s)}throw{error:"InvalidFormat",message:"NULL is not a valid argument"}},RGBtoLab:function(e,t,n){e!=null&&v(e,t,n);
var r=this.RGBtoXYZ(),i=r.x/o,s=r.y/u,f=r.z/a,l=0,c=0,h=0,p=7.787037037037035,d=function(e){return e>.008856?Math.pow(e,1/3):p*e+.13793103448275862};
return i=d(i),s=d(s),f=d(f),l=116*s-16,c=500*(i-s),h=200*(s-f),{L:l,a:c,b:h}},LABtoRGB:function(e,t,n){if(e!=null&&t!=null&&n!=null){e=c(e,0,100),t=c(t,-128,128),n=c(n,-128,128);
var r=(e+16)/116,i=t/500+r,s=r-n/200,f=7.787037037037035,l=function(e){var t=Math.pow(e,3);
return t>.008856?t:(e-.13793103448275862)/f};
return i=l(i),r=l(r),s=l(s),i*=o,r*=u,s*=a,this.XYZtoRGB(i,r,s)}throw{error:"InvalidFormat",message:"NULL is not a valid argument"}},changeHue:function(e,t,n,r){typeof e=="string"&&e.indexOf("%")>0&&(e=parseFloat(e)*3.6),t!=null&&v(t,n,r),e=c(e,0,360);
if(e===0)return this;
e%=360;
var i=this.RGBtoHSL(),s=(i.h+e)%360;
return s<0&&(s+=360),this.HSLtoRGB(s,i.s,i.l)},changeBrightness:function(e,t,n,r){t!=null&&v(t,n,r),e=this.number(e),e=e>1||e<-1?e/100:e;
var i=this.RGBtoHSV(),s=i.v+e;
return s=c(s,0,1),this.HSVtoRGB(i.h,i.s,s,i.a)},changeLightness:function(e,t,n,r){t!=null&&v(t,n,r),e=f(e),e=e<=.99&&e>=-0.99?e*100:e;
var i=this.RGBtoLab(),s=i.L+e;
return s=c(s,0,100),this.LABtoRGB(s,i.a,i.b)},changeSaturation:function(e,t,n,r){t!=null&&v(t,n,r),e=f(e),e=e>1||e<-1?e/100:e;
var i=this.RGBtoHSV(),s=i.s+e;
return s=c(s,0,1),this.HSVtoRGB(i.h,s,i.v,i.a)}}}(),Color=function(t,n){this.rgb={},this.alpha=1,this.init(t,n)};
Color.prototype.init=function(t,n){var r=ColorUtil.parseColor(t,n);
this.rgb=r.rgb,this.alpha=r.alpha},Color.prototype.getAlpha=function(){return this.alpha},Color.prototype.setAlpha=function(t){return t>=0&&t<=1&&(this.alpha=t),this},Color.prototype.getRGB=function(){return this.rgb},Color.prototype.getHEX=function(){return this.hex||(this.hex=ColorUtil.RGBtoHEX(this.rgb.r,this.rgb.g,this.rgb.b)),this.hex},Color.prototype.getHSL=function(){return this.hsl||(this.hsl=ColorUtil.RGBtoHSL(this.rgb.r,this.rgb.g,this.rgb.b)),this.hsl},Color.prototype.getHSV=function(){return this.hsv||(this.hsv=ColorUtil.RGBtoHSV(this.rgb.r,this.rgb.g,this.rgb.b)),this.hsv},Color.prototype.getXYZ=function(){return this.xyz||(this.xyz=ColorUtil.RGBtoXYZ(this.rgb.r,this.rgb.g,this.rgb.b)),this.xyz},Color.prototype.getLab=function(){return this.lab||(this.lab=ColorUtil.RGBtoLab(this.rgb.r,this.rgb.g,this.rgb.b)),this.lab},Color.prototype.getHue=function(){return this.hue||(this.hue=ColorUtil.getHue(this.rgb.r,this.rgb.g,this.rgb.b)),this.hue},Color.prototype.lighten=function(t){var n=ColorUtil.changeLightness(t,this.rgb.r,this.rgb.g,this.rgb.b),r=new Color(n,this.alpha);
return r},Color.prototype.darken=function(t){var n=ColorUtil.changeLightness(-1*Math.abs(t),this.rgb.r,this.rgb.g,this.rgb.b),r=new Color(n,this.alpha);
return r},Color.prototype.saturate=function(t){var n=ColorUtil.changeSaturation(t,this.rgb.r,this.rgb.g,this.rgb.b),r=new Color(n,this.alpha);
return r},Color.prototype.desaturate=function(t){var n=ColorUtil.changeSaturation(-1*Math.abs(t),this.rgb.r,this.rgb.g,this.rgb.b),r=new Color(n,this.alpha);
return r},Color.prototype.greyscale=function(){var t=ColorUtil.changeSaturation(-1,this.rgb.r,this.rgb.g,this.rgb.b),n=new Color(t,this.alpha);
return n},Color.prototype.toString=function toString(e,t){typeof e!="undefined"&&(e=e.toLowerCase()),t=typeof t!="undefined"?t+2:2;
var n,r,i=Math.pow(10,Number(t));
switch(e){case"rgb":case"rgba":var s=this.rgb.r+","+this.rgb.g+","+this.rgb.b;
n=this.alpha<1?"rgba("+s+","+this.alpha+")":"rgb("+s+")";
break;case"hex":n="#"+this.getHEX();
break;case"hsl":case"hsla":r=this.getHSL(),n=r.h.toFixed(t-2)+", "+(r.s*100).toFixed(t-2)+"%, "+(r.l*100).toFixed(t-2)+"%",n=r.a<1?"hsla("+n+", "+r.a+")":"hsl("+n+")";
break;case"hsv":case"hsva":r=this.getHSV(),n=r.h.toFixed(t-2)+", "+(r.s*100).toFixed(t-2)+"%, "+(r.v*100).toFixed(t-2)+"%",n=r.a<1?"hsva("+n+", "+r.a+")":"hsv("+n+")";
break;default:this.alpha<1?n="rgba("+this.rgb.r+","+this.rgb.g+","+this.rgb.b+", "+this.alpha+")":n="#"+this.getHEX()}return n},String.prototype.getColor=function(){return new Color(this.valueOf())},String.prototype.getColorWithOpacity=function(e){return new Color(this.valueOf(),e)},String.prototype.getCSSColor=function(){return this.getColor().toString()},String.prototype.setRGBA=function(e){console.log("Deprecated - use getColorWithOpacity(alpha) instead.");
var t="rgba(";
for(var n in this.getColor().rgb)t+=this.getColor().rgb[n]+", ";
return t+=e+")",t},its.sf.ContentRatingsManager||(its.sf.ContentRatingsManager={}),its.sf.ContentRatingsManager.createFromContent=function(e){var t=null;
if(e.contentRatingsBySystem&&Object.keys(e.contentRatingsBySystem).length>0)t=e.contentRatingsBySystem;
else{var n=e.contentRating;
n&&(t={},t[n.system]={advisiories:n.advisories,name:n.name,rank:n.rank,value:n.value,variantUrl:n.riaaVariantUrl})}return its.sf.ContentRatingsManager.create(t)},its.sf.ContentRatingsManager.legacyContentRating=function(e){var t=its.sf.ContentRatingsManager.createFromContent(e);
return t&&t.legacyContentRating()},its.sf.ContentRatingsManager.create=function(e){if(!e)return null;
var t=its.Logger.named("its.sf.ContentRatingsManager"),n=99,r=1,i=null;
return{advisoryInfo:function(){var e=this;
return{advisories:function(){var t=e.ratingForAppsApple();
return t.rating&&t.rating.advisories?t.rating.advisories:[]},ratedForTheFollowingAdvisoriesText:function(){var t=e.ratingForAppsApple();
if(!t)return null;
var i=t.rating,s=null;
return i.rank==r?s=its.loc("MXSoftwareLockupRating.Rated4Plus"):i.rank==n?s=its.loc("SFSoftwareRating.Notyetrated"):s=its.loc("MXSoftwareLockupRating.RatedForTheFollowing",{ratingName:i.name}),s}}},isClean:function(){var t=e.riaa||e.RIAA;
return t&&t.name==="Clean"},isExplicit:function(){var t=e.riaa||e.RIAA;
return t&&t.name==="Explicit"},legacyContentRating:function(){if(!i){var t,n;
if(e.appsApple)t=this.ratingForAppsApple();
else{var r=Object.keys(e)[0];
t={rating:e[r],systemName:r}}n=t.rating,n!=null&&(i={advisories:n.advisories,name:n.name,rank:n.rank,riaaVariantUrl:n.variantUrl,system:t.systemName?t.systemName.toUpperCase():null,value:n.value})}return i},ratingForAppsApple:function(){var n=e.appsApple;
return n?{systemName:"appsApple",rating:e.appsApple}:(t.error("Could not find rating for Apple's app rating system"),null)},ratingsInDisplayOrder:function(){var e=[],t=this.ratingForAppsApple();
t&&e.push(t);
var n=this.ratingsOtherThanAppsApple();
for(var r=0;
r<n.length;
r++)e.push(n[r]);
return e},ratingsOtherThanAppsApple:function(){var t=[];
for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];
n!="appsApple"&&t.push({systemName:n,rating:r})}return t},variantUrl:function(){var t=e.riaa||e.RIAA;
return t&&t.variantUrl}}},its.sf.ContentSorter=Class.create("its.sf.ContentSorter",{initialize:function(e,t,n,r,i,s){this._logger=its.Logger.named("its.sf.ContentSorter"),this._adamIds=its.isDefinedNonNull(t)?t:[],this._sortUrlParams=n,this._sortedAdamIdsCache={},this._initialSortOrder=its.isDefinedNonNull(r)?r:its.sf.ContentSorter.SortOrder.INITIAL,this._initialSortDirection=its.isDefinedNonNull(i)?i:its.sf.ContentSorter.defaultSortDirection(this._initialSortOrder),this._works=its.isDefinedNonNull(s)?s:null,this._cacheSortedAdamIds(this._initialSortOrder,this._initialSortDirection,t),this._storePlatform=e},sort:function(e){if(its.isDefinedNonNull(e.sortOrder)){e.sortDirection=its.isDefinedNonNull(e.sortDirection)?e.sortDirection:its.sf.ContentSorter.defaultSortDirection(e.sortOrder);
var t=this.adamIds(e.sortOrder,e.sortDirection);
if(t!=null&&e.callback)e.callback(t);
else{var n=function(t){this._sortResponse(e,t)}.bind(this),r=function(){this._sortFailure(e)}.bind(this),i=its.serverData.constants.sortBaseUrl;
this._refreshSortUrlParams(),this._sortUrlParams.sort=e.sortOrder.value,this._sortUrlParams.sortDirection=e.sortDirection,its.isDefinedNonNull(e.numIdsToPrewarm)&&(this._sortUrlParams.numIdsToPrewarm=e.numIdsToPrewarm),its.isDefinedNonNull(e.profile)&&(this._sortUrlParams.profile=e.profile),this._makeSortRequest(its.url.appendUrlParameters(i,this._sortUrlParams),n,r)}}},_makeSortRequest:function(e,t,n){if(its.sf.Platform.isITML()&&typeof itms!="undefined")its.sf14.Util.getJSON(e,t,n);
else{var r=function(e){var n=JSON.parse(e.responseText);
t(n)};
iTSInclude.makeHttpRequest({url:e,successCallback:r,failureCallback:n})}},_refreshSortUrlParams:function(){delete this._sortUrlParams.sort,delete this._sortUrlParams.sortDirection,delete this._sortUrlParams.numIdsToPrewarm,delete this._sortUrlParams.profile},_sortResponse:function(e,t){if(its.isDefinedNonNull(t.error))its.dt6.ErrorUtil.displayFullPageError();
else{var n=t.storePlatformData;
its.isDefinedNonNull(n)&&this._storePlatform&&this._storePlatform.cacheStorePlatformDataForProfiles(n),this._cacheSortedAdamIds(e.sortOrder,e.sortDirection,t.adamIds),e.callback(t.adamIds)}},_sortFailure:function(e){console.log("Sort Failure, returning contentIds in original order"),e.callback(this._adamIds)},_cacheSortedAdamIds:function(e,t,n){if(its.isDefinedNonNull(e)&&its.isDefinedNonNull(t)){var r=null;
t==its.sf.ContentSorter.SortDirection.ASCENDING?r=its.sf.ContentSorter.SortDirection.DESCENDING:r=its.sf.ContentSorter.SortDirection.ASCENDING,this._sortedAdamIdsCache[this._cacheKey(e,t)]=n.slice();
if(this._sortUrlParams.entityType!=its.sf.ContentSorter.EntityType.WORK)this._sortedAdamIdsCache[this._cacheKey(e,r)]=n.slice().reverse();
else if(e==its.sf.ContentSorter.SortOrder.INITIAL&&this._works){var i=n.slice().reverse(),s=0;
this._works.childToWork||(this._works.childToWork={}),n=[];
for(var o=0;
o<i.length;
o++){var u=i[o],a=this._works.childToWork[u];
if(this._works[u])continue;a&&s!=a&&(n.push(a),s=a),n.push(u)}this._sortedAdamIdsCache[this._cacheKey(e,r)]=n}}},adamIds:function(e,t){var n=null;
if(its.isDefinedNonNull(e)){var r=its.isDefinedNonNull(t)?t:its.sf.ContentSorter.defaultSortDirection(e),i=this._cacheKey(e,r);
n=its.isDefinedNonNull(this._sortedAdamIdsCache[i])?this._sortedAdamIdsCache[i]:null}return n},_cacheKey:function(e,t){return e.value+"_"+t}}),its.sf.ContentSorter.defaultSortDirection=function(e){var t=its.sf.ContentSorter.SortDirection.DESCENDING;
switch(e){case its.sf.ContentSorter.SortOrder.ARTIST_NAME:case its.sf.ContentSorter.SortOrder.DISC_NUMBER:case its.sf.ContentSorter.SortOrder.DURATION:case its.sf.ContentSorter.SortOrder.INITIAL:case its.sf.ContentSorter.SortOrder.NAME:case its.sf.ContentSorter.SortOrder.PLAYLIST_NAME:case its.sf.ContentSorter.SortOrder.PRICE:case its.sf.ContentSorter.SortOrder.TRACK_NUMBER:t=its.sf.ContentSorter.SortDirection.ASCENDING}return t},its.sf.ContentSorter.SortOrder=function(e,t){this.name=e,this.value=t},its.sf.ContentSorter.SortOrder={INITIAL:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.Initial"),-1),NAME:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.Name"),its.serverData.constants.SFSortOrder.Name.id),FEATURED:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.Featured"),its.serverData.constants.SFSortOrder.Featured.id),RELEASE_DATE:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.ReleaseDate"),its.serverData.constants.SFSortOrder.ReleaseDate.id),POPULARITY:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.Popularity"),its.serverData.constants.SFSortOrder.Popularity.id),PRICE:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.Price"),its.serverData.constants.SFSortOrder.Price.id),ARTIST_NAME:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.ArtistName"),its.serverData.constants.SFSortOrder.ArtistName.id),PLAYLIST_NAME:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.PlaylistName"),its.serverData.constants.SFSortOrder.PlaylistName.id),DURATION:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.Duration"),its.serverData.constants.SFSortOrder.Duration.id),DISC_NUMBER:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.DiscNumber"),its.serverData.constants.SFSortOrder.DiscNumber.id),TRACK_NUMBER:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.TrackNumber"),its.serverData.constants.SFSortOrder.TrackNumber.id),ALL_TIME_BEST_SELLERS:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.AllTimeBestSellers"),its.serverData.constants.SFSortOrder.AllTimeBestSellers.id),CMC_RECOMMENDED:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.CMCRecommended"),its.serverData.constants.SFSortOrder.CmcRecommended.id),DATE_ADDED:new its.sf.ContentSorter.SortOrder(its.loc("DI6.SortOrder.DateAdded"),its.serverData.constants.SFSortOrder.DateAdded.id),MOST_RECENT:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.MostRecent"),its.serverData.constants.SFSortOrder.MostRecent.id),SERIES_ORDER:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.SeriesOrder"),its.serverData.constants.SFSortOrder.SeriesOrder.id),RECENT_BEST_SELLERS:new its.sf.ContentSorter.SortOrder(its.loc("DT6.SortOrder.RecentBestSellers"),its.serverData.constants.SFSortOrder.RecentBestSellers.id)},its.sf.ContentSorter.SortOrder.sortOrdersForIds=function(e){var t=[];
if(e)for(var n=0;
n<e.length;
n++)sortOrderId=e[n],sortOrderForId=its.sf.ContentSorter.SortOrder.sortOrderForId(sortOrderId),sortOrderForId!=null&&t.push(sortOrderForId);
return t},its.sf.ContentSorter.SortOrder.sortOrderForId=function(e){if(!its.isDefined(its.sf.ContentSorter.sortOrderMapForLookup)){its.sf.ContentSorter.sortOrderMapForLookup={};
var t=its.reflect.values(its.sf.ContentSorter.SortOrder);
for(var n=0;
n<t.length;
n++){var r=t[n];
its.sf.ContentSorter.sortOrderMapForLookup[r.value]=r}}return its.sf.ContentSorter.sortOrderMapForLookup[e]},its.sf.ContentSorter.SortDirection={ASCENDING:1,DESCENDING:2},its.sf.ContentSorter.EntityType={ARTIST:its.serverData.constants.SFEntityType.Artist.id,CMC:its.serverData.constants.SFEntityType.Cmc.id,MULTI_ROOM:its.serverData.constants.SFEntityType.MultiRoom.id,PLAYLIST:its.serverData.constants.SFEntityType.Playlist.id,ROOM:its.serverData.constants.SFEntityType.Room.id,SEARCH:its.serverData.constants.SFEntityType.Search.id,TOP_CONTENTS:its.serverData.constants.SFEntityType.TopContents.id,WE_MIX:its.serverData.constants.SFEntityType.WeMix.id,WISHLIST:its.serverData.constants.SFEntityType.Wishlist.id,WORK:its.serverData.constants.SFEntityType.Work.id,THEY_MIX:its.serverData.constants.SFEntityType.TheyMix.id,TOP_AUTHORS:its.serverData.constants.SFEntityType.TopAuthors.id},its.sf.ParentalRatingUtil={_preferences:its.sf.Platform.isITML()?Settings.Restrictions:its.sf.Platform.MacAppStore()?{}:iTunes.getPreferences(),doesPass:function(e){var t=e.kind,n=its.sf.ContentRatingsManager.createFromContent(e),r=n&&n.legacyContentRating(),i,s=t==its.sf.StorePlatform.Kind.ShortFilm||t==its.sf.StorePlatform.Kind.Movie||t==its.sf.StorePlatform.Kind.MovieBundle,o=t==its.sf.StorePlatform.Kind.TvEpisode||t==its.sf.StorePlatform.Kind.TvSeason;
if(s||o){i=s?this.parentalThresholdMovies():this.parentalThresholdTV(),r=r||{value:0};
if(r.value>i)return!1}else if(r)if(r.system=="RIAA"){if(t==its.sf.StorePlatform.Kind.Audiobook){if(this.parentalThresholdBooks())return r.name!=="Explicit"}else if(this.parentalThresholdMusic()===!0&&r.value)return!1}else{if(this.parentalThresholdBooks()&&its.sf.StorePlatformUtil.isAnyEbookKind(t))return r.name!=="Explicit";
if(r.system=="APPSAPPLE"||r.system=="GAMES")if(r.value>this.parentalThresholdApps())return!1}if(t==its.sf.StorePlatform.Kind.Podcast||t==its.sf.StorePlatform.Kind.PodcastEpisode)if(this._preferences===!1)return!1;
return!0},parentalThresholdMusic:function(){return its.sf.Platform.isITML()?!this._preferences.allowsExplicit:this._preferences.parentalThresholdMusic},parentalThresholdMovies:function(){return its.sf.Platform.isITML()?this._preferences.maxMovieRank:this._preferences.parentalThresholdMovies},maxMovieRatingForCountry:function(e){return its.sf.Platform.isITML()?this._preferences.maxMovieRatingForCountry(e):null},parentalThresholdTV:function(){return its.sf.Platform.isITML()?this._preferences.maxTVShowRank:this._preferences.parentalThresholdTV},maxTVShowRatingForCountry:function(e){return its.sf.Platform.isITML()?this._preferences.maxTVShowRatingForCountry(e):null},parentalThresholdBooks:function(){return its.sf.Platform.isITML()?!this._preferences.allowsErotica:this._preferences.parentalThresholdBooks},parentalThresholdApps:function(){return its.sf.Platform.isITML()?this._preferences.maxAppRank:this._preferences.parentalThresholdApps},maxAppRating:function(){return its.sf.Platform.isITML()?this._preferences.maxAppRating:null},isAppInstallationAllowed:function(){return its.sf.Platform.isITML()?this._preferences.appInstallationAllowed:!0},handleParentalRatingChange:function(){its.notifications.publish(its.sf.ParentalRatingUtil.Events.PARENTAL_RATING_CHANGE,{})}},its.sf.ParentalRatingUtil.Events={PARENTAL_RATING_CHANGE:"its.sf.ParentalRatingUtil.Events.PARENTAL_RATING_CHANGE"},its.sf.Platform.isITML()?Settings.onRestrictionsChange=its.sf.ParentalRatingUtil.handleParentalRatingChange:window.addEventListener("parentalthresholdprefchanged",its.sf.ParentalRatingUtil.handleParentalRatingChange),its.sf.ProductPageUtil={bookSeriesInfoString:function(e){var t=e.ebookInfo?e.ebookInfo.seriesInfo:null;
return t?t.sequenceDisplayLabel?its.loc("SFBookSeries.seriesInfoNameWithSequenceDisplayLabel",{sequenceDisplayLabel:t.sequenceDisplayLabel,seriesName:t.seriesName}):t.seriesName:null},descendingComparatorForObjectsWithDate:function(e,t){var n=new Date(e.date),r=new Date(t.date);
return r-n},isUniversalApp:function(e){var t=!1,n;
e&&(e.kind==its.sf.StorePlatform.Kind.MobileApp?n=e.deviceFamilies:e.kind==its.sf.StorePlatform.Kind.MobileAppBundle&&(n=e.designedForDeviceFamilies));
if(n){var r=n.indexOf("iphone")>=0,i=n.indexOf("ipad")>=0;
t=r&&i}return t},sizeString:function(e){var t,n;
e<1e3?(t="FileSize.bytes",n=1):e<999500?(t="FileSize.KB",n=1e3):e<9995e5?(t="FileSize.MB",n=1e6):(t="FileSize.GB",n=1e9);
var r=e/n,i=0;
return r<9.995&&n>=1e9?i=2:r<99.95&&n>=1e6&&(i=1),its.loc(t,{size:its.formatNumber(r.toFixed(i))})},sizeScale:function(e){return e<1e3?its.loc("SF.bytes"):e<999500?its.loc("SF.KB"):e<9995e5?its.loc("SF.MB"):its.loc("SF.GB")},formattedSize:function(e){var t;
e<1e3?t=1:e<999500?t=1e3:e<9995e5?t=1e6:t=1e9;
var n=e/t,r=0;
return n<9.995&&t>=1e9?r=2:n<99.95&&t>=1e6&&(r=1),its.formatNumber(n.toFixed(r))},localizedFileSizeInformationForVideo:function(e){var t="";
return e.size1080p&&e.size1080p>0&&(t=t+this.sizeString(e.size1080p)+" "+its.loc("1080PHDSuffix")),e.size720p&&e.size720p>0&&(t!=""&&(t+=its.loc("FileSizeSeparator")),t=t+this.sizeString(e.size720p)+" "+its.loc("720PHDSuffix")),e.sizeSd&&e.sizeSd>0&&(t!=""&&(t+=its.loc("FileSizeSeparator")),t=t+this.sizeString(e.sizeSd)+" "+its.loc("SDSuffix")),e.sizeSdPlus&&e.sizeSdPlus>0&&(t!=""&&(t+=its.loc("FileSizeSeparator")),t+=this.sizeString(e.sizeSdPlus)),t},sharedPurchasesAvailableText:function(e,t){var n;
if(e){var r=new Date(e),i=new Date(1051488e6),s=new Date;
r<=i?n=its.loc("SharedPurchases.Available"):r<s?n=its.loc("SharedPurchases.AvailableAfterDate",{date:t}):n=its.loc("SharedPurchases.NotAvailable")}else n=its.loc("SharedPurchases.NotAvailable");
return n}},window.its||(window.its={}),window.its.sf||(window.its.sf={}),its.sf.PurchasesUtil={NO_CONTENT_MESSAGE_MAP:{normal:{self:{music:"Purchases.NoContent.Music.Download_message",movies:"Purchases.NoContent.Movies.Download_message",tvShows:"Purchases.NoContent.TVShows.Download_message",mobileSoftware:"Purchases.NoContent.MobileSoftware.Download_message",eBooks:"Purchases.NoContent.EBooks.Download_message",audiobooks:"Purchases.NoContent.Audiobooks.Download_message"},member:{music:"Purchases.NoContent.Member.Music.Download_message",movies:"Purchases.NoContent.Member.Movies.Download_message",tvShows:"Purchases.NoContent.Member.TVShows.Download_message",mobileSoftware:"Purchases.NoContent.Member.MobileSoftware.Download_message",eBooks:"Purchases.NoContent.Member.EBooks.Download_message",audiobooks:"Purchases.NoContent.Member.Audiobooks.Download_message"}},hidden:{self:{music:"Purchases.NoContent.Music.Hidden_message",movies:"Purchases.NoContent.Movies.Hidden_message",tvShows:"Purchases.NoContent.TVShows.Hidden_message",mobileSoftware:"Purchases.NoContent.MobileSoftware.Hidden_message",eBooks:"Purchases.NoContent.EBooks.Hidden_message",audiobooks:"Purchases.NoContent.Audiobooks.Hidden_message"},member:{}}},setSelectedSPMember:function(e){this._selectedSPMember=e},getSelectedSPMember:function(){return this._selectedSPMember},noContentMessageGenerator:function(e,t,n,r){var i=its.sf.PurchasesUtil.NO_CONTENT_MESSAGE_MAP[e][t][n],s={};
return r&&(s.displayName=r),its.loc(i,s)},iOSSpBannerMessageForKey:function(e){var t="iTunes.openURL('prefs:root=CASTLE&path=FAMILY')";
return this._commonSpBannerMessageForKey(e,t)},desktopSpBannerMessageForKey:function(e){var t="iTunes.launchiCloudFamilySettings()";
return this._commonSpBannerMessageForKey(e,t)},_commonSpBannerMessageForKey:function(e,t){var n={},r=this.createMessageLinkElement(its.loc("Purchases.NotConfigured.LinkLabel"),t);
n.iCloudLink=r;
var i,s;
return e=="Purchases.AccountsMismatched.Message"?(i=its.loc("Purchases.AccountsMismatched.LearnMoreLink"),s=its.loc("Purchases.AccountsMismatched.LearnMoreLinkLabel")):e=="Purchases.AccountsMismatched.Message.WithAccount"?(i=its.loc("Purchases.AccountsMismatched.LearnMoreLink"),s=its.loc("Purchases.AccountsMismatched.LearnMoreLinkLabel"),iTunes.appleAccountStore&&iTunes.appleAccountStore.primaryAppleAccount&&(n.iCloudAccount=iTunes.appleAccountStore.primaryAppleAccount.username)):e=="Purchases.SPAvailable.Message"&&(i=its.loc("Purchases.SPAvailable.LearnMoreLink"),s=its.loc("Purchases.SPAvailable.LearnMoreLinkLabel")),i&&(n.learnMoreLink=this.createMessageLinkElement(s,"iTunes.openURL('"+i+"')")),its.loc(e,n)},createMessageLinkElement:function(e,t){return'<a class="message-link" onclick="'+t+'">'+e+"</a>"},isSpBannerMessageDismissed:function(e){var t=!1,n=this._localStorageKeyForBannerMessageKey(e),r=iTunes.deviceLocalStorage;
return r?t=r.valueForKey(n):t=localStorage.getItem(n),t},dismissSpBannerMessage:function(e){var t=this._localStorageKeyForBannerMessageKey(e),n=iTunes.deviceLocalStorage;
n?n.setValue(t,"true"):localStorage.setItem(t,"true")},_localStorageKeyForBannerMessageKey:function(e){var t;
return iTunes.appleAccountStore&&iTunes.appleAccountStore.primaryAppleAccount&&(t=iTunes.appleAccountStore.primaryAppleAccount.dsID),t||(t="none"),"sf.purchases.dismissed."+t+"."+e},getSpMembersToDisplay:function(e,t){if(!e||e.length==0)return e;
var n=its.sf.Client.dsId(),r=its.sf.Client.iCloudDsid(),i=[],s=null;
for(var o=0;
o<e.length;
++o){var u=e[o];
u.isMe?s=u:i.push(u)}return t||(s||(s={displayName:its.loc("Purchases.MyPurchases"),iCloudDsid:r?r:"-1",iTunesPreferredDsid:n,isMe:!0}),i.unshift(s)),i},getSpmemberData:function(e,t){for(var n=0;
n<e.length;
++n){var r=e[n];
if(r.iCloudDsid==t)return r}},selectedLabel:function(e){return e.isMe?its.loc("Purchases.MyPurchases"):its.loc("Purchases.MemberPurchases",{displayName:e.displayName})},isPurchaseSharable:function(e,t){var n=!0;
if(e==null)n=!1;
else if(t!=null){var r=new Date(e),i=new Date(t);
n=i>r}return n}},its.sf.StorePlatform=Class.create("its.sf.StorePlatform",{initialize:function(e,t){this._logger=its.Logger.named(this.constructor.klassName),this._personalizedRequestQueue={},this._personalizedRequestTimeout=null,this._cache={},this._personalizedDataCache={},this._forceCMCOffer=!1,this._refreshPersonalizedDataCallback=this._refreshPersonalizedData.bind(this),its.sf.Platform.isITML()?its.sf.StorePlatform.REFRESH_PERSONALIZED_DATA_ON_BUY_DID_COMPLETE&&its.notifications.subscribe(its.sf14.Events.BUY_DID_COMPLETE,this._refreshPersonalizedDataCallback):(its.sf.StorePlatform.REFRESH_PERSONALIZED_DATA_ON_BUY_DID_COMPLETE&&window.addEventListener("buy-did-complete",this._refreshPersonalizedDataCallback),window.addEventListener("userchanged",this._refreshPersonalizedDataCallback)),e&&(this.cacheStorePlatformDataForProfiles(e,t),this._cacheExistingPersonalizedDataFromStorePlatformData(e.storePlatformData))},beginContentBatch:function(){this._batchedFetchRecords||(this._batchedFetchRecords={},this._hasBatchedAnyFetchRecords=!1)},submitContentBatch:function(){if(this._batchedFetchRecords){for(var e in this._batchedFetchRecords)if(this._batchedFetchRecords.hasOwnProperty(e)){var t=this._batchedFetchRecords[e];
this.fetchContent(t)}var n=this._hasBatchedAnyFetchRecords;
return delete this._batchedFetchRecords,n}},fetchContentBatched:function(e){if(this._batchedFetchRecords){this._hasBatchedAnyFetchRecords=!0;
var t=[e.profile,e.artworkProfile,!!e.suppressPersonalization,e.addKeys,e.omitKeys,e.dimensions].join(""),n=this._batchedFetchRecords[t];
n||(n={ids:[],onOKListeners:[],onErrorListeners:[],profile:e.profile,artworkProfile:e.artworkProfile,suppressPersonalization:e.suppressPersonalization,addKeys:e.addKeys,omitKeys:e.omitKeys,dimensions:e.dimensions},n.onOK=function(e,t){t.onOKListeners.forEach(function(n){var r={orderedKeys:[]};
n.ids.forEach(function(t){var n=e[t];
n&&r.orderedKeys.push(t),r[t]=n}),n.callback(r,t)})},n.onError=function(e,t){t.onErrorListeners.forEach(function(n){n(e,t)})},this._batchedFetchRecords[t]=n),its.array.pushAll(n.ids,e.ids);
var r=e.onOK||e.onOKHasAllContent||e.onOKMissingContent;
r&&n.onOKListeners.push({callback:r,ids:e.ids});
var i=e.onError;
i&&n.onErrorListeners.push(i)}else this.fetchContent(e)},fetchContent:function(e){if(!e)return;var t=its.isArray(e)?e:[e];
if(!t||t.length===0)return;var n=new its.sf._StorePlatformContext(t),r=n.allProfiles();
if(its.sf.StorePlatform.personalizeViaBuyButtonMetaData()){var i={};
for(var s=0;
s<r.length;
s++){var o=r[s];
i[o]=n.allIdsForPersonalizationForProfile(o)}this._queuePersonalizedDataRequest(i)}for(var u=0;
u<r.length;
u++){var a=r[u],f=n.allIdsForProfile(a),l=[];
for(var c=0;
c<f.length;
c++)(!this._cache[a]||!this._cache[a][f[c]])&&l.push(f[c]);
if(l.length==0){var h=function(e,t){return function(){this._handleFoundAllContentInCache(e,t)}}(n,a);
setTimeout(bind(this,h),1)}else this._sendStorePlatformContext(n,a,l)}},setForceCMCPersonalization:function(e){this._forceCMCOffer=e},cacheStorePlatformDataForProfile:function(e,t){var n={};
n[e]=t.results?t:{results:t},this.cacheStorePlatformDataForProfiles(n)},cacheStorePlatformDataForProfiles:function(e,t){if(e){var n={},r=Object.keys(e);
r.length>0;
for(var i=0;
i<r.length;
i++){var s=r[i];
n[s]=its.reflect.keys(e[s].results),this._cacheStorePlatformData(s,e[s])}t||this._queuePersonalizedDataRequest(n)}},_cacheStorePlatformData:function(e,t){var n=t.results,r={};
if(n){var i=Object.keys(n);
for(var s=0;
s<i.length;
s++){var o=i[s],u=n[o];
this._cacheContent(e,o,u,t.version);
if(u.children){var a=Object.keys(u.children);
for(var f=0;
f<a.length;
f++){var l=a[f],c=u.children[l];
this._cacheContent(its.sf.StorePlatform.Profiles.ITEM,l,c,t.version),r[its.sf.StorePlatform.Profiles.ITEM]?r[its.sf.StorePlatform.Profiles.ITEM].push(l):r[its.sf.StorePlatform.Profiles.ITEM]=[l]}}}this._mergePersonalizedDataIntoStorePlatformCache()}},getCachedContentDataArray:function(e,t){var n=[];
for(var r=0;
r<t.length;
r++){var i=this.getCachedData(t[r],e);
i&&n.push(i)}return n},getCachedData:function(e,t){var n=null;
if(t){var r=this._cache[t];
if(!r){var i=function(e){for(var t in its.sf.StorePlatform.ArtworkProfiles)if(its.sf.StorePlatform.ArtworkProfiles.hasOwnProperty(t)&&its.sf.StorePlatform.ArtworkProfiles[t]==e)return!0;
return!1};
if(i(t.lastIndexOf("-")+1)){var s=t.substr(0,t.lastIndexOf("-"));
r=this._cache[s]}}if(r){var o=r[e];
o&&(n=o)}}else{var u=this.getAllCachedData(e);
n=u.length>0?u[0]:null}return n},getCachedDataMap:function(e,t){var n={orderedKeys:[]},r=this._cache[e];
if(r)for(var i=0;
i<t.length;
i++){var s=t[i],o=r[s];
o&&(n[s]=o,n.orderedKeys.push(s))}return n},getCachedDataByProfiles:function(e,t){var n={};
for(var r in this._cache){var i=this._cache[r];
for(var s=0;
s<e.length;
s++){var o=e[s],u=i[o];
u&&(n[r]||(n[r]={results:{}}),u=t?Class.shallowClone(u):u,n[r].results[o]=u)}}return n},getCachedOffersArray:function(e){var t=this.getAllCachedData(e),n=[];
for(var r=0;
r<t.length;
r++){var i=t[r];
i.offers&&(n=this._unionOfferArrays(n,i.offers))}return n},_cacheContent:function(e,t,n,r){var i=this._cache[e];
i||(i={},this._cache[e]=i),n.version=r,i[t]=n},_cachedContentDataMap:function(e,t){var n={};
for(var r=0;
r<t.length;
r++){var i=this.getCachedData(t[r],e);
i&&(n[t[r]]=i)}return n},getAllCachedData:function(e){var t=[],n=its.reflect.keys(this._cache);
for(var r=0;
r<n.length;
r++){var i=this._cache[n[r]];
i[e]&&t.push(i[e])}return t},_handleFetchSuccess:function(e,t){var n=e.requestParamsForProfile(t);
for(var r=0;
r<n.length;
r++){var i=n[r],s=its.sf.StorePlatform.calculatedProfile(i.profile,i.artworkProfile),o=this._cachedContentDataMap(s,i.ids),u=[];
for(var a=0;
a<i.ids.length;
a++){var f=i.ids[a];
o[f]&&u.push(f)}o.orderedKeys=u;
var l=o.orderedKeys.length<i.ids.length;
i.onOKMissingContent&&l&&i.onOKMissingContent(o,i),i.onOKHasAllContent&&!l&&i.onOKHasAllContent(o,i),i.onOK&&i.onOK(o,i)}},_handleFoundAllContentInCache:function(e,t){var n=e.requestParamsForProfile(t);
for(var r=0;
r<n.length;
r++){var i=n[r],s=this._cachedContentDataMap(its.sf.StorePlatform.calculatedProfile(i.profile,i.artworkProfile),i.ids),o=[];
for(var u=0;
u<i.ids.length;
u++){var a=i.ids[u];
s[a]&&o.push(a)}s.orderedKeys=o,i.onOKHasAllContent&&i.onOKHasAllContent(s,i),i.onOK&&i.onOK(s,i)}},_handleFetchFailure:function(e,t,n){var r=e.requestParamsForProfile(t);
for(var i=0;
i<r.length;
i++){var s=r[i],o=s.onError;
o&&o(n,s)}},_sendStorePlatformContext:function(e,t,n){var r=its.sf.StorePlatform.BatchSizeByProfileOverride[t]||50,i=Math.ceil(n.length/r),s=0;
for(var o=0;
o<i;
o++)(function(){var u=n.slice(o*r,o*r+r),a=e.requestParamsForProfile(t)[0],f={id:u.join(","),p:a.profile,caller:its.sf.StorePlatform._clientCaller(),requestParameters:{},version:its.sf.StorePlatform._versionForLookups()};
a.platform&&(f.platform=a.platform),a.artworkProfile&&its.sf.StorePlatform._isUsingArtworkProfile()&&(f.artwork=a.artworkProfile+its.sf.StorePlatform.UrlArtworkExtension());
if(a.profile==its.sf.StorePlatform.Profiles.ARTWORK){f.p=its.sf.StorePlatform.Profiles.LOCKUP;
var l="kind,url,shortUrl,nameRaw,name,genres,genreNames,collectionName,artistName,releaseDate,contentRating,movieBundleAdamIds,offers,passType,userRating"}var c=function(n){this._cacheStorePlatformData(t,n),s++,s==i&&this._handleFetchSuccess(e,t)}.bind(this),h=function(n){this._handleFetchFailure(e,t,n)}.bind(this);
this._loadStoreContent(f,c,h)}).bind(this)()},_loadStoreContent:function(e,t,n){if(its.sf.Platform.isITML()&&typeof itms!="undefined")itms.loadStoreContent(e,function(e,r){var i=r||!e||!(e instanceof Object)||!Object.keys(e).length;
i?(window.ITSStopwatch&&ITSStopwatch.named("ITSLoadTimes").markElapsedTimeNamed("Platform fetch listeners notified",!0),n(r)):t(e)});
else{var r=its.url.appendUrlParameters(its.sf.StorePlatform.BASE_URL,e),i=new XMLHttpRequest;
i.onreadystatechange=bind(this,function(e){if(i.readyState==4)if(i.status==200){var r=its.string.evalJson(i.responseText);
t(r)}else window.ITSStopwatch&&ITSStopwatch.named("ITSLoadTimes").markElapsedTimeNamed("Platform fetch listeners notified",!0),n(i)}),r=this._setSignedRequestQueryParams(r),i.open("GET",r,!0),i.send()}},_setSignedRequestQueryParams:function(e){var t,n=Math.round((new Date).getTime()/1e3),r=its.serverData.properties["SF6.StorePlatform.whitelistParams"],i={};
for(var s=0;
s<r.length;
s++)i[r[s]]=!0;
var o="";
if(/[?]/.test(e)){var u=e.split("?")[1].split("&").sort();
for(var s=0;
s<u.length;
s++){var a=u[s].split("=");
a.length==2&&i[a[0]]&&(o+=a[1])}}var f=[n,iTunes.storefront,decodeURIComponent(o)].join("");
return t=encodeURIComponent(iTunes.signStorePlatformRequestData(f)),e+(e.indexOf("?")>=0?"&":"?")+"X-JS-SP-TOKEN="+t+"&X-JS-TIMESTAMP="+n},_fetchServerPostResponse:function(e,t,n,r){its.sf.Platform.isITML()&&typeof itms!="undefined"?its.sf14.Util.fetchServerPostResponse(e,t,n,r):iTSInclude.makeHttpRequest({url:e,formParams:t,successCallback:n,failureCallback:r})},_queuePersonalizedDataRequest:function(e){var t=its.reflect.keys(e);
for(var n=0;
n<t.length;
n++){var r=t[n],i=e[r];
this._personalizedRequestQueue[r]||(this._personalizedRequestQueue[r]={});
for(var s=0;
s<i.length;
s++){var o=i[s];
this._personalizedRequestQueue[r][o]=its.sf.StorePlatform.PersonalizationStates.QUEUED}}its.serverData.constants["its.sf.StorePlatform.disablePersonalizationQueue"]?this._fetchPersonalizedData():this._personalizedRequestTimeout==null&&(this._personalizedRequestTimeout=setTimeout(function(){this._fetchPersonalizedData(),clearTimeout(this._personalizedRequestTimeout),this._personalizedRequestTimeout=null}.bind(this),its.sf.StorePlatform.PERSONALIZATION_QUEUE_TIME))},_fetchPersonalizedData:function(){this._personalizedRequestTimeout=null;
if(its.sf.Client.dsId()){var e={},t=its.reflect.keys(this._personalizedRequestQueue);
for(var n=0;
n<t.length;
n++){var r=t[n],i=its.reflect.keys(this._personalizedRequestQueue[r]);
this._personalizedDataCache[r]||(this._personalizedDataCache[r]={});
var s=[];
for(var o=0;
o<i.length;
o++){var u=i[o];
if(u!=""+parseFloat(u))continue;its.isDefined(this._personalizedDataCache[r][u])||(this._personalizedDataCache[r][u]=its.sf.StorePlatform.PersonalizationStates.REQUESTED,s.push(i[o])),delete this._personalizedRequestQueue[r][u]}s.length>0&&(e[r]=s)}if(its.reflect.keys(e).length>0){var a=e;
if(this._forceCMCOffer||its.serverData.properties["DI6.PersonalizeCMCDataForLockups"]===!0)a.cmc=!0;
if(its.serverData.properties["DT6.PurchasesPage.PurchasesPageRequest"]===!0||typeof TabBar!="undefined"&&TabBar.selectedTab&&TabBar.selectedTab.identifier===its.sf14.PageController.PageTarget.PURCHASED)a.isPurchasesPageRequest=!0;
var f=its.sf.StorePlatform.BASE_PERSONALIZED_DATA_URL;
if(its.sf.PurchasesUtil){var l=its.sf.PurchasesUtil.getSelectedSPMember();
l&&l.iTunesPreferredDsid&&(f=its.url.appendUrlParameter(f,"spDsid",l.iTunesPreferredDsid))}var c=Math.floor(Math.random()*100),h=c==0,p=(new Date).getTime(),d=function(e){if(h){var t=its.Logger.named("its.sf.performance");
t.info(e,{startTime:p,endTime:(new Date).getTime()},!0)}};
this._fetchServerPostResponse(f,a,function(t){d("buyButtonMetadataSuccess"),this._cachePersonalizedData(JSON.parse(t.responseText),e)}.bind(this),function(t){d("buyButtonMetadataFailure"),this._personalizedDataFetchFailure(t,e)}.bind(this))}}},_refreshPersonalizedData:function(){if(its.sf.Client.dsId()&&its.sf.StorePlatform.personalizeViaBuyButtonMetaData()){var e={},t=its.reflect.keys(this._cache);
for(var n=0;
n<t.length;
n++){var r=t[n],i=its.reflect.keys(this._cache[r]);
e[r]=i}this._personalizedDataCache={},this._queuePersonalizedDataRequest(e)}},_removePersonalizedDataFromCache:function(){var e=its.reflect.keys(this._cache),t;
for(var n=0;
n<e.length;
n++){var r=e[n],i=this._cache[r];
t=its.reflect.keys(i);
for(var s=0;
s<t.length;
s++){var o=t[s],u=i[o];
u.offers=its.sf.StorePlatformUtil.removePersonalizedOffers(u.offers),this._cache[r][o]=u,its.isDefined(u.cmcAlternateCollectionIds)&&(u.cmcAlternateCollectionIds=null)}}var a={},e=its.reflect.keys(this._cache);
for(var n=0;
n<e.length;
n++){var r=e[n],f=its.reflect.keys(this._cache[r]);
for(var s=0;
s<f.length;
s++)a[f[s]]=!0}its.notifications.publish(its.sf.StorePlatform.Events.PERSONALIZED_OFFERS_AVAILABLE,{name:its.sf.StorePlatform.Events.PERSONALIZED_OFFERS_AVAILABLE,data:a})},_cachePersonalizedData:function(e,t){var n={};
if(t)for(var r in t){this._personalizedDataCache[r]||(this._personalizedDataCache[r]={},this._logger.debug(["this._personalizedDataCache has no entry for requested profile ",r," ,requested ids: ",JSON.stringify(t)],null,!0));
var i=t[r];
for(var s=0;
s<i.length;
s++){n[i[s]]=!0;
var o=e[i[s]];
o?(this._personalizedDataCache[r][i[s]]=Class.shallowClone(o),delete e[i[s]]):this._personalizedDataCache[r][i[s]]=its.sf.StorePlatform.PersonalizationStates.NONE}}var u=its.reflect.keys(e);
if(u.length>0){var a=its.sf.StorePlatform.calculatedProfile(its.sf.StorePlatform.Profiles.ITEM);
this._personalizedDataCache[a]||(this._personalizedDataCache[a]={});
for(var s=0;
s<u.length;
s++){var f=u[s];
this._personalizedDataCache[a][f]=e[f],n[f]=!0,delete e[f]}}this._mergePersonalizedDataIntoStorePlatformCache(),its.notifications.publish(its.sf.StorePlatform.Events.PERSONALIZED_OFFERS_AVAILABLE,{name:its.sf.StorePlatform.Events.PERSONALIZED_OFFERS_AVAILABLE,data:n,caller:this})},_personalizedDataFetchFailure:function(e,t){var n=its.reflect.keys(t);
for(var r=0;
r<n.length;
r++){var i=t[n[r]],s=its.reflect.keys(i);
for(var o=0;
o<s.length;
o++)delete this._personalizedDataCache[s[o]]}},_cacheExistingPersonalizedDataFromStorePlatformData:function(e){if(e)for(var t in e){var n=e[t].results;
this._personalizedDataCache[t]||(this._personalizedDataCache[t]={});
for(var r in n){var i=n[r],s=this._extractPersonalizedDataFromContent(i);
s&&(this._personalizedDataCache[t][r]=s)}}},_extractPersonalizedDataFromContent:function(e){var t={},n=e.offers?its.sf.StorePlatformUtil.findPersonalizedOffers(e.offers):[],r=e.cmcAlternateCollectionIds;
return n.length>0&&(t.offers=n),r&&(t.cmcAlternateCollectionIds=r),its.reflect.keys(t).length>0?t:null},_mergePersonalizedDataIntoStorePlatformCache:function(){for(var e in this._cache){var t=this._cache[e];
for(var n in t){var r=t[n],i=this._personalizedDataForId(r.id);
i?this._mergePersonalizedDataIntoStorePlatformData(r):r=its.sf.StorePlatformUtil.removePersonalizedData(r)}}},_mergePersonalizedDataIntoStorePlatformData:function(e){if(e){var t=this._personalizedDataForId(e.id);
t&&(e.offers=this._unionOfferArrays(e.offers,t.offers),t.cmcAlternateCollectionIds&&(e.cmcAlternateCollectionIds=t.cmcAlternateCollectionIds))}},_personalizedDataForId:function(e){var t=null,n=[];
for(var r in this._personalizedDataCache){var i=this._personalizedDataCache[r][e];
i&&i!=its.sf.StorePlatform.PersonalizationStates.NONE&&i!=its.sf.StorePlatform.PersonalizationStates.REQUESTED&&n.push(i)}if(n.length>0){t={offers:[]};
for(var s=0;
s<n.length;
s++){var o=n[s];
t.offers=this._unionOfferArrays(t.offers,o.offers),o.cmcAlternateCollectionIds&&(t.cmcAlternateCollectionIds=o.cmcAlternateCollectionIds)}}return t},_unionOfferArrays:function(e,t){var n=[];
if(e&&t){var r={};
for(var i=0;
i<e.length;
i++){var s=e[i],o=s.type+s.variant;
r[o]=s}for(var i=0;
i<t.length;
i++){var s=t[i],o=s.type+s.variant;
r[o]=s}for(var u in r)n.push(r[u])}return n},unload:function(){its.sf.Platform.isITML()?its.notifications.unsubscribe(its.sf14.Events.BUY_DID_COMPLETE,this._refreshPersonalizedDataCallback):(window.removeEventListener("buy-did-complete",this._refreshPersonalizedDataCallback),window.removeEventListener("userchanged",this._refreshPersonalizedDataCallback))}}),its.sf.StorePlatform.Defaults={BASE_URL:its.serverData.constants.storePlatformLookupUrl,BASE_PERSONALIZED_DATA_URL:its.serverData.constants.buyButtonMetaDataBaseUrl,MAX_ITEMS_PER_REQUEST:200,PERSONALIZATION_QUEUE_TIME:1,PERSONALIZATION_ENABLED:!1,PERSONALIZATION_ENABLED_VIA_STORE_PLATFORM:!1,PERSONALIZATION_ENABLED_VIA_STORE_PLATFORM_FOR_VIPS:null,REFRESH_PERSONALIZED_DATA_ON_BUY_DID_COMPLETE:!0},its.sf.StorePlatform.PERSONALIZATION_QUEUE_TIME=its.serverData.constants["its.sf.StorePlatform.personalizationQueueTime"]||its.sf.StorePlatform.Defaults.PERSONALIZATION_QUEUE_TIME,its.sf.StorePlatform.PERSONALIZATION_ENABLED=its.serverData.properties["SF.StorePlatform.PersonalizationEnabled"]?its.serverData.properties["SF.StorePlatform.PersonalizationEnabled"]:its.sf.StorePlatform.Defaults.PERSONALIZATION_ENABLED,its.sf.StorePlatform.PERSONALIZATION_ENABLED_VIA_STORE_PLATFORM=its.serverData.properties["SF.StorePlatform.PersonalizationEnabledViaStorePlatform"]?its.serverData.properties["SF.StorePlatform.PersonalizationEnabledViaStorePlatform"]:its.sf.StorePlatform.Defaults.PERSONALIZATION_ENABLED_VIA_STORE_PLATFORM,its.sf.StorePlatform.PERSONALIZATION_ENABLED_VIA_STORE_PLATFORM_FOR_VIPS=its.serverData.properties["SF.StorePlatform.PersonalizationEnabledViaStorePlatformForVips"]?its.serverData.properties["SF.StorePlatform.PersonalizationEnabledViaStorePlatformForVips"]:its.sf.StorePlatform.Defaults.PERSONALIZATION_ENABLED_VIA_STORE_PLATFORM_FOR_VIPS,its.sf.StorePlatform.PERSONALIZATION_ENABLED_VIA_STORE_PLATFORM_FOR_VIPS=its.isDefinedNonNull(its.serverData.properties["SF.StorePlatform.PersonalizationEnabledViaStorePlatformForVips"])?its.serverData.properties["SF.StorePlatform.PersonalizationEnabledViaStorePlatformForVips"]:its.sf.StorePlatform.Defaults.PERSONALIZATION_ENABLED_VIA_STORE_PLATFORM_FOR_VIPS,its.sf.StorePlatform.REFRESH_PERSONALIZED_DATA_ON_BUY_DID_COMPLETE=its.isDefinedNonNull(its.serverData.properties["SF.ShouldRefreshPersonalizedDataOnBuyDidComplete"])?its.serverData.properties["SF.ShouldRefreshPersonalizedDataOnBuyDidComplete"]:its.sf.StorePlatform.Defaults.REFRESH_PERSONALIZED_DATA_ON_BUY_DID_COMPLETE,its.sf.StorePlatform.BASE_URL=its.sf.StorePlatform.Defaults.BASE_URL,its.sf.StorePlatform.BASE_PERSONALIZED_DATA_URL=its.sf.StorePlatform.Defaults.BASE_PERSONALIZED_DATA_URL,its.sf.StorePlatform.Profiles={PRODUCT:"product",PRODUCT_DIRECT_VIEW:"product-dv",LOCKUP:"lockup",ITEM:"item",IMAGE_ITEM:"image-tracklist-item",MOVIE_BUNDLE_PRODUCT:"movie-bundle-product",NATIVE_SEARCH_LOCKUP:"native-search-lockup",NATIVE_SOFTWARE_UPDATE_LOCKUP:"native-software-update-lockup",ARTWORK:"artwork",REDOWNLOAD_IMAGE_ITEM:"redownload-image-tracklist-item",REDOWNLOAD_LOCKUP:"redownload-lockup",SCREENSHOTS_BY_TYPE:"screenshots-by-type",TRAILER_LOCKUP:"trailer-lockup",URL:"url"},its.sf.StorePlatform.ArtworkProfiles={PRODUCT:"product",ROOM:"room",MULTIROOM:"multiroom",CHARTS:"charts",SEARCH:"search",GROUPING:"grouping",SWOOSH:its.sf.Platform.desktop()?"room":"grouping",GROUPING_CHART:"groupingchart",TRACK_SWOOSH:"trackswoosh"},its.sf.StorePlatform.ArtworkPlatform={DESKTOP:"_dt",IPAD:"_ipad",IPHONE:"_iphone",ATV:"_atv"},its.sf.StorePlatform.Platform={ATV9:"atv9"},its.sf.StorePlatform.UrlArtworkExtension=function(){return its.sf.Platform.iPhone()?its.sf.StorePlatform.ArtworkPlatform.IPHONE:its.sf.Platform.iPad()?its.sf.StorePlatform.ArtworkPlatform.IPAD:its.sf.Platform.ATV()?its.sf.StorePlatform.ArtworkPlatform.ATV:its.sf.StorePlatform.ArtworkPlatform.DESKTOP},its.sf.StorePlatform.personlizeViaStorePlatform=function(){return its.sf.StorePlatform.PERSONALIZATION_ENABLED_VIA_STORE_PLATFORM||its.sf.StorePlatform.isVip()},its.sf.StorePlatform.personalizeViaBuyButtonMetaData=function(){return its.sf.StorePlatform.PERSONALIZATION_ENABLED&&!its.sf.StorePlatform.personlizeViaStorePlatform()},its.sf.StorePlatform.isVip=function(){var e=its.sf.StorePlatform.PERSONALIZATION_ENABLED_VIA_STORE_PLATFORM_FOR_VIPS.length;
if(e>0){var t=its.sf.Client.dsId();
for(var n=0;
n<e;
n++)if(t==its.sf.StorePlatform.PERSONALIZATION_ENABLED_VIA_STORE_PLATFORM_FOR_VIPS[n])return!0}return!1},its.sf.StorePlatform._clientCaller=function(){var e="unknown";
return its.sf.Platform.desktop()?e="DI6":its.sf.Platform.iPhone()?e="P6":its.sf.Platform.iPad()?e="K6":its.sf.Platform.iBooksMac()?e="DL6":its.sf.Platform.ATV()&&(e="atv"),e},its.sf._StorePlatformContext=Class.create("its.sf._StorePlatformContext",{initialize:function(e){this._logger=its.Logger.named(this.constructor.klassName),this._requestParamsByProfile={};
for(var t=0;
e&&t<e.length;
t++){var n=e[t],r=its.sf.StorePlatform.calculatedProfile(n.profile,n.artworkProfile),i=this._requestParamsByProfile[r];
i||(i=[],this._requestParamsByProfile[r]=i),i.push(n)}},allIdsForProfile:function(e){var t={},n=this.requestParamsForProfile(e);
if(n)for(var r=0;
r<n.length;
r++){var i=n[r].ids;
for(var s=0;
s<i.length;
s++)t[i[s]]=!0}return its.reflect.keys(t)},allIdsForPersonalizationForProfile:function(e){var t={},n=this.requestParamsForProfile(e);
if(n)for(var r=0;
r<n.length;
r++)if(!n[r].suppressPersonalization){var i=n[r].ids;
for(var s=0;
s<i.length;
s++)t[i[s]]=!0}return its.reflect.keys(t)},allProfiles:function(){return Object.keys(this._requestParamsByProfile)},requestParamsForProfile:function(e){return this._requestParamsByProfile[e]}}),its.sf.StorePlatform.calculatedProfile=function(e,t){return t&&this._isUsingArtworkProfile()?e+"-"+t:e},its.sf.StorePlatform._isUsingArtworkProfile=function(){return its.sf.StorePlatform._versionForLookups()=="1"},its.sf.StorePlatform._versionForLookups=function(){var e="2";
return its.sf.Platform.device()&&!its.serverData.properties["SF.StorePlatform.shouldDV14DeviceUseV2"]&&(e="1"),its.sf.Platform.desktop()&&!its.serverData.properties["SF.StorePlatform.shouldDesktopUseVersion2"]&&(e="1"),e},its.sf.StorePlatform.logStorePlatform=function(e){its.notifications.publish(its.sf.StorePlatform.Events.LOG,{name:e})},its.sf.StorePlatform.Kind={Album:"album",Artist:"artist",Audiobook:"book",Booklet:"booklet",Course:"course",EBook:"epubBook",EBookApple:"ibook",EBookMeta:"metaEbook",EBookSeries:"epubEbookSeries",EBookTextbook:"ibookTextbook",MacApp:"desktopApp",Mix:"mix",MobileApp:"iosSoftware",MobileAppBundle:"mobileSoftwareBundle",Movie:"movie",MovieBundle:"movieBundle",MultipleSystemOperator:"multipleSystemOperator",MusicVideo:"musicVideo",Podcast:"podcast",PodcastEpisode:"podcastEpisode",RadioStation:"radioStation",Ringtone:"ringtone",RingtoneAlbum:"ringtoneAlbum",ShortFilm:"shortFilm",Song:"song",TheyMix:"thirdPartyMix",Tone:"tone",ToneAlbum:"toneAlbum",TvEpisode:"tvEpisode",TvSeason:"tvSeason",Work:"work"},its.sf.StorePlatform.KindLookup=its.reflect.invert(its.sf.StorePlatform.Kind),its.sf.StorePlatform.DeviceFamily={iPhone:1,iPodTouch:2,iPad:3,Mac:4},its.sf.StorePlatform.Offer={AssetFlavor:{HD720P:"720pHdVideo",HD1080P:"1080pHdVideo",SD:"sdVideo",SDPLUS:"sdVideoWithPlusAudio"},Type:{BUY:"buy",RENT:"rent",COMPLETE:"complete",PREORDER:"preorder",PREORDERED:"preordered",GET:"get",SUBSCRIBE:"subscribe",ANONYMOUS_DOWNLOAD:"anonymousDownload",REDOWNLOAD:"redownload",UPDATE:"update",PURCHASED:"purchased"},DownloadType:{PODCAST_EPISODE:"podcastEpisode",COURSE:"course",COURSE_MATERIAL:"courseMaterial",ANONYMOUS:"anonymous"},SubscriptionType:{PODCAST:"podcast",COURSE:"course"},Variant:{HD:"HD",PLUS:"PLUS"}},its.sf.StorePlatform.PassType={SEASON:"season",MULTI:"multi",ITUNES:"itunes"},its.sf.StorePlatform.Events={PERSONALIZED_OFFERS_AVAILABLE:"its.sf.StorePlatform.Events.PERSONALIZED_OFFERS_AVAILABLE",LOG:"its.sf.StorePlatform.Events.LOG"},its.sf.StorePlatform.PersonalizationStates={REQUESTED:"requested",NONE:"none",QUEUED:"queued"},its.sf.StorePlatform.BatchSizeByProfileOverride={},its.sf.StorePlatformUtil=function(){},its.sf.StorePlatformUtil.bestAsset=function bestAsset(e){var t=its.sf.StorePlatformUtil.orderedAssets(e),bestAsset=[];
return t.length>0&&(bestAsset=t[0]),bestAsset},its.sf.StorePlatformUtil.orderedAssets=function orderedAssets(e){var t={},n=[],orderedAssets=[];
if(e)for(var r=0;
r<e.length;
r++){var i=e[r].assets;
if(i)for(var s=0;
s<i.length;
s++)t[i[s].flavor]=i[s]}for(var o in t)n.push(t[o]);
var u=its.sf.StorePlatformUtil.prefers1080(),a={};
a[its.sf.StorePlatform.Offer.AssetFlavor.HD720P]=u?2:1,a[its.sf.StorePlatform.Offer.AssetFlavor.HD1080P]=u?1:2;
var f=function(e,t){var n=a[e.flavor];
n||(n=1e3);
var r=a[t.flavor];
return r||(r=1e3),n-r};
return orderedAssets=n.slice(0),orderedAssets.sort(f),orderedAssets},its.sf.StorePlatformUtil.prefers1080=function(){return its.sf.Platform.desktop()?iTunes&&iTunes.getPreferences().prefer1080pVideo:!0},its.sf.StorePlatformUtil.ContentRating={isClean:function(e){return e&&e.name=="Clean"},isExplicit:function(e){return e&&e.name=="Explicit"}},its.sf.StorePlatformUtil.hasAssetFlavor=function(t,n){var r=its.sf.StorePlatformUtil.assetForAssetFlavor(t,n);
return r!=null},its.sf.StorePlatformUtil.assetForAssetFlavor=function(t,n){for(var r=0;
r<t.length;
r++){var i=t[r];
if(i.flavor==n)return i}return null},its.sf.StorePlatformUtil.orderedOffers=function(t){var n=function(e,t){var n=its.sf.StorePlatformUtil.TypePriorityMap[e.type];
n||(n=1e3);
var r=its.sf.StorePlatformUtil.TypePriorityMap[t.type];
r||(r=1e3);
var i=n-r;
if(i===0){var s=its.sf.StorePlatformUtil.VariantPriorityMap[e.variant];
s||(s=1e3);
var o=its.sf.StorePlatformUtil.VariantPriorityMap[t.variant];
o||(o=1e3),i=s-o}return i};
if(t){var r=t.slice(0);
r.sort(n)}return r},its.sf.StorePlatformUtil.orderedOffersForMovieButtons=function(t){var n=function(e,t){var n=its.sf.StorePlatformUtil.VariantPriorityMap[e.variant];
n||(n=1e3);
var r=its.sf.StorePlatformUtil.VariantPriorityMap[t.variant];
r||(r=1e3),o=n-r;
if(o===0){var i=its.sf.StorePlatformUtil.TypePriorityMap[e.type];
i||(i=1e3);
var s=its.sf.StorePlatformUtil.TypePriorityMap[t.type];
s||(s=1e3);
var o=i-s}return o},r=t.slice(0);
return r.sort(n),r},its.sf.StorePlatformUtil.isOfferSDVariant=function(t){return!t.variant},its.sf.StorePlatformUtil.isOfferHDVariant=function(t){return t.variant==its.sf.StorePlatform.Offer.Variant.HD},its.sf.StorePlatformUtil.findHDOffers=function(t){var n=[];
for(var r=0;
r<t.length;
r++)t[r].variant==its.sf.StorePlatform.Offer.Variant.HD&&n.push(t[r]);
return its.sf.StorePlatformUtil.orderedOffers(n)},its.sf.StorePlatformUtil.findSDOffers=function(t){var n=[];
for(var r=0;
r<t.length;
r++)its.sf.StorePlatformUtil.isOfferSDVariant(t[r])&&n.push(t[r]);
return its.sf.StorePlatformUtil.orderedOffers(n)},its.sf.StorePlatformUtil.findNonHDOffers=function(e){var t=[];
for(var n=0;
n<e.length;
n++)e[n].variant!=its.sf.StorePlatform.Offer.Variant.HD&&t.push(e[n]);
return its.sf.StorePlatformUtil.orderedOffers(t)},its.sf.StorePlatformUtil.findNonRentalOffers=function(e){var t=[];
for(var n=0;
n<e.length;
n++)e[n].type!=its.sf.StorePlatform.Offer.Type.RENT&&t.push(e[n]);
return its.sf.StorePlatformUtil.orderedOffers(t)},its.sf.StorePlatformUtil.findBuyOffers=function(e){var t=[];
for(var n=0;
n<e.length;
n++)its.sf.StorePlatformUtil.isBuyOffer(e[n])&&t.push(e[n]);
return its.sf.StorePlatformUtil.orderedOffers(t)},its.sf.StorePlatformUtil.findPreorderOffers=function(e){var t=[];
for(var n=0;
n<e.length;
n++)e[n].type==its.sf.StorePlatform.Offer.Type.PREORDER&&t.push(e[n]);
return its.sf.StorePlatformUtil.orderedOffers(t)},its.sf.StorePlatformUtil.findEarliestReleaseDate=function(e){var t=e.offers,n=its.sf.StorePlatformUtil.findPreorderOffers(t),r=[];
if(n.length>0){var i=[];
for(var s=0;
s<n.length;
s++)n[s].expectedReleaseDate&&i.push(n[s].expectedReleaseDate);
return r=i.sort(),r[0]}return e.releaseDate},its.sf.StorePlatformUtil.isBuyOffer=function(e){return e.type==its.sf.StorePlatform.Offer.Type.BUY||e.type==its.sf.StorePlatform.Offer.Type.GET||e.type==its.sf.StorePlatform.Offer.Type.PREORDER},its.sf.StorePlatformUtil.isPreorderOffer=function(e){return e.type==its.sf.StorePlatform.Offer.Type.PREORDER},its.sf.StorePlatformUtil.findPersonalizedOffers=function(e){var t=[];
for(var n=0;
n<e.length;
n++)its.sf.StorePlatformUtil.isPersonalizedOffer(e[n])&&t.push(e[n]);
return its.sf.StorePlatformUtil.orderedOffers(t)},its.sf.StorePlatformUtil.findUnpersonalizedOffers=function(e){var t=[];
for(var n=0;
n<e.length;
n++)its.sf.StorePlatformUtil.isPersonalizedOffer(e[n])||t.push(e[n]);
return its.sf.StorePlatformUtil.orderedOffers(t)},its.sf.StorePlatformUtil.contentIdFrom=function(e){return e.adamId||e.contentId},its.sf.StorePlatformUtil.contentIdFromLinkable=function(e){var t=e.link;
return t.adamId||t.contentId},its.sf.StorePlatformUtil.removePersonalizedData=function(e){var t=Class.shallowClone(e);
return t.offers&&(t.offers=its.sf.StorePlatformUtil.findUnpersonalizedOffers(t.offers)),delete t.cmcAlternateCollectionIds,t},its.sf.StorePlatformUtil.isPersonalizedOffer=function(e){return e.type==its.sf.StorePlatform.Offer.Type.COMPLETE||its.sf.StorePlatformUtil.isOwnedOffer(e)},its.sf.StorePlatformUtil.isOwnedOffer=function(e){var t={};
return t[its.sf.StorePlatform.Offer.Type.REDOWNLOAD]=!0,t[its.sf.StorePlatform.Offer.Type.UPDATE]=!0,t[its.sf.StorePlatform.Offer.Type.PURCHASED]=!0,t[its.sf.StorePlatform.Offer.Type.PREORDERED]=!0,its.isDefinedNonNull(t[e.type])},its.sf.StorePlatformUtil.findOwnedOffers=function(e){var t=[];
for(var n=0;
n<e.length;
n++){var r=e[n];
its.sf.StorePlatformUtil.isOwnedOffer(r)&&t.push(r)}return t},its.sf.StorePlatformUtil.hasOwnedOffers=function(e){return its.sf.StorePlatformUtil.findOwnedOffers(e).length>0},its.sf.StorePlatformUtil.findRedownloadOffers=function(e,t){var n=[];
for(var r=0;
r<e.length;
r++)if(e[r].type==its.sf.StorePlatform.Offer.Type.REDOWNLOAD){var i=e[r];
t&&i.variant==t?n.push(i):t||n.push(i)}return its.sf.StorePlatformUtil.orderedOffers(n)},its.sf.StorePlatformUtil.hasAnyHDOffers=function(t){return its.sf.StorePlatformUtil.findHDOffers(t).length>0},its.sf.StorePlatformUtil.hasAnySDOffers=function(t){return its.sf.StorePlatformUtil.findSDOffers(t).length>0},its.sf.StorePlatformUtil.hasAnyPreorderOffers=function(e){for(var t=0;
t<e.length;
t++)if(e[t].type==its.sf.StorePlatform.Offer.Type.PREORDER||e[t].type==its.sf.StorePlatform.Offer.Type.PREORDERED)return!0;
return!1},its.sf.StorePlatformUtil.relevantOffers=function(e){var t=!1,n=!1;
for(var r=0;
r<e.length;
r++){var i=e[r];
!i.price&&i.type!=its.sf.StorePlatform.Offer.Type.RENT&&(i.variant==its.sf.StorePlatform.Offer.Variant.HD?t=!0:n=!0)}var s=e;
if(t||n){s=[];
for(r=0;
r<e.length;
r++)i=e[r],i.type==its.sf.StorePlatform.Offer.Type.RENT?i.variant==its.sf.StorePlatform.Offer.Variant.HD?t||s.push(i):n||s.push(i):s.push(i)}return s},its.sf.StorePlatformUtil.findCMCOffers=function(e){var t=[];
for(var n=0;
n<e.length;
n++)e[n].type==its.sf.StorePlatform.Offer.Type.COMPLETE&&t.push(e[n]);
return its.sf.StorePlatformUtil.orderedOffers(t)},its.sf.StorePlatformUtil.findRentOffers=function(e){var t=[];
for(var n=0;
n<e.length;
n++)e[n].type==its.sf.StorePlatform.Offer.Type.RENT&&t.push(e[n]);
return its.sf.StorePlatformUtil.orderedOffers(t)},its.sf.StorePlatformUtil.findEVODOffers=function(e){var t=[];
for(var n=0;
n<e.length;
n++)e[n].isEVOD&&t.push(e[n]);
return its.sf.StorePlatformUtil.orderedOffers(t)},its.sf.StorePlatformUtil.findUpdateOffers=function(e){var t=[];
for(var n=0;
n<e.length;
n++)e[n].type==its.sf.StorePlatform.Offer.Type.UPDATE&&t.push(e[n]);
return t},its.sf.StorePlatformUtil.findCurrentAppVersionFromOffers=function(e){var t;
for(var n=0;
n<e.length&&!t;
n++){var r=e[n];
r.version&&(t=r.version.display)}return t},its.sf.StorePlatformUtil.findCurrentAppExternalVersionIdFromOffers=function(e){var t;
for(var n=0;
n<e.length&&!t;
n++){var r=e[n];
r.version&&(t=r.version.externalId)}return t},its.sf.StorePlatformUtil.hasAnyRentOffers=function(e){return its.sf.StorePlatformUtil.findRentOffers(e).length>0},its.sf.StorePlatformUtil.bestPreview=function bestPreview(e){var bestPreview=null,t=its.sf.StorePlatformUtil.orderedAssets(e);
for(var n=0;
n<t.length&&bestPreview==null;
n++)t[n].preview&&t[n].preview.url&&(bestPreview=t[n].preview);
if(e){var r=e[0];
if(!its.isDefinedNonNull(bestPreview)&&r&&its.isDefined(r.download)){var i=r.assets[0];
its.isDefinedNonNull(i)&&its.sf.StorePlatformUtil.isValidDesktopPreviewableableContent(r)&&its.isDefinedNonNull(r.download.url)&&(bestPreview={duration:i.duration,url:r.download.url,fileExtension:i.fileExtension})}}return its.string.compareNumerically(its.sf.Client.version(),"10.0")>=0&&bestPreview&&bestPreview.hlsUrl&&!its.sf.Platform.desktop()&&(bestPreview.url=bestPreview.hlsUrl),bestPreview},its.sf.StorePlatformUtil.podcastEpisodeAssetDataForOffers=function(e){var t=null;
if(e.length>0&&its.isDefined(e[0].download)){var n=e[0],r=e[0].assets[0];
its.isDefinedNonNull(r)&&its.sf.StorePlatformUtil.isValidDesktopDownloadableContent(n)&&its.isDefinedNonNull(n.download.url)&&(t={duration:r.duration,url:n.download.url,fileExtension:r.fileExtension})}return t},its.sf.StorePlatformUtil.isValidDesktopDownloadableContent=function(e){var t=!0,n={pdf:!0,epub:!0},r=its.sf.StorePlatformUtil.isValidDesktopPreviewableableContent(e);
if(!r){var i=its.isDefinedNonNull(e.assets)&&e.assets.length>0?e.assets[0]:null;
i!=null&&its.isDefinedNonNull(i.fileExtension)?t=its.isDefinedNonNull(n[i.fileExtension]):t=!1}return t},its.sf.StorePlatformUtil.isValidDesktopPreviewableableContent=function(e){var t=!1,n=its.isDefinedNonNull(e.assets)&&e.assets.length>0?e.assets[0]:null;
return n!=null&&its.isDefinedNonNull(n.fileExtension)&&(its.isDefinedNonNull(its.sf.StorePlatformUtil.FileType.Audio[n.fileExtension])||its.isDefinedNonNull(its.sf.StorePlatformUtil.FileType.Video[n.fileExtension]))&&(t=!0),t},its.sf.StorePlatformUtil.isAnyEbookKind=function(e){switch(e){case its.sf.StorePlatform.Kind.EBook:case its.sf.StorePlatform.Kind.EBookApple:case its.sf.StorePlatform.Kind.EBookTextbook:return!0;
default:return!1}},its.sf.StorePlatformUtil.hasAnyOffersForVariant=function(e,t){var n=!1;
for(var r=0;
r<e.length&&!n;
r++)n=e[r].variant==t;
return n},its.sf.StorePlatformUtil.isAnyEbookOrAudiobook=function(e){return e==its.sf.StorePlatform.Kind.Audiobook||its.sf.StorePlatformUtil.isAnyEbookKind(e)},its.sf.StorePlatformUtil.isSeasonOrMultiPass=function(e){return its.isDefinedNonNull(e.passType)&&e.kind==its.sf.StorePlatform.Kind.TvSeason&&(e.passType==its.sf.StorePlatform.PassType.SEASON||e.passType==its.sf.StorePlatform.PassType.MULTI)},its.sf.StorePlatformUtil.isHdcpRequiredForOffer=function(e){return e.requiresHdcp&&e.requiresHdcp==1?!0:!1},its.sf.StorePlatformUtil.isHdcpRequiredForOffers=function(e){var t=!1;
for(var n=0;
!t&&n<e.length;
n++)its.sf.StorePlatformUtil.isHdcpRequiredForOffer(e[n])&&(t=!0);
return t},its.sf.StorePlatformUtil.doOffersHaveAnyClosedCaptionedAssets=function(e){var t=!1;
for(var n=0;
n<e.length;
n++){var r=e[n];
if(r&&r.assets)for(var i=0;
i<r.assets.length&&!t;
i++)r.assets[i].isClosedCaptioned&&(t=!0)}return t},its.sf.StorePlatformUtil.doOffersHaveAnyAudioDescriptionAssets=function(e){var t=!1;
return e.forEach(function(e){e.assets&&e.assets.forEach(function(e){e.hasAudioDescription&&(t=!0)})}),t},its.sf.StorePlatformUtil.doOffersHaveAnySDHAssets=function(e){var t=!1;
return e.forEach(function(e){e.assets&&e.assets.forEach(function(e){e.hasSDH&&(t=!0)})}),t},its.sf.StorePlatformUtil.doOffersHaveAnySpecifiedProperty=function(e,t){if(!t)return!1;
var n=!1;
for(var r=0;
r<e.length;
r++){var i=e[r];
if(i.assets)for(var s=0;
s<i.assets.length&&!n;
s++)i.assets[s][t]&&(n=!0)}return n},its.sf.StorePlatformUtil.isAnyOfferIneligibleForReDownload=function(e){var t=!1;
for(var n=0;
!t&&n<e.length;
n++){var r=e[n];
r.shouldWarnAboutRedownloadIneligibility&&(r.type==its.sf.StorePlatform.Offer.Type.BUY||r.type==its.sf.StorePlatform.Offer.Type.PREORDER||r.type==its.sf.StorePlatform.Offer.Type.GET)&&(t=!0)}return t},its.sf.StorePlatformUtil.removePersonalizedOffers=function(e){if(!e)return;var t={};
t[its.sf.StorePlatform.Offer.Type.GET]=!0,t[its.sf.StorePlatform.Offer.Type.BUY]=!0,t[its.sf.StorePlatform.Offer.Type.PREORDER]=!0,t[its.sf.StorePlatform.Offer.Type.RENT]=!0,t[its.sf.StorePlatform.Offer.Type.SUBSCRIBE]=!0,t[its.sf.StorePlatform.Offer.Type.ANONYMOUS_DOWNLOAD]=!0;
var n=[];
for(var r=0;
r<e.length;
r++)t[e[r].type]&&n.push(e[r]);
return n},its.sf.StorePlatformUtil.kind=function(e,t){var n=null;
if(t)for(var r=0;
r<t.length;
r++){var i=e.getCachedData(t[r],its.sf.StorePlatform.calculatedProfile(its.sf.StorePlatform.Profiles.LOCKUP,its.sf.StorePlatform.ArtworkProfiles.ROOM));
i&&(n=i.kind);
if(n)break}return n},its.sf.StorePlatformUtil.isVisibleButNotAvailable=function(e){return e&&!its.isDefinedNonNull(e.price)&&e.type!=its.sf.StorePlatform.Offer.Type.PURCHASED},its.sf.StorePlatformUtil.isValidKindForPersonalizedButtons=function(e){return its.isDefinedNonNull(e)&&its.isDefinedNonNull(its.sf.StorePlatformUtil.PersonalizableKinds[e])},its.sf.StorePlatformUtil.remainingTimeForRental=function(e){var t=new Date,n=new Date(e);
if(n<t)return;var r=864e5,i=36e5,s=Math.abs((t.getTime()-n.getTime())/r),o=Math.abs((t.getTime()-n.getTime())/i),u=Math.floor(s),a=Math.floor((s-Math.floor(s))*24),f=Math.floor(o*60),l,c,h,p=" warning",d={};
return s<2&&(a=Math.floor(s*24)),u>=2?(c="DI6.MoviePage.Rental.Time.Days",h={days:u},l=u,u>5&&(p=" ")):a>0?(c="DI6.MoviePage.Rental.Time.Hours",h={hours:a},l=a):f>0&&(f<=1&&(f=1),c="DI6.MoviePage.Rental.Time.Minutes",h={minutes:f},l=f),l===1&&(c+=".one"),d.text=its.loc(c,h),d.additionalClassName=p,d},its.sf.StorePlatformUtil.FileType={Audio:{aa:!0,aac:!0,aif:!0,aifc:!0,aiff:!0,m4a:!0,m4b:!0,m4p:!0,mp2:!0,mp3:!0,wav:!0},Video:{m4v:!0,mov:!0,mp4:!0,mpg:!0},Document:{pdf:!0,epub:!0}},its.sf.StorePlatformUtil.PersonalizableKinds={epubBook:!0,ibook:!0,ibookTextbook:!0,iosSoftware:!0,mobileSoftwareBundle:!0,tvEpisode:!0,tvSeason:!0,album:!0},its.sf.StorePlatformUtil.TypePriorityMap={},its.sf.StorePlatformUtil.TypePriorityMap[its.sf.StorePlatform.Offer.Type.PURCHASED]=1,its.sf.StorePlatformUtil.TypePriorityMap[its.sf.StorePlatform.Offer.Type.PREORDERED]=2,its.sf.StorePlatformUtil.TypePriorityMap[its.sf.StorePlatform.Offer.Type.UPDATE]=3,its.sf.StorePlatformUtil.TypePriorityMap[its.sf.StorePlatform.Offer.Type.REDOWNLOAD]=4,its.sf.StorePlatformUtil.TypePriorityMap[its.sf.StorePlatform.Offer.Type.GET]=5,its.sf.StorePlatformUtil.TypePriorityMap[its.sf.StorePlatform.Offer.Type.COMPLETE]=6,its.sf.StorePlatformUtil.TypePriorityMap[its.sf.StorePlatform.Offer.Type.BUY]=7,its.sf.StorePlatformUtil.TypePriorityMap[its.sf.StorePlatform.Offer.Type.PREORDER]=8,its.sf.StorePlatformUtil.TypePriorityMap[its.sf.StorePlatform.Offer.Type.RENT]=9,its.sf.StorePlatformUtil.VariantPriorityMap={},its.sf.StorePlatformUtil.VariantPriorityMap[its.sf.StorePlatform.Offer.Variant.HD]=1,its.sf.StorePlatformUtil.VariantPriorityMap[its.sf.StorePlatform.Offer.Variant.PLUS]=2,its.sf.PlistXMLToJSONUtil=function(){var e=function(e){return e&&(e.nodeType===3||e.nodeType===8||e.nodeType===4)},t=function(n){var r,i,s,o,u,a,f;
if(!n)return null;
if(n.nodeName==="plist"){u=[];
for(r=0,i=n.childNodes.length;
r<i;
r++)e(n.childNodes.item(r))||u.push(t(n.childNodes.item(r)));
return u}if(n.nodeName==="dict"){s={},o=null;
for(r=0,i=n.childNodes.length;
r<i;
r++)e(n.childNodes.item(r))||(o===null?o=t(n.childNodes.item(r)):(s[o]=t(n.childNodes.item(r)),o=null));
return s}if(n.nodeName==="array"){u=[];
for(r=0,i=n.childNodes.length;
r<i;
r++)e(n.childNodes.item(r))||(a=t(n.childNodes.item(r)),null!=a&&u.push(a));
return u}if(n.nodeName!=="#text"){if(n.nodeName==="key")return n.childNodes.item(0).nodeValue;
if(n.nodeName==="string"){a="";
for(f=0,i=n.childNodes.length;
f<i;
f++)a+=n.childNodes.item(f).nodeValue;
return a}if(n.nodeName==="integer")return parseInt(n.childNodes.item(0).nodeValue,10);
if(n.nodeName==="real"){a="";
for(f=0,i=n.childNodes.length;
f<i;
f++)n.childNodes.item(f).nodeType===3&&(a+=n.childNodes.item(f).nodeValue);
return parseFloat(a)}if(n.nodeName!=="data"){if(n.nodeName==="date")return new Date(n.childNodes.item(0).nodeValue);
if(n.nodeName==="true")return!0;
if(n.nodeName==="false")return!1}}};
return{parseXmlString:function(e){var n=null;
try{var r=(new DOMParser).parseFromString(e,"text/xml");
if(r.documentElement.nodeName!=="plist")return null;
n=t(r.documentElement),n.length==1&&(n=n[0])}catch(i){n={}}return n}}}(),its=its||{},its.frameworks=its.frameworks||{},its.frameworks.ImageManifest={"carrot.2x.png":{height:26,width:20},"carrot.png":{height:13,width:9},"carrot_pressed.png":{height:13,width:10},"p.png":{height:1,width:1},"carrot_pressed.2x.png":{height:26,width:20},"placeholder-clear-empty-blank-beacon-pixel-image-is-called--p.png":{height:1,width:1},"itunesextras/preorderExtrasBadge.png":{height:130,width:350},"itunesextras/preorderExtrasBadge@2x.png":{height:130,width:350},"ccards/cc_amex.png":{height:30,width:44},"ccards/cc_apwc.png":{height:50,width:144},"ccards/cc_banc.png":{height:30,width:44},"ccards/cc_bank.png":{height:30,width:44},"ccards/cc_blei.png":{height:30,width:44},"ccards/cc_csv_visa_master.jpg":{height:176,width:259},"ccards/cc_csv_amex.jpg":{height:176,width:259},"ccards/cc_dank.png":{height:30,width:44},"ccards/cc_dine.png":{height:30,width:44},"ccards/cc_disc.png":{height:30,width:44},"ccards/cc_fgat.png":{height:40,width:115},"ccards/cc_jcb.png":{height:30,width:44},"ccards/cc_lase.png":{height:30,width:44},"ccards/cc_maes.png":{height:30,width:48},"ccards/cc_mast.png":{height:30,width:44},"ccards/cc_pm_directdebit.gif":{height:40,width:25},"ccards/cc_pm_phone.gif":{height:40,width:25},"ccards/cc_solo.png":{height:30,width:44},"ccards/cc_swit.png":{height:30,width:44},"ccards/cc_ppal.png":{height:30,width:44},"ccards/cc_visa.png":{height:30,width:44},"ccards/creditcards.png":{height:541,width:132},"evod/evod.png":{height:75,width:296},"mobile/UIScrollerIndicatorDefault.png":{height:7,width:7},"mobile/RC_logo.jpg":{height:144,width:233},"mobile/UIScrollerIndicatorDefaultHorizontalMiddle.png":{height:7,width:1},"mobile/action-button-bg-pressed.png":{height:44,width:40},"mobile/UIScrollerIndicatorDefaultVerticalMiddle.png":{height:1,width:7},"mobile/action-button-bg.png":{height:44,width:40},"mobile/alert-background.png":{height:37,width:370},"mobile/alert-cancel-background.png":{height:40,width:20},"mobile/box-border-2x.png":{height:50,width:48},"mobile/alert-submit-background.png":{height:40,width:20},"mobile/box-border.png":{height:25,width:24},"mobile/button-background-blue.png":{height:42,width:50},"mobile/button-background-default.png":{height:42,width:50},"mobile/button-background-gray.png":{height:42,width:50},"mobile/button-background-green.png":{height:42,width:50},"mobile/button-background-red.png":{height:42,width:50},"mobile/charity_logo_coh-hidpi.png":{height:130,width:238},"mobile/charity_logo_rc-hidpi.png":{height:130,width:238},"mobile/charity_logo_rc_jp-hidpi.png":{height:130,width:238},"mobile/checkmark_sprite_14-hidpi.png":{height:28,width:56},"mobile/checkmark_sprite_14.png":{height:14,width:28},"mobile/flat-box-border-2x.png":{height:50,width:46},"mobile/content-background.png":{height:42,width:42},"mobile/flat-box-border.png":{height:25,width:23},"mobile/heading-background.png":{height:44,width:44},"mobile/inset-box-border-2x.png":{height:50,width:46},"mobile/inset-box-border.png":{height:25,width:23},"mobile/left-arrow-disabled.2x.png":{height:18,width:16},"mobile/left-arrow-pressed.2x.png":{height:18,width:16},"mobile/left-arrow-pressed.png":{height:10,width:9},"mobile/left-arrow-disabled.png":{height:10,width:9},"mobile/left-arrow.2x.png":{height:18,width:16},"mobile/left-arrow.png":{height:10,width:9},"mobile/loading-spinner.png":{height:15,width:15},"mobile/picklist-checkmark-14-hidpi.png":{height:28,width:28},"mobile/picklist-checkmark-14.png":{height:14,width:14},"mobile/picklist-checkmark.png":{height:21,width:18},"mobile/right-arrow-disabled.2x.png":{height:18,width:16},"mobile/right-arrow-disabled.png":{height:10,width:9},"mobile/right-arrow-pressed.2x.png":{height:18,width:16},"mobile/right-arrow-pressed.png":{height:10,width:9},"mobile/right-arrow.2x.png":{height:18,width:16},"mobile/right-arrow.png":{height:10,width:9},"mobile/select-indicator.png":{height:13,width:20},"mobile/select_indicator_sprite-hidpi.png":{height:26,width:40},"mobile/select_indicator_sprite.png":{height:13,width:20},"mobile/star.2x.png":{height:46,width:26},"mobile/star_empty.2x.png":{height:46,width:26},"mobile/switch-off.png":{height:27,width:96},"mobile/star_half.2x.png":{height:46,width:26},"mobile/switch-on.png":{height:27,width:96},"pk/UINavigationBarBlackBackPressed.png":{height:30,width:21},"pk/UINavigationBarBlackButtonPressed.png":{height:30,width:11},"pk/UINavigationBarBlackForwardPressed.png":{height:30,width:21},"pk/UINavigationBarBlackOpaqueBack.png":{height:30,width:21},"pk/UINavigationBarBlackOpaqueBackground.png":{height:44,width:1},"pk/UINavigationBarBlackOpaqueButton.png":{height:30,width:11},"pk/UINavigationBarBlackOpaqueForward.png":{height:30,width:21},"pk/UINavigationBarBlackTranslucentBack.png":{height:30,width:21},"pk/UINavigationBarBlackTranslucentButton.png":{height:30,width:11},"pk/UINavigationBarBlackTranslucentBackground.png":{height:44,width:1},"pk/UINavigationBarBlackTranslucentForward.png":{height:30,width:21},"pk/UINavigationBarBottomBackground-hidpi.png":{height:88,width:2},"pk/UINavigationBarBottomBackground.png":{height:44,width:1},"pk/UINavigationBarDefaultBack.png":{height:30,width:21},"pk/UINavigationBarDefaultBackPressed.png":{height:30,width:21},"pk/UINavigationBarDefaultButton-hidpi.png":{height:60,width:22},"pk/UINavigationBarDefaultButtonPressed.png":{height:30,width:11},"pk/UINavigationBarDefaultBackground.png":{height:44,width:1},"pk/UINavigationBarDefaultButton.png":{height:30,width:11},"pk/UINavigationBarDefaultButtonPressed-hidpi.png":{height:60,width:22},"pk/UINavigationBarDefaultForward.png":{height:30,width:21},"pk/UINavigationBarDefaultForwardPressed.png":{height:30,width:21},"pk/UINavigationBarDoneButton.png":{height:30,width:11},"pk/UINavigationBarDoneButtonPressed.png":{height:30,width:11},"pk/UITableSelection.2x.png":{height:86,width:2},"pk/UITableSelection.png":{height:43,width:1},"pk/select-indicator-padding-r.png":{height:13,width:19},"pk/select-indicator-padding-r-pressed.png":{height:13,width:19},"pk/square_blue_normal.png":{height:30,width:11},"pk/square_blue_touched.png":{height:30,width:11},"pk/toolbar_glow.png":{height:100,width:100},"content-badging/apple/game-center.png":{height:38,width:38},"content-badging/apple/game-center@2x.png":{height:38,width:38},"content-badging/glyphs/bonus-content.png":{height:22,width:22},"content-badging/apple-digital-master/adm-stacked-uk.png":{height:30,width:92},"content-badging/apple-digital-master/adm-stacked.png":{height:30,width:98},"content-badging/apple-digital-master/adm-stacked-fr.png":{height:30,width:83},"content-badging/apple-digital-master/adm-stacked-pt-prt.png":{height:30,width:124},"content-badging/apple-digital-master/adm-stacked@2x-fr.png":{height:22,width:61},"content-badging/apple-digital-master/adm-stacked@2x-pt-prt.png":{height:22,width:91},"content-badging/apple-digital-master/adm-stacked@2x-uk.png":{height:22,width:68},"content-badging/apple-digital-master/adm-stacked@3x-fr.png":{height:29,width:80},"content-badging/apple-digital-master/adm-stacked@3x-pt-prt.png":{height:29,width:120},"content-badging/apple-digital-master/adm-stacked@2x.png":{height:22,width:71},"content-badging/apple-digital-master/adm-stacked@3x-uk.png":{height:29,width:89},"content-badging/apple-digital-master/adm-stacked@3x.png":{height:29,width:93},"content-badging/appsbrazil/10-small.png":{height:14,width:14},"content-badging/appsbrazil/10-small@2x.png":{height:14,width:14},"content-badging/appsbrazil/12-small.png":{height:14,width:14},"content-badging/appsbrazil/10.png":{height:16,width:16},"content-badging/appsbrazil/12-small@2x.png":{height:14,width:14},"content-badging/appsbrazil/12.png":{height:16,width:16},"content-badging/appsbrazil/10@2x.png":{height:16,width:16},"content-badging/appsbrazil/12@2x.png":{height:16,width:16},"content-badging/appsbrazil/14-small@2x.png":{height:14,width:14},"content-badging/appsbrazil/14.png":{height:16,width:16},"content-badging/appsbrazil/14@2x.png":{height:16,width:16},"content-badging/appsbrazil/14-small.png":{height:14,width:14},"content-badging/appsbrazil/16-small.png":{height:14,width:14},"content-badging/appsbrazil/16.png":{height:16,width:16},"content-badging/appsbrazil/16@2x.png":{height:16,width:16},"content-badging/appsbrazil/16-small@2x.png":{height:14,width:14},"content-badging/appsbrazil/18-small.png":{height:14,width:14},"content-badging/appsbrazil/18-small@2x.png":{height:14,width:14},"content-badging/appsbrazil/18.png":{height:16,width:16},"content-badging/appsbrazil/18@2x.png":{height:16,width:16},"content-badging/appsbrazil/l-small.png":{height:14,width:14},"content-badging/appsbrazil/l-small@2x.png":{height:14,width:14},"content-badging/appsbrazil/l.png":{height:16,width:16},"content-badging/appsbrazil/l@2x.png":{height:16,width:16},"content-badging/itunes-extras/itunes-extras-zh.png":{height:88,width:100},"content-badging/itunes-mastered/itunes-mastered-esp.png":{height:44,width:96},"content-badging/itunes-extras/itunes-extras.png":{height:88,width:100},"content-badging/itunes-mastered/itunes-mastered-bra.png":{height:44,width:96},"content-badging/itunes-mastered/itunes-mastered-fra.png":{height:44,width:119},"content-badging/itunes-lp/itunes-lp.png":{height:88,width:100},"content-badging/itunes-mastered/itunes-mastered.png":{height:44,width:96},"content-badging/ibooks-author/ibooks-author-bra.png":{height:88,width:158},"content-badging/ibooks-author/ibooks-author-esp.png":{height:88,width:156},"content-badging/ibooks-author/ibooks-author-fra.png":{height:88,width:162},"content-badging/ibooks-author/ibooks-author-ita.png":{height:88,width:146},"content-badging/ibooks-author/ibooks-author-jpn.png":{height:88,width:98},"content-badging/ibooks-author/ibooks-author-nld.png":{height:88,width:98},"content-badging/ibooks-author/ibooks-author-tur.png":{height:88,width:148},"content-badging/ibooks-author/ibooks-author.png":{height:88,width:128},"content-badging/made-ibooks/made-ibooks-bra.png":{height:88,width:158},"content-badging/made-ibooks/made-ibooks-esp.png":{height:88,width:156},"content-badging/made-ibooks/made-ibooks-fra.png":{height:88,width:162},"content-badging/made-ibooks/made-ibooks-ita.png":{height:88,width:146},"content-badging/made-ibooks/made-ibooks-jpn.png":{height:88,width:98},"content-badging/made-ibooks/made-ibooks-nld.png":{height:88,width:98},"content-badging/made-ibooks/made-ibooks-tur.png":{height:88,width:148},"content-badging/made-ibooks/made-ibooks.png":{height:88,width:128},"content-badging/icons/app-dark.png":{height:20,width:20},"content-badging/icons/app-mask.png":{height:20,width:20},"content-badging/icons/app@2x.png":{height:20,width:20},"content-badging/icons/app-dark@2x.png":{height:20,width:20},"content-badging/icons/app.png":{height:20,width:20},"content-badging/icons/app-mask@2x.png":{height:20,width:20},"content-badging/icons/audio-dark.png":{height:20,width:20},"content-badging/icons/audio-dark@2x.png":{height:20,width:20},"content-badging/icons/audio.png":{height:20,width:20},"content-badging/icons/audio-mask@2x.png":{height:20,width:20},"content-badging/icons/audio@2x.png":{height:20,width:20},"content-badging/icons/audio-mask.png":{height:20,width:20},"content-badging/icons/book-dark.png":{height:20,width:20},"content-badging/icons/book-dark@2x.png":{height:20,width:20},"content-badging/icons/book-mask.png":{height:20,width:20},"content-badging/icons/book-mask@2x.png":{height:20,width:20},"content-badging/icons/book.png":{height:20,width:20},"content-badging/icons/book@2x.png":{height:20,width:20},"content-badging/icons/booklet-dark.png":{height:20,width:20},"content-badging/icons/booklet-dark@2x.png":{height:20,width:20},"content-badging/icons/booklet-mask.png":{height:20,width:20},"content-badging/icons/booklet-mask@2x.png":{height:20,width:20},"content-badging/icons/booklet.png":{height:20,width:20},"content-badging/icons/booklet@2x.png":{height:20,width:20},"content-badging/icons/document-dark.png":{height:20,width:20},"content-badging/icons/document-dark@2x.png":{height:20,width:20},"content-badging/icons/document-mask.png":{height:20,width:20},"content-badging/icons/document-mask@2x.png":{height:20,width:20},"content-badging/icons/document.png":{height:20,width:20},"content-badging/icons/document@2x.png":{height:20,width:20},"content-badging/icons/image-dark.png":{height:20,width:20},"content-badging/icons/image-dark@2x.png":{height:20,width:20},"content-badging/icons/image-mask@2x.png":{height:20,width:20},"content-badging/icons/image.png":{height:20,width:20},"content-badging/icons/itunes-lp-dark.png":{height:20,width:20},"content-badging/icons/image@2x.png":{height:20,width:20},"content-badging/icons/image-mask.png":{height:20,width:20},"content-badging/icons/itunes-lp-dark@2x.png":{height:20,width:20},"content-badging/icons/itunes-lp-mask.png":{height:20,width:20},"content-badging/icons/itunes-lp-mask@2x.png":{height:20,width:20},"content-badging/icons/itunes-lp.png":{height:20,width:20},"content-badging/icons/itunes-lp@2x.png":{height:20,width:20},"content-badging/icons/link-dark.png":{height:20,width:20},"content-badging/icons/link-dark@2x.png":{height:20,width:20},"content-badging/icons/link-mask.png":{height:20,width:20},"content-badging/icons/link-mask@2x.png":{height:20,width:20},"content-badging/icons/link.png":{height:20,width:20},"content-badging/icons/link@2x.png":{height:20,width:20},"content-badging/icons/movie-dark.png":{height:20,width:20},"content-badging/icons/movie-mask.png":{height:20,width:20},"content-badging/icons/movie-dark@2x.png":{height:20,width:20},"content-badging/icons/movie-mask@2x.png":{height:20,width:20},"content-badging/icons/movie.png":{height:20,width:20},"content-badging/icons/movie@2x.png":{height:20,width:20},"content-badging/icons/music-dark.png":{height:20,width:20},"content-badging/icons/music-dark@2x.png":{height:20,width:20},"content-badging/icons/music-mask@2x.png":{height:20,width:20},"content-badging/icons/music-mask.png":{height:20,width:20},"content-badging/icons/music@2x.png":{height:20,width:20},"content-badging/icons/video-dark@2x.png":{height:20,width:20},"content-badging/icons/video-dark.png":{height:20,width:20},"content-badging/icons/video-mask.png":{height:20,width:20},"content-badging/icons/music.png":{height:20,width:20},"content-badging/icons/video-mask@2x.png":{height:20,width:20},"content-badging/icons/video-small-dark.png":{height:11,width:14},"content-badging/icons/video-small-mask@2x.png":{height:11,width:14},"content-badging/icons/video-small-dark@2x.png":{height:11,width:14},"content-badging/icons/video-small-mask.png":{height:11,width:14},"content-badging/icons/video-small.png":{height:11,width:14},"content-badging/icons/video-small@2x.png":{height:11,width:14},"content-badging/icons/video.png":{height:20,width:20},"content-badging/icons/video@2x.png":{height:20,width:20},"content-badging/parental-advisory/parental-advisory.png":{height:60,width:86},"content-badging/riaa/clean-dark.png":{height:13,width:32},"content-badging/riaa/clean-dark@2x.png":{height:13,width:32},"content-badging/riaa/clean-full.png":{height:30,width:43},"content-badging/riaa/clean-full@2x.png":{height:30,width:43},"content-badging/riaa/clean-large-dark.png":{height:17,width:41},"content-badging/riaa/clean-large-dark@2x.png":{height:17,width:41},"content-badging/riaa/clean-large-mask.png":{height:17,width:41},"content-badging/riaa/clean-large-mask@2x.png":{height:17,width:41},"content-badging/riaa/clean-large.png":{height:17,width:41},"content-badging/riaa/clean-mask.png":{height:13,width:32},"content-badging/riaa/clean-mask@2x.png":{height:13,width:32},"content-badging/riaa/clean-large@2x.png":{height:17,width:41},"content-badging/riaa/clean-short-dark@2x.png":{height:13,width:11},"content-badging/riaa/clean-short-large-dark.png":{height:17,width:15},"content-badging/riaa/clean-short-large-dark@2x.png":{height:17,width:15},"content-badging/riaa/clean-short-dark.png":{height:13,width:11},"content-badging/riaa/clean-short-large-mask.png":{height:17,width:15},"content-badging/riaa/clean-short-large-mask@2x.png":{height:17,width:15},"content-badging/riaa/clean-short-large.png":{height:17,width:15},"content-badging/riaa/clean-short-large@2x.png":{height:17,width:15},"content-badging/riaa/clean-short-mask.png":{height:13,width:11},"content-badging/riaa/clean-short-mask@2x.png":{height:13,width:11},"content-badging/riaa/clean-short-small-dark.png":{height:12,width:10},"content-badging/riaa/clean-short-small-dark@2x.png":{height:12,width:10},"content-badging/riaa/clean-short-small-mask.png":{height:12,width:10},"content-badging/riaa/clean-short-small-mask@2x.png":{height:12,width:10},"content-badging/riaa/clean-short-small.png":{height:12,width:10},"content-badging/riaa/clean-short.png":{height:13,width:11},"content-badging/riaa/clean-short-small@2x.png":{height:12,width:10},"content-badging/riaa/clean-small-dark.png":{height:12,width:28},"content-badging/riaa/clean-small-dark@2x.png":{height:12,width:28},"content-badging/riaa/clean-short@2x.png":{height:13,width:11},"content-badging/riaa/clean-small-mask@2x.png":{height:12,width:28},"content-badging/riaa/clean-small-mask.png":{height:12,width:28},"content-badging/riaa/clean-small.png":{height:12,width:28},"content-badging/riaa/clean-small@2x.png":{height:12,width:28},"content-badging/riaa/clean.png":{height:13,width:32},"content-badging/riaa/clean@2x.png":{height:13,width:32},"content-badging/riaa/explicit-dark.png":{height:13,width:30},"content-badging/riaa/explicit-dark@2x.png":{height:13,width:30},"content-badging/riaa/explicit-full.png":{height:30,width:43},"content-badging/riaa/explicit-full@2x.png":{height:30,width:43},"content-badging/riaa/explicit-large-dark.png":{height:17,width:50},"content-badging/riaa/explicit-large-dark@2x.png":{height:17,width:50},"content-badging/riaa/explicit-large-mask.png":{height:17,width:50},"content-badging/riaa/explicit-large-mask@2x.png":{height:17,width:50},"content-badging/riaa/explicit-large.png":{height:17,width:50},"content-badging/riaa/explicit-large@2x.png":{height:17,width:50},"content-badging/riaa/explicit-mask.png":{height:13,width:30},"content-badging/riaa/explicit-mask@2x.png":{height:13,width:30},"content-badging/riaa/explicit-short.png":{height:9,width:9},"content-badging/riaa/explicit-short@2x.png":{height:9,width:9},"content-badging/riaa/explicit-small-dark.png":{height:12,width:30},"content-badging/riaa/explicit-small-dark@2x.png":{height:12,width:30},"content-badging/riaa/explicit-small-mask.png":{height:12,width:30},"content-badging/riaa/explicit-small-mask@2x.png":{height:12,width:30},"content-badging/riaa/explicit-small.png":{height:12,width:30},"content-badging/riaa/explicit-small@2x.png":{height:12,width:30},"content-badging/riaa/explicit.png":{height:13,width:30},"content-badging/riaa/explicit@2x.png":{height:13,width:30},"content-badging/badges/4k-large-dark.png":{height:17,width:30},"content-badging/badges/4k-large-dark@2x.png":{height:17,width:30},"content-badging/badges/4k-large-dark@3x.png":{height:17,width:30},"content-badging/badges/4k-large-light.png":{height:17,width:30},"content-badging/badges/4k-large-light@2x.png":{height:17,width:30},"content-badging/badges/4k-large-light@3x.png":{height:17,width:30},"content-badging/badges/4k-large-mask.png":{height:17,width:30},"content-badging/badges/4k-large-mask@2x.png":{height:17,width:30},"content-badging/badges/4k-large-mask@3x.png":{height:17,width:30},"content-badging/badges/4k-large.png":{height:17,width:30},"content-badging/badges/4k-sm.png":{height:11,width:19},"content-badging/badges/4k-sm@2x.png":{height:11,width:19},"content-badging/badges/4k-sm@3x.png":{height:11,width:19},"content-badging/badges/4k-small-dark.png":{height:13,width:23},"content-badging/badges/4k-small-dark@2x.png":{height:13,width:23},"content-badging/badges/4k-small-dark@3x.png":{height:13,width:23},"content-badging/badges/4k-small-light.png":{height:13,width:23},"content-badging/badges/4k-small-light@2x.png":{height:13,width:23},"content-badging/badges/4k-small-light@3x.png":{height:13,width:23},"content-badging/badges/4k-small-mask.png":{height:13,width:23},"content-badging/badges/4k-small-mask@2x.png":{height:13,width:23},"content-badging/badges/4k-small-mask@3x.png":{height:13,width:23},"content-badging/badges/4k-xsmall-dark.png":{height:11,width:15},"content-badging/badges/4k-xsmall-dark@2x.png":{height:11,width:15},"content-badging/badges/4k-xsmall-light.png":{height:11,width:15},"content-badging/badges/4k-xsmall-light@2x.png":{height:11,width:15},"content-badging/badges/4k-xsmall-mask.png":{height:11,width:15},"content-badging/badges/4k-xsmall-mask@2x.png":{height:11,width:15},"content-badging/badges/4k-xsmall.png":{height:11,width:15},"content-badging/badges/4k-xsmall@2x.png":{height:11,width:15},"content-badging/badges/ad-large-dark.png":{height:17,width:30},"content-badging/badges/ad-large-dark@2x.png":{height:17,width:30},"content-badging/badges/ad-large-dark@3x.png":{height:17,width:30},"content-badging/badges/ad-large-light.png":{height:17,width:30},"content-badging/badges/ad-large-light@2x.png":{height:17,width:30},"content-badging/badges/ad-large-light@3x.png":{height:17,width:30},"content-badging/badges/ad-large-mask.png":{height:17,width:30},"content-badging/badges/ad-large-mask@2x.png":{height:17,width:30},"content-badging/badges/ad-large-mask@3x.png":{height:17,width:30},"content-badging/badges/ad-large.png":{height:17,width:22},"content-badging/badges/ad-large@2x.png":{height:17,width:22},"content-badging/badges/ad-sm.png":{height:11,width:19},"content-badging/badges/ad-sm@2x.png":{height:11,width:19},"content-badging/badges/ad-sm@3x.png":{height:11,width:19},"content-badging/badges/ad-small-dark.png":{height:13,width:23},"content-badging/badges/ad-small-dark@2x.png":{height:13,width:23},"content-badging/badges/ad-small-dark@3x.png":{height:13,width:23},"content-badging/badges/ad-small-light.png":{height:13,width:23},"content-badging/badges/ad-small-light@2x.png":{height:13,width:23},"content-badging/badges/ad-small-light@3x.png":{height:13,width:23},"content-badging/badges/ad-small-mask.png":{height:13,width:23},"content-badging/badges/ad-small-mask@3x.png":{height:13,width:23},"content-badging/badges/ad-small-mask@2x.png":{height:13,width:23},"content-badging/badges/cc-dark.png":{height:13,width:17},"content-badging/badges/cc-large-dark.png":{height:17,width:30},"content-badging/badges/cc-dark@2x.png":{height:13,width:17},"content-badging/badges/cc-large-dark@2x.png":{height:17,width:30},"content-badging/badges/cc-large-dark@3x.png":{height:17,width:30},"content-badging/badges/cc-large-light.png":{height:17,width:30},"content-badging/badges/cc-large-light@2x.png":{height:17,width:30},"content-badging/badges/cc-large-light@3x.png":{height:17,width:30},"content-badging/badges/cc-large-mask.png":{height:17,width:30},"content-badging/badges/cc-large-mask@2x.png":{height:17,width:30},"content-badging/badges/cc-large-mask@3x.png":{height:17,width:30},"content-badging/badges/cc-large.png":{height:17,width:21},"content-badging/badges/cc-large@2x.png":{height:17,width:21},"content-badging/badges/cc-mask.png":{height:13,width:17},"content-badging/badges/cc-mask@2x.png":{height:13,width:17},"content-badging/badges/cc-small-dark.png":{height:13,width:23},"content-badging/badges/cc-small-dark@2x.png":{height:13,width:23},"content-badging/badges/cc-small-dark@3x.png":{height:13,width:23},"content-badging/badges/cc-small-light.png":{height:13,width:23},"content-badging/badges/cc-small-light@2x.png":{height:13,width:23},"content-badging/badges/cc-small-light@3x.png":{height:13,width:23},"content-badging/badges/cc-small-mask.png":{height:13,width:23},"content-badging/badges/cc-small-mask@2x.png":{height:13,width:23},"content-badging/badges/cc-small-mask@3x.png":{height:13,width:23},"content-badging/badges/cc-small.png":{height:12,width:15},"content-badging/badges/cc-small@2x.png":{height:12,width:15},"content-badging/badges/cc.png":{height:13,width:17},"content-badging/badges/cc@2x.png":{height:13,width:17},"content-badging/badges/dolbyatmos-large-dark.png":{height:17,width:61},"content-badging/badges/dolbyatmos-large-dark@2x.png":{height:17,width:61},"content-badging/badges/dolbyatmos-large-dark@3x.png":{height:17,width:61},"content-badging/badges/dolbyatmos-large-light.png":{height:17,width:61},"content-badging/badges/dolbyatmos-large-light@2x.png":{height:17,width:61},"content-badging/badges/dolbyatmos-large-light@3x.png":{height:17,width:61},"content-badging/badges/dolbyatmos-large-mask.png":{height:17,width:61},"content-badging/badges/dolbyatmos-large-mask@2x.png":{height:17,width:61},"content-badging/badges/dolbyatmos-large-mask@3x.png":{height:17,width:61},"content-badging/badges/dolbyatmos-large.png":{height:17,width:61},"content-badging/badges/dolbyatmos-large@2x.png":{height:17,width:61},"content-badging/badges/dolbyatmos-large@3x.png":{height:17,width:61},"content-badging/badges/dolbyatmos-small-dark.png":{height:13,width:47},"content-badging/badges/dolbyatmos-small-dark@2x.png":{height:13,width:47},"content-badging/badges/dolbyatmos-small-dark@3x.png":{height:13,width:47},"content-badging/badges/dolbyatmos-small-light.png":{height:13,width:47},"content-badging/badges/dolbyatmos-small-light@2x.png":{height:13,width:47},"content-badging/badges/dolbyatmos-small-light@3x.png":{height:13,width:47},"content-badging/badges/dolbyatmos-small-mask.png":{height:13,width:47},"content-badging/badges/dolbyatmos-small-mask@2x.png":{height:13,width:47},"content-badging/badges/dolbyatmos-small-mask@3x.png":{height:13,width:47},"content-badging/badges/dolbyvision-large-dark.png":{height:17,width:60},"content-badging/badges/dolbyvision-large-dark@2x.png":{height:17,width:60},"content-badging/badges/dolbyvision-large-dark@3x.png":{height:17,width:60},"content-badging/badges/dolbyvision-large-light.png":{height:17,width:60},"content-badging/badges/dolbyvision-large-light@2x.png":{height:17,width:60},"content-badging/badges/dolbyvision-large-light@3x.png":{height:17,width:60},"content-badging/badges/dolbyvision-large-mask.png":{height:17,width:60},"content-badging/badges/dolbyvision-large-mask@2x.png":{height:17,width:60},"content-badging/badges/dolbyvision-large-mask@3x.png":{height:17,width:60},"content-badging/badges/dolbyvision-large.png":{height:17,width:60},"content-badging/badges/dolbyvision-small-dark.png":{height:13,width:46},"content-badging/badges/dolbyvision-small-dark@2x.png":{height:13,width:46},"content-badging/badges/dolbyvision-small-dark@3x.png":{height:13,width:46},"content-badging/badges/dolbyvision-small-light.png":{height:13,width:46},"content-badging/badges/dolbyvision-small-light@2x.png":{height:13,width:46},"content-badging/badges/dolbyvision-small-light@3x.png":{height:13,width:46},"content-badging/badges/dolbyvision-small-mask.png":{height:13,width:46},"content-badging/badges/dolbyvision-small-mask@2x.png":{height:13,width:46},"content-badging/badges/dolbyvision-small-mask@3x.png":{height:13,width:46},"content-badging/badges/dovi-sm.png":{height:11,width:39},"content-badging/badges/dovi-sm@2x.png":{height:11,width:39},"content-badging/badges/dovi-sm@3x.png":{height:11,width:39},"content-badging/badges/hd-dark.png":{height:13,width:19},"content-badging/badges/hd-dark@2x.png":{height:13,width:19},"content-badging/badges/hd-large-dark.png":{height:17,width:30},"content-badging/badges/hd-large-dark@2x.png":{height:17,width:30},"content-badging/badges/hd-large-dark@3x.png":{height:17,width:30},"content-badging/badges/hd-large-light.png":{height:17,width:30},"content-badging/badges/hd-large-light@2x.png":{height:17,width:30},"content-badging/badges/hd-large-light@3x.png":{height:17,width:30},"content-badging/badges/hd-large-mask.png":{height:17,width:30},"content-badging/badges/hd-large-mask@2x.png":{height:17,width:30},"content-badging/badges/hd-large-mask@3x.png":{height:17,width:30},"content-badging/badges/hd-large.png":{height:17,width:24},"content-badging/badges/hd-large@2x.png":{height:17,width:24},"content-badging/badges/hd-mask.png":{height:13,width:19},"content-badging/badges/hd-mask@2x.png":{height:13,width:19},"content-badging/badges/hd-small-dark@2x.png":{height:13,width:23},"content-badging/badges/hd-small-dark.png":{height:13,width:23},"content-badging/badges/hd-small-dark@3x.png":{height:13,width:23},"content-badging/badges/hd-small-light.png":{height:13,width:23},"content-badging/badges/hd-small-light@2x.png":{height:13,width:23},"content-badging/badges/hd-small-light@3x.png":{height:13,width:23},"content-badging/badges/hd-small-mask.png":{height:13,width:23},"content-badging/badges/hd-small-mask@2x.png":{height:13,width:23},"content-badging/badges/hd-small-mask@3x.png":{height:13,width:23},"content-badging/badges/hd-small.png":{height:12,width:17},"content-badging/badges/hd-small@2x.png":{height:12,width:17},"content-badging/badges/hd-xsmall-dark.png":{height:11,width:15},"content-badging/badges/hd-xsmall-dark@2x.png":{height:11,width:15},"content-badging/badges/hd-xsmall-mask.png":{height:11,width:15},"content-badging/badges/hd-xsmall-mask@2x.png":{height:11,width:15},"content-badging/badges/hd-xsmall.png":{height:11,width:15},"content-badging/badges/hd-xsmall@2x.png":{height:11,width:15},"content-badging/badges/hd@2x.png":{height:11,width:15},"content-badging/badges/hdr-large-dark.png":{height:17,width:39},"content-badging/badges/hdr-large-dark@2x.png":{height:17,width:39},"content-badging/badges/hdr-large-dark@3x.png":{height:17,width:39},"content-badging/badges/hdr-large-light.png":{height:17,width:39},"content-badging/badges/hdr-large-light@2x.png":{height:17,width:39},"content-badging/badges/hdr-large-light@3x.png":{height:17,width:39},"content-badging/badges/hdr-large-mask.png":{height:17,width:39},"content-badging/badges/hdr-large-mask@2x.png":{height:17,width:39},"content-badging/badges/hdr-large-mask@3x.png":{height:17,width:39},"content-badging/badges/hdr-large.png":{height:17,width:39},"content-badging/badges/hdr-sm.png":{height:11,width:25},"content-badging/badges/hdr-sm@2x.png":{height:11,width:25},"content-badging/badges/hdr-sm@3x.png":{height:11,width:25},"content-badging/badges/hdr-small-dark.png":{height:13,width:30},"content-badging/badges/hdr-small-dark@2x.png":{height:13,width:30},"content-badging/badges/hdr-small-dark@3x.png":{height:13,width:30},"content-badging/badges/hdr-small-light.png":{height:13,width:30},"content-badging/badges/hdr-small-light@2x.png":{height:13,width:30},"content-badging/badges/hdr-small-light@3x.png":{height:13,width:30},"content-badging/badges/hdr-small-mask.png":{height:13,width:30},"content-badging/badges/hdr-small-mask@2x.png":{height:13,width:30},"content-badging/badges/hdr-small-mask@3x.png":{height:13,width:30},"content-badging/badges/offers-imessage-app.png":{height:16,width:17},"content-badging/badges/offers-imessage-app@2x.png":{height:16,width:16},"content-badging/badges/offers-imessage-app@3x.png":{height:16,width:16},"content-badging/badges/offers-tv-app.png":{height:16,width:17},"content-badging/badges/offers-tv-app@2x.png":{height:16,width:18},"content-badging/badges/offers-tv-app@3x.png":{height:16,width:18},"content-badging/badges/offers-watch-app.png":{height:16,width:15},"content-badging/badges/offers-watch-app@2x.png":{height:16,width:15},"content-badging/badges/offers-watch-app@3x.png":{height:16,width:15},"content-badging/badges/sdh-large-dark.png":{height:17,width:39},"content-badging/badges/sdh-large-dark@2x.png":{height:17,width:39},"content-badging/badges/sdh-large-dark@3x.png":{height:17,width:39},"content-badging/badges/sdh-large-light.png":{height:17,width:39},"content-badging/badges/sdh-large-light@2x.png":{height:17,width:39},"content-badging/badges/sdh-large-light@3x.png":{height:17,width:39},"content-badging/badges/sdh-large-mask.png":{height:17,width:39},"content-badging/badges/sdh-large-mask@3x.png":{height:17,width:39},"content-badging/badges/sdh-large-mask@2x.png":{height:17,width:39},"content-badging/badges/sdh-large.png":{height:17,width:30},"content-badging/badges/sdh-large@2x.png":{height:17,width:30},"content-badging/badges/sdh-sm.png":{height:11,width:21},"content-badging/badges/sdh-sm@2x.png":{height:11,width:21},"content-badging/badges/sdh-sm@3x.png":{height:11,width:21},"content-badging/badges/sdh-small-dark.png":{height:13,width:30},"content-badging/badges/sdh-small-dark@2x.png":{height:13,width:30},"content-badging/badges/sdh-small-dark@3x.png":{height:13,width:30},"content-badging/badges/sdh-small-light.png":{height:13,width:30},"content-badging/badges/sdh-small-light@2x.png":{height:13,width:30},"content-badging/badges/sdh-small-light@3x.png":{height:13,width:30},"content-badging/badges/sdh-small-mask.png":{height:13,width:30},"content-badging/badges/sdh-small-mask@2x.png":{height:13,width:30},"content-badging/badges/sdh-small-mask@3x.png":{height:13,width:30},"content-badging/mpaa/g-dark.png":{height:13,width:13},"content-badging/mpaa/g-dark@2x.png":{height:13,width:13},"content-badging/mpaa/g-large-dark.png":{height:17,width:17},"content-badging/mpaa/g-large-dark@2x.png":{height:17,width:17},"content-badging/mpaa/g-large-mask.png":{height:17,width:17},"content-badging/mpaa/g-large-mask@2x.png":{height:17,width:17},"content-badging/mpaa/g-large.png":{height:17,width:17},"content-badging/mpaa/g-large@2x.png":{height:17,width:17},"content-badging/mpaa/g-mask.png":{height:13,width:13},"content-badging/mpaa/g-mask@2x.png":{height:13,width:13},"content-badging/mpaa/g-small-dark.png":{height:12,width:12},"content-badging/mpaa/g-small-dark@2x.png":{height:12,width:12},"content-badging/mpaa/g-small-mask.png":{height:12,width:12},"content-badging/mpaa/g-small-mask@2x.png":{height:12,width:12},"content-badging/mpaa/g-small.png":{height:12,width:12},"content-badging/mpaa/g-small@2x.png":{height:12,width:12},"content-badging/mpaa/g.png":{height:13,width:13},"content-badging/mpaa/g@2x.png":{height:13,width:13},"content-badging/mpaa/nr-dark.png":{height:13,width:52},"content-badging/mpaa/nr-dark@2x.png":{height:13,width:52},"content-badging/mpaa/nr-large-dark.png":{height:17,width:65},"content-badging/mpaa/nr-large-dark@2x.png":{height:17,width:65},"content-badging/mpaa/nr-large-mask.png":{height:17,width:65},"content-badging/mpaa/nr-large-mask@2x.png":{height:17,width:65},"content-badging/mpaa/nr-large.png":{height:17,width:65},"content-badging/mpaa/nr-large@2x.png":{height:17,width:65},"content-badging/mpaa/nr-mask.png":{height:13,width:52},"content-badging/mpaa/nr-mask@2x.png":{height:13,width:52},"content-badging/mpaa/nr-small-dark.png":{height:12,width:43},"content-badging/mpaa/nr-small-dark@2x.png":{height:12,width:43},"content-badging/mpaa/nr-small-mask.png":{height:12,width:43},"content-badging/mpaa/nr-small-mask@2x.png":{height:12,width:43},"content-badging/mpaa/nr-small.png":{height:12,width:43},"content-badging/mpaa/nr-small@2x.png":{height:12,width:43},"content-badging/mpaa/nr.png":{height:13,width:52},"content-badging/mpaa/nr@2x.png":{height:13,width:52},"content-badging/mpaa/pg-13-dark.png":{height:13,width:35},"content-badging/mpaa/pg-13-dark@2x.png":{height:13,width:35},"content-badging/mpaa/pg-13-large-dark.png":{height:17,width:47},"content-badging/mpaa/pg-13-large-dark@2x.png":{height:17,width:47},"content-badging/mpaa/pg-13-large-mask.png":{height:17,width:47},"content-badging/mpaa/pg-13-large-mask@2x.png":{height:17,width:47},"content-badging/mpaa/pg-13-large.png":{height:17,width:47},"content-badging/mpaa/pg-13-large@2x.png":{height:17,width:47},"content-badging/mpaa/pg-13-mask.png":{height:13,width:35},"content-badging/mpaa/pg-13-mask@2x.png":{height:13,width:35},"content-badging/mpaa/pg-13-small-dark.png":{height:12,width:31},"content-badging/mpaa/pg-13-small-dark@2x.png":{height:12,width:31},"content-badging/mpaa/pg-13-small-mask.png":{height:12,width:31},"content-badging/mpaa/pg-13-small-mask@2x.png":{height:12,width:31},"content-badging/mpaa/pg-13-small.png":{height:12,width:31},"content-badging/mpaa/pg-13-small@2x.png":{height:12,width:31},"content-badging/mpaa/pg-13.png":{height:13,width:35},"content-badging/mpaa/pg-13@2x.png":{height:13,width:35},"content-badging/mpaa/pg-dark.png":{height:13,width:22},"content-badging/mpaa/pg-dark@2x.png":{height:13,width:22},"content-badging/mpaa/pg-large-dark.png":{height:17,width:28},"content-badging/mpaa/pg-large-dark@2x.png":{height:17,width:28},"content-badging/mpaa/pg-large-mask.png":{height:17,width:28},"content-badging/mpaa/pg-large-mask@2x.png":{height:17,width:28},"content-badging/mpaa/pg-large.png":{height:17,width:28},"content-badging/mpaa/pg-large@2x.png":{height:17,width:28},"content-badging/mpaa/pg-mask.png":{height:13,width:22},"content-badging/mpaa/pg-mask@2x.png":{height:13,width:22},"content-badging/mpaa/pg-small-dark.png":{height:12,width:20},"content-badging/mpaa/pg-small-dark@2x.png":{height:12,width:20},"content-badging/mpaa/pg-small-mask.png":{height:12,width:20},"content-badging/mpaa/pg-small-mask@2x.png":{height:12,width:20},"content-badging/mpaa/pg-small.png":{height:12,width:20},"content-badging/mpaa/pg-small@2x.png":{height:12,width:20},"content-badging/mpaa/pg.png":{height:13,width:22},"content-badging/mpaa/pg@2x.png":{height:13,width:22},"content-badging/mpaa/r-dark.png":{height:13,width:14},"content-badging/mpaa/r-large-dark.png":{height:17,width:19},"content-badging/mpaa/r-dark@2x.png":{height:13,width:14},"content-badging/mpaa/r-large-dark@2x.png":{height:17,width:19},"content-badging/mpaa/r-large-mask.png":{height:17,width:19},"content-badging/mpaa/r-large-mask@2x.png":{height:17,width:19},"content-badging/mpaa/r-large.png":{height:17,width:19},"content-badging/mpaa/r-large@2x.png":{height:17,width:19},"content-badging/mpaa/r-mask.png":{height:13,width:14},"content-badging/mpaa/r-mask@2x.png":{height:13,width:14},"content-badging/mpaa/r-small-dark.png":{height:12,width:13},"content-badging/mpaa/r-small-dark@2x.png":{height:12,width:13},"content-badging/mpaa/r-small-mask.png":{height:12,width:13},"content-badging/mpaa/r-small-mask@2x.png":{height:12,width:13},"content-badging/mpaa/r-small@2x.png":{height:12,width:13},"content-badging/mpaa/r-small.png":{height:12,width:13},"content-badging/mpaa/r.png":{height:13,width:14},"content-badging/mpaa/r@2x.png":{height:13,width:14},"content-badging/mpaa/unrated-dark.png":{height:13,width:41},"content-badging/mpaa/unrated-dark@2x.png":{height:13,width:41},"content-badging/mpaa/unrated-large-dark.png":{height:17,width:56},"content-badging/mpaa/unrated-large-dark@2x.png":{height:17,width:56},"content-badging/mpaa/unrated-large-mask.png":{height:17,width:56},"content-badging/mpaa/unrated-large-mask@2x.png":{height:17,width:56},"content-badging/mpaa/unrated-large.png":{height:17,width:56},"content-badging/mpaa/unrated-large@2x.png":{height:17,width:56},"content-badging/mpaa/unrated-mask.png":{height:13,width:41},"content-badging/mpaa/unrated-mask@2x.png":{height:13,width:41},"content-badging/mpaa/unrated-small-dark@2x.png":{height:12,width:36},"content-badging/mpaa/unrated-small-dark.png":{height:12,width:36},"content-badging/mpaa/unrated-small-mask.png":{height:12,width:36},"content-badging/mpaa/unrated-small-mask@2x.png":{height:12,width:36},"content-badging/mpaa/unrated-small.png":{height:12,width:36},"content-badging/mpaa/unrated-small@2x.png":{height:12,width:36},"content-badging/mpaa/unrated.png":{height:13,width:41},"content-badging/mpaa/unrated@2x.png":{height:13,width:41},"content-badging/tv/tv-14-dark.png":{height:13,width:27},"content-badging/tv/tv-14-dark@2x.png":{height:13,width:27},"content-badging/tv/tv-14-large-dark.png":{height:17,width:35},"content-badging/tv/tv-14-large-dark@2x.png":{height:17,width:35},"content-badging/tv/tv-14-large-mask.png":{height:17,width:35},"content-badging/tv/tv-14-large-mask@2x.png":{height:17,width:35},"content-badging/tv/tv-14-large.png":{height:17,width:35},"content-badging/tv/tv-14-large@2x.png":{height:17,width:35},"content-badging/tv/tv-14-mask.png":{height:13,width:27},"content-badging/tv/tv-14-mask@2x.png":{height:13,width:27},"content-badging/tv/tv-14-small-dark.png":{height:12,width:23},"content-badging/tv/tv-14-small-dark@2x.png":{height:12,width:23},"content-badging/tv/tv-14-small-mask.png":{height:12,width:23},"content-badging/tv/tv-14-small-mask@2x.png":{height:12,width:23},"content-badging/tv/tv-14-small.png":{height:12,width:23},"content-badging/tv/tv-14-small@2x.png":{height:12,width:23},"content-badging/tv/tv-14.png":{height:13,width:27},"content-badging/tv/tv-14@2x.png":{height:13,width:27},"content-badging/tv/tv-g-dark@2x.png":{height:13,width:24},"content-badging/tv/tv-g-dark.png":{height:13,width:24},"content-badging/tv/tv-g-large-dark.png":{height:17,width:31},"content-badging/tv/tv-g-large-dark@2x.png":{height:17,width:31},"content-badging/tv/tv-g-large-mask.png":{height:17,width:31},"content-badging/tv/tv-g-large-mask@2x.png":{height:17,width:31},"content-badging/tv/tv-g-large.png":{height:17,width:31},"content-badging/tv/tv-g-large@2x.png":{height:17,width:31},"content-badging/tv/tv-g-mask.png":{height:13,width:24},"content-badging/tv/tv-g-mask@2x.png":{height:13,width:24},"content-badging/tv/tv-g-small-dark.png":{height:12,width:21},"content-badging/tv/tv-g-small-dark@2x.png":{height:12,width:21},"content-badging/tv/tv-g-small-mask.png":{height:12,width:21},"content-badging/tv/tv-g-small-mask@2x.png":{height:12,width:21},"content-badging/tv/tv-g-small.png":{height:12,width:21},"content-badging/tv/tv-g.png":{height:13,width:24},"content-badging/tv/tv-g-small@2x.png":{height:12,width:21},"content-badging/tv/tv-g@2x.png":{height:13,width:24},"content-badging/tv/tv-ma-dark.png":{height:13,width:31},"content-badging/tv/tv-ma-dark@2x.png":{height:13,width:31},"content-badging/tv/tv-ma-large-dark.png":{height:17,width:42},"content-badging/tv/tv-ma-large-dark@2x.png":{height:17,width:42},"content-badging/tv/tv-ma-large-mask.png":{height:17,width:42},"content-badging/tv/tv-ma-large-mask@2x.png":{height:17,width:42},"content-badging/tv/tv-ma-large.png":{height:17,width:42},"content-badging/tv/tv-ma-large@2x.png":{height:17,width:42},"content-badging/tv/tv-ma-mask.png":{height:13,width:31},"content-badging/tv/tv-ma-mask@2x.png":{height:13,width:31},"content-badging/tv/tv-ma-small-dark.png":{height:12,width:28},"content-badging/tv/tv-ma-small-dark@2x.png":{height:12,width:28},"content-badging/tv/tv-ma-small-mask.png":{height:12,width:28},"content-badging/tv/tv-ma-small-mask@2x.png":{height:12,width:28},"content-badging/tv/tv-ma-small.png":{height:12,width:28},"content-badging/tv/tv-ma-small@2x.png":{height:12,width:28},"content-badging/tv/tv-ma.png":{height:13,width:31},"content-badging/tv/tv-ma@2x.png":{height:13,width:31},"content-badging/tv/tv-pg-dark@2x.png":{height:13,width:28},"content-badging/tv/tv-pg-large-dark.png":{height:17,width:39},"content-badging/tv/tv-pg-dark.png":{height:13,width:28},"content-badging/tv/tv-pg-large-dark@2x.png":{height:17,width:39},"content-badging/tv/tv-pg-large-mask.png":{height:17,width:39},"content-badging/tv/tv-pg-large-mask@2x.png":{height:17,width:39},"content-badging/tv/tv-pg-large.png":{height:17,width:39},"content-badging/tv/tv-pg-large@2x.png":{height:17,width:39},"content-badging/tv/tv-pg-mask.png":{height:13,width:28},"content-badging/tv/tv-pg-mask@2x.png":{height:13,width:28},"content-badging/tv/tv-pg-small-dark.png":{height:12,width:25},"content-badging/tv/tv-pg-small-dark@2x.png":{height:12,width:25},"content-badging/tv/tv-pg-small-mask.png":{height:12,width:25},"content-badging/tv/tv-pg-small-mask@2x.png":{height:12,width:25},"content-badging/tv/tv-pg-small.png":{height:12,width:25},"content-badging/tv/tv-pg-small@2x.png":{height:12,width:25},"content-badging/tv/tv-pg.png":{height:13,width:28},"content-badging/tv/tv-pg@2x.png":{height:13,width:28},"content-badging/tv/tv-y-dark.png":{height:13,width:24},"content-badging/tv/tv-y-dark@2x.png":{height:13,width:24},"content-badging/tv/tv-y-large-dark.png":{height:17,width:31},"content-badging/tv/tv-y-large-dark@2x.png":{height:17,width:31},"content-badging/tv/tv-y-large-mask.png":{height:17,width:31},"content-badging/tv/tv-y-large-mask@2x.png":{height:17,width:31},"content-badging/tv/tv-y-large.png":{height:17,width:31},"content-badging/tv/tv-y-mask.png":{height:13,width:24},"content-badging/tv/tv-y-large@2x.png":{height:17,width:31},"content-badging/tv/tv-y-mask@2x.png":{height:13,width:24},"content-badging/tv/tv-y-small-dark.png":{height:12,width:21},"content-badging/tv/tv-y-small-dark@2x.png":{height:12,width:21},"content-badging/tv/tv-y-small-mask.png":{height:12,width:21},"content-badging/tv/tv-y-small-mask@2x.png":{height:12,width:21},"content-badging/tv/tv-y-small.png":{height:12,width:21},"content-badging/tv/tv-y-small@2x.png":{height:12,width:21},"content-badging/tv/tv-y.png":{height:13,width:24},"content-badging/tv/tv-y7-dark.png":{height:13,width:29},"content-badging/tv/tv-y7-dark@2x.png":{height:13,width:29},"content-badging/tv/tv-y7-large-dark.png":{height:17,width:37},"content-badging/tv/tv-y7-large-dark@2x.png":{height:17,width:37},"content-badging/tv/tv-y7-large-mask.png":{height:17,width:37},"content-badging/tv/tv-y7-large-mask@2x.png":{height:17,width:37},"content-badging/tv/tv-y7-large.png":{height:17,width:37},"content-badging/tv/tv-y7-large@2x.png":{height:17,width:37},"content-badging/tv/tv-y7-mask.png":{height:13,width:29},"content-badging/tv/tv-y7-mask@2x.png":{height:13,width:29},"content-badging/tv/tv-y7-small-dark.png":{height:12,width:26},"content-badging/tv/tv-y7-small-dark@2x.png":{height:12,width:26},"content-badging/tv/tv-y7-small-mask.png":{height:12,width:26},"content-badging/tv/tv-y7-small-mask@2x.png":{height:12,width:26},"content-badging/tv/tv-y7-small.png":{height:12,width:26},"content-badging/tv/tv-y7-small@2x.png":{height:12,width:26},"content-badging/tv/tv-y7.png":{height:13,width:29},"content-badging/tv/tv-y7@2x.png":{height:13,width:29},"content-badging/tv/tv-y7fv-dark.png":{height:13,width:40},"content-badging/tv/tv-y7fv-dark@2x.png":{height:13,width:40},"content-badging/tv/tv-y7fv-large-dark.png":{height:17,width:51},"content-badging/tv/tv-y7fv-large-dark@2x.png":{height:17,width:51},"content-badging/tv/tv-y7fv-large-mask.png":{height:17,width:51},"content-badging/tv/tv-y7fv-large.png":{height:17,width:51},"content-badging/tv/tv-y7fv-large-mask@2x.png":{height:17,width:51},"content-badging/tv/tv-y7fv-large@2x.png":{height:17,width:51},"content-badging/tv/tv-y7fv-mask.png":{height:13,width:40},"content-badging/tv/tv-y7fv-mask@2x.png":{height:13,width:40},"content-badging/tv/tv-y7fv-small-dark.png":{height:12,width:35},"content-badging/tv/tv-y7fv-small-dark@2x.png":{height:12,width:35},"content-badging/tv/tv-y7fv-small-mask.png":{height:12,width:35},"content-badging/tv/tv-y7fv-small-mask@2x.png":{height:12,width:35},"content-badging/tv/tv-y7fv-small.png":{height:12,width:35},"content-badging/tv/tv-y7fv-small@2x.png":{height:12,width:35},"content-badging/tv/tv-y7fv.png":{height:13,width:40},"content-badging/tv/tv-y7fv@2x.png":{height:13,width:40},"content-badging/tv/tv-y@2x.png":{height:13,width:24},"content-badging/apple/itunes-extras/itunes-extras-chn.png":{height:44,width:50},"content-badging/apple/itunes-extras/itunes-extras-chn@2x.png":{height:44,width:50},"content-badging/apple/itunes-extras/itunes-extras-small.png":{height:30,width:34},"content-badging/apple/itunes-extras/itunes-extras-small@2x.png":{height:30,width:34},"content-badging/apple/itunes-extras/itunes-extras-xsmall.png":{height:26,width:30},"content-badging/apple/itunes-extras/itunes-extras.png":{height:44,width:50},"content-badging/apple/itunes-extras/itunes-extras-xsmall@2x.png":{height:26,width:30},"content-badging/apple/itunes-extras/itunes-extras@2x.png":{height:44,width:50},"content-badging/apple/itunes-lp/itunes-lp-small.png":{height:30,width:34},"content-badging/apple/itunes-lp/itunes-lp-small@2x.png":{height:30,width:34},"content-badging/apple/itunes-lp/itunes-lp-xsmall.png":{height:26,width:30},"content-badging/apple/itunes-lp/itunes-lp-xsmall@2x.png":{height:26,width:30},"content-badging/apple/itunes-lp/itunes-lp.png":{height:44,width:50},"content-badging/apple/itunes-lp/itunes-lp@2x.png":{height:44,width:50},"content-badging/apple/ibooks-author/ibooks-author-bra.png":{height:44,width:79},"content-badging/apple/ibooks-author/ibooks-author-bra@2x.png":{height:44,width:79},"content-badging/apple/ibooks-author/ibooks-author-chn.png":{height:44,width:66},"content-badging/apple/ibooks-author/ibooks-author-chn@2x.png":{height:44,width:67},"content-badging/apple/ibooks-author/ibooks-author-esp.png":{height:44,width:78},"content-badging/apple/ibooks-author/ibooks-author-esp@2x.png":{height:44,width:78},"content-badging/apple/ibooks-author/ibooks-author-fra.png":{height:44,width:81},"content-badging/apple/ibooks-author/ibooks-author-fra@2x.png":{height:44,width:81},"content-badging/apple/ibooks-author/ibooks-author-ita.png":{height:44,width:73},"content-badging/apple/ibooks-author/ibooks-author-ita@2x.png":{height:44,width:73},"content-badging/apple/ibooks-author/ibooks-author-jpn.png":{height:44,width:64},"content-badging/apple/ibooks-author/ibooks-author-jpn@2x.png":{height:44,width:64},"content-badging/apple/ibooks-author/ibooks-author-nld.png":{height:44,width:49},"content-badging/apple/ibooks-author/ibooks-author-nld@2x.png":{height:44,width:49},"content-badging/apple/ibooks-author/ibooks-author-small-bra.png":{height:30,width:54},"content-badging/apple/ibooks-author/ibooks-author-small-bra@2x.png":{height:30,width:54},"content-badging/apple/ibooks-author/ibooks-author-small-chn@2x.png":{height:30,width:46},"content-badging/apple/ibooks-author/ibooks-author-small-chn.png":{height:30,width:46},"content-badging/apple/ibooks-author/ibooks-author-small-esp.png":{height:30,width:53},"content-badging/apple/ibooks-author/ibooks-author-small-esp@2x.png":{height:30,width:53},"content-badging/apple/ibooks-author/ibooks-author-small-fra.png":{height:30,width:55},"content-badging/apple/ibooks-author/ibooks-author-small-fra@2x.png":{height:30,width:55},"content-badging/apple/ibooks-author/ibooks-author-small-ita.png":{height:30,width:50},"content-badging/apple/ibooks-author/ibooks-author-small-ita@2x.png":{height:30,width:50},"content-badging/apple/ibooks-author/ibooks-author-small-jpn.png":{height:30,width:44},"content-badging/apple/ibooks-author/ibooks-author-small-jpn@2x.png":{height:30,width:44},"content-badging/apple/ibooks-author/ibooks-author-small-nld.png":{height:30,width:33},"content-badging/apple/ibooks-author/ibooks-author-small-nld@2x.png":{height:30,width:33},"content-badging/apple/ibooks-author/ibooks-author-small-tur.png":{height:30,width:50},"content-badging/apple/ibooks-author/ibooks-author-small-tur@2x.png":{height:30,width:50},"content-badging/apple/ibooks-author/ibooks-author-small.png":{height:30,width:44},"content-badging/apple/ibooks-author/ibooks-author-small@2x.png":{height:30,width:44},"content-badging/apple/ibooks-author/ibooks-author-tur.png":{height:44,width:74},"content-badging/apple/ibooks-author/ibooks-author-tur@2x.png":{height:44,width:74},"content-badging/apple/ibooks-author/ibooks-author-xsmall-bra.png":{height:26,width:47},"content-badging/apple/ibooks-author/ibooks-author-xsmall-bra@2x.png":{height:26,width:47},"content-badging/apple/ibooks-author/ibooks-author-xsmall-chn.png":{height:26,width:40},"content-badging/apple/ibooks-author/ibooks-author-xsmall-chn@2x.png":{height:26,width:39},"content-badging/apple/ibooks-author/ibooks-author-xsmall-esp.png":{height:26,width:46},"content-badging/apple/ibooks-author/ibooks-author-xsmall-esp@2x.png":{height:26,width:46},"content-badging/apple/ibooks-author/ibooks-author-xsmall-fra.png":{height:26,width:48},"content-badging/apple/ibooks-author/ibooks-author-xsmall-fra@2x.png":{height:26,width:48},"content-badging/apple/ibooks-author/ibooks-author-xsmall-ita.png":{height:26,width:43},"content-badging/apple/ibooks-author/ibooks-author-xsmall-ita@2x.png":{height:26,width:43},"content-badging/apple/ibooks-author/ibooks-author-xsmall-jpn.png":{height:26,width:38},"content-badging/apple/ibooks-author/ibooks-author-xsmall-jpn@2x.png":{height:26,width:38},"content-badging/apple/ibooks-author/ibooks-author-xsmall-nld.png":{height:26,width:29},"content-badging/apple/ibooks-author/ibooks-author-xsmall-nld@2x.png":{height:26,width:29},"content-badging/apple/ibooks-author/ibooks-author-xsmall-tur.png":{height:26,width:43},"content-badging/apple/ibooks-author/ibooks-author-xsmall-tur@2x.png":{height:26,width:43},"content-badging/apple/ibooks-author/ibooks-author-xsmall.png":{height:26,width:38},"content-badging/apple/ibooks-author/ibooks-author-xsmall@2x.png":{height:26,width:38},"content-badging/apple/ibooks-author/ibooks-author.png":{height:44,width:64},"content-badging/apple/ibooks-author/ibooks-author@2x.png":{height:44,width:64},"content-badging/apple/itunes-mastered/itunes-mastered-ara.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-ara@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-bra.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-bra@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-ca-esp.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-ca-esp@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-ca.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-ca@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-che.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-che@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-chn.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-chn@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-cze.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-cze@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-deu.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-deu@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-esp.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-esp@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-fr-can.png":{height:44,width:122},"content-badging/apple/itunes-mastered/itunes-mastered-fr-can@2x.png":{height:44,width:121},"content-badging/apple/itunes-mastered/itunes-mastered-fra.png":{height:44,width:122},"content-badging/apple/itunes-mastered/itunes-mastered-fra@2x.png":{height:44,width:121},"content-badging/apple/itunes-mastered/itunes-mastered-grc.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-grc@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-heb.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-heb@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-hkg.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-hkg@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-hun.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-hun@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-ind@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-ind.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-ita@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-jpn.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-ita.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-jpn@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-kor.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-kor@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-mex.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-mex@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-nld.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-nld@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-pol.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-pol@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-prt.png":{height:44,width:181},"content-badging/apple/itunes-mastered/itunes-mastered-prt@2x.png":{height:44,width:180},"content-badging/apple/itunes-mastered/itunes-mastered-rou.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-rou@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-rus.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-rus@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-sgp.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-sgp@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-small-ara.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-ara@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-bra.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-bra@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-ca-esp@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-ca-esp.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-ca.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-ca@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-che.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-che@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-chn.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-chn@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-cze.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-cze@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-deu.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-deu@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-esp.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-esp@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-fr-can.png":{height:30,width:83},"content-badging/apple/itunes-mastered/itunes-mastered-small-fr-can@2x.png":{height:30,width:83},"content-badging/apple/itunes-mastered/itunes-mastered-small-fra.png":{height:30,width:83},"content-badging/apple/itunes-mastered/itunes-mastered-small-fra@2x.png":{height:30,width:83},"content-badging/apple/itunes-mastered/itunes-mastered-small-grc.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-grc@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-heb.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-heb@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-hkg.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-hkg@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-hun.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-hun@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-ind.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-ind@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-ita.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-ita@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-jpn.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-jpn@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-kor.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-kor@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-mex.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-mex@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-nld.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-nld@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-pol.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-pol@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-prt.png":{height:30,width:124},"content-badging/apple/itunes-mastered/itunes-mastered-small-prt@2x.png":{height:30,width:124},"content-badging/apple/itunes-mastered/itunes-mastered-small-rou.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-rou@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-rus.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-rus@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-sgp.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-sgp@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-svk.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-svk@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-tha.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-tha@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-tur.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-tur@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-twn.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-twn@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-ukr.png":{height:30,width:92},"content-badging/apple/itunes-mastered/itunes-mastered-small-ukr@2x.png":{height:30,width:92},"content-badging/apple/itunes-mastered/itunes-mastered-small-us.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-us@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small-vnm.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small-vnm@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-small.png":{height:30,width:98},"content-badging/apple/itunes-mastered/itunes-mastered-small@2x.png":{height:30,width:96},"content-badging/apple/itunes-mastered/itunes-mastered-svk@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-svk.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-tha.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-tha@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-tur.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-tur@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-twn.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-twn@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-ukr.png":{height:44,width:135},"content-badging/apple/itunes-mastered/itunes-mastered-ukr@2x.png":{height:44,width:134},"content-badging/apple/itunes-mastered/itunes-mastered-us.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-us@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-vnm.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered-vnm@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-ara.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-ara@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-bra.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-bra@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-ca-esp.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-ca-esp@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-ca.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-ca@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-che.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-che@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-chn.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-chn@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-cze.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-cze@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-deu.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-deu@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-esp.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-esp@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-fr-can.png":{height:26,width:76},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-fr-can@2x.png":{height:26,width:71},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-fra.png":{height:26,width:76},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-grc.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-fra@2x.png":{height:26,width:71},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-grc@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-gsp.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-heb.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-heb@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-hkg.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-hkg@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-hun.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-hun@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-ind.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-ind@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-ita.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-ita@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-jpn.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-jpn@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-kor.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-kor@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-mex.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-mex@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-nld.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-nld@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-pol.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-pol@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-prt.png":{height:26,width:115},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-prt@2x.png":{height:26,width:104},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-rou.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-rou@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-rus.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-rus@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-sgp.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-sgp@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-svk.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-svk@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-tha.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-tha@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-tur.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-tur@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-twn.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-twn@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-ukr.png":{height:26,width:84},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-ukr@2x.png":{height:26,width:78},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-us.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-us@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-vnm.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall-vnm@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall.png":{height:26,width:89},"content-badging/apple/itunes-mastered/itunes-mastered-xsmall@2x.png":{height:26,width:81},"content-badging/apple/itunes-mastered/itunes-mastered.png":{height:44,width:141},"content-badging/apple/itunes-mastered/itunes-mastered@2x.png":{height:44,width:140},"content-badging/apple/itunes-mastered/itunes-masteredcze.png":{height:44,width:141},"content-badging/video-ratings/au-tv/100-tl.png":{height:11,width:12},"content-badging/video-ratings/au-tv/100.png":{height:17,width:20},"content-badging/video-ratings/au-tv/200-tl.png":{height:11,width:12},"content-badging/video-ratings/au-tv/200.png":{height:17,width:20},"content-badging/video-ratings/au-tv/300-tl.png":{height:11,width:12},"content-badging/video-ratings/au-tv/300.png":{height:17,width:20},"content-badging/video-ratings/au-tv/400-tl.png":{height:11,width:19},"content-badging/video-ratings/au-tv/400.png":{height:16,width:21},"content-badging/video-ratings/au-tv/500-tl.png":{height:11,width:13},"content-badging/video-ratings/au-tv/500.png":{height:16,width:16},"content-badging/video-ratings/au-tv/550-tl.png":{height:11,width:39},"content-badging/video-ratings/au-tv/550.png":{height:16,width:36},"content-badging/video-ratings/au-tv/575-tl.png":{height:11,width:38},"content-badging/video-ratings/au-tv/575.png":{height:16,width:38},"content-badging/video-ratings/ca-tv/100-tl.png":{height:11,width:12},"content-badging/video-ratings/ca-tv/100.png":{height:21,width:25},"content-badging/video-ratings/ca-tv/200-tl.png":{height:11,width:19},"content-badging/video-ratings/ca-tv/200.png":{height:21,width:25},"content-badging/video-ratings/ca-tv/300-tl.png":{height:11,width:12},"content-badging/video-ratings/ca-tv/300.png":{height:21,width:25},"content-badging/video-ratings/ca-tv/400-tl.png":{height:11,width:19},"content-badging/video-ratings/ca-tv/400.png":{height:21,width:25},"content-badging/video-ratings/ca-tv/500-tl.png":{height:11,width:23},"content-badging/video-ratings/ca-tv/500.png":{height:21,width:25},"content-badging/video-ratings/ca-tv/600-tl.png":{height:11,width:23},"content-badging/video-ratings/ca-tv/600.png":{height:21,width:25},"content-badging/video-ratings/br/10-lg.png":{height:17,width:15},"content-badging/video-ratings/br/10-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/br/10-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/br/10-med.png":{height:13,width:11},"content-badging/video-ratings/br/10-med@2x.png":{height:13,width:11},"content-badging/video-ratings/br/10-med@3x.png":{height:13,width:11},"content-badging/video-ratings/br/10-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/br/10-sm@3x.png":{height:12,width:10},"content-badging/video-ratings/br/10-xsm.png":{height:11,width:9},"content-badging/video-ratings/br/10-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/br/12-lg.png":{height:17,width:15},"content-badging/video-ratings/br/12-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/br/12-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/br/12-med.png":{height:13,width:11},"content-badging/video-ratings/br/12-med@2x.png":{height:13,width:11},"content-badging/video-ratings/br/12-med@3x.png":{height:13,width:11},"content-badging/video-ratings/br/12-sm.png":{height:12,width:10},"content-badging/video-ratings/br/12-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/br/12-sm@3x.png":{height:12,width:10},"content-badging/video-ratings/br/12-xsm.png":{height:11,width:9},"content-badging/video-ratings/br/12-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/br/14-lg.png":{height:17,width:15},"content-badging/video-ratings/br/14-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/br/14-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/br/14-med.png":{height:13,width:11},"content-badging/video-ratings/br/14-med@2x.png":{height:13,width:11},"content-badging/video-ratings/br/14-med@3x.png":{height:13,width:11},"content-badging/video-ratings/br/14-sm.png":{height:12,width:10},"content-badging/video-ratings/br/14-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/br/14-sm@3x.png":{height:12,width:10},"content-badging/video-ratings/br/14-xsm.png":{height:11,width:9},"content-badging/video-ratings/br/14-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/br/16-lg.png":{height:17,width:15},"content-badging/video-ratings/br/16-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/br/16-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/br/16-med.png":{height:13,width:11},"content-badging/video-ratings/br/16-med@2x.png":{height:13,width:11},"content-badging/video-ratings/br/16-med@3x.png":{height:13,width:11},"content-badging/video-ratings/br/16-sm.png":{height:12,width:10},"content-badging/video-ratings/br/16-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/br/16-sm@3x.png":{height:12,width:10},"content-badging/video-ratings/br/16-xsm.png":{height:11,width:9},"content-badging/video-ratings/br/16-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/br/18-lg.png":{height:17,width:15},"content-badging/video-ratings/br/18-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/br/18-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/br/18-med.png":{height:13,width:11},"content-badging/video-ratings/br/18-med@2x.png":{height:13,width:11},"content-badging/video-ratings/br/18-med@3x.png":{height:13,width:11},"content-badging/video-ratings/br/18-sm.png":{height:12,width:10},"content-badging/video-ratings/br/18-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/br/18-sm@3x.png":{height:12,width:10},"content-badging/video-ratings/br/18-xsm.png":{height:11,width:9},"content-badging/video-ratings/br/18-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/br/l-lg.png":{height:17,width:15},"content-badging/video-ratings/br/l-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/br/l-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/br/l-med.png":{height:13,width:11},"content-badging/video-ratings/br/l-med@2x.png":{height:13,width:11},"content-badging/video-ratings/br/l-med@3x.png":{height:13,width:11},"content-badging/video-ratings/br/l-sm.png":{height:12,width:10},"content-badging/video-ratings/br/l-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/br/l-sm@3x.png":{height:12,width:10},"content-badging/video-ratings/br/l-xsm.png":{height:11,width:9},"content-badging/video-ratings/br/l-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/ca-chvrs/0.png":{height:15,width:15},"content-badging/video-ratings/ca-chvrs/100.png":{height:15,width:15},"content-badging/video-ratings/ca-chvrs/200.png":{height:15,width:16},"content-badging/video-ratings/ca-chvrs/325.png":{height:15,width:18},"content-badging/video-ratings/ca-chvrs/400.png":{height:15,width:17},"content-badging/video-ratings/ca-chvrs/500.png":{height:15,width:16},"content-badging/video-ratings/bbfc/12-lg.png":{height:17,width:17},"content-badging/video-ratings/bbfc/12-lg@2x.png":{height:17,width:17},"content-badging/video-ratings/bbfc/12-lg@3x.png":{height:17,width:17},"content-badging/video-ratings/bbfc/12-med.png":{height:16,width:14},"content-badging/video-ratings/bbfc/12-med@2x.png":{height:16,width:14},"content-badging/video-ratings/bbfc/12-med@3x.png":{height:16,width:14},"content-badging/video-ratings/bbfc/12-sm.png":{height:14,width:14},"content-badging/video-ratings/bbfc/12-sm@2x.png":{height:14,width:14},"content-badging/video-ratings/bbfc/12-sm@3x.png":{height:14,width:14},"content-badging/video-ratings/bbfc/12-xl.png":{height:16,width:16},"content-badging/video-ratings/bbfc/12-xl@2x.png":{height:16,width:16},"content-badging/video-ratings/bbfc/12-xsm.png":{height:11,width:9},"content-badging/video-ratings/bbfc/12-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/bbfc/15-lg.png":{height:17,width:17},"content-badging/video-ratings/bbfc/15-lg@2x.png":{height:17,width:17},"content-badging/video-ratings/bbfc/15-lg@3x.png":{height:17,width:17},"content-badging/video-ratings/bbfc/15-med.png":{height:16,width:14},"content-badging/video-ratings/bbfc/15-med@2x.png":{height:16,width:14},"content-badging/video-ratings/bbfc/15-med@3x.png":{height:16,width:14},"content-badging/video-ratings/bbfc/15-sm.png":{height:14,width:14},"content-badging/video-ratings/bbfc/15-sm@2x.png":{height:14,width:14},"content-badging/video-ratings/bbfc/15-sm@3x.png":{height:14,width:14},"content-badging/video-ratings/bbfc/15-xl.png":{height:16,width:16},"content-badging/video-ratings/bbfc/15-xl@2x.png":{height:16,width:16},"content-badging/video-ratings/bbfc/15-xsm.png":{height:11,width:9},"content-badging/video-ratings/bbfc/15-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/bbfc/18-lg.png":{height:17,width:17},"content-badging/video-ratings/bbfc/18-lg@2x.png":{height:17,width:17},"content-badging/video-ratings/bbfc/18-lg@3x.png":{height:17,width:17},"content-badging/video-ratings/bbfc/18-med.png":{height:16,width:14},"content-badging/video-ratings/bbfc/18-med@2x.png":{height:16,width:14},"content-badging/video-ratings/bbfc/18-med@3x.png":{height:16,width:14},"content-badging/video-ratings/bbfc/18-sm.png":{height:14,width:14},"content-badging/video-ratings/bbfc/18-sm@2x.png":{height:14,width:14},"content-badging/video-ratings/bbfc/18-sm@3x.png":{height:14,width:14},"content-badging/video-ratings/bbfc/18-xl.png":{height:16,width:16},"content-badging/video-ratings/bbfc/18-xl@2x.png":{height:16,width:16},"content-badging/video-ratings/bbfc/18-xsm.png":{height:11,width:9},"content-badging/video-ratings/bbfc/18-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/bbfc/pg-lg.png":{height:17,width:23},"content-badging/video-ratings/bbfc/pg-lg@2x.png":{height:17,width:23},"content-badging/video-ratings/bbfc/pg-lg@3x.png":{height:17,width:23},"content-badging/video-ratings/bbfc/pg-med.png":{height:16,width:18},"content-badging/video-ratings/bbfc/pg-med@2x.png":{height:16,width:18},"content-badging/video-ratings/bbfc/pg-med@3x.png":{height:16,width:18},"content-badging/video-ratings/bbfc/pg-sm.png":{height:14,width:18},"content-badging/video-ratings/bbfc/pg-sm@2x.png":{height:14,width:18},"content-badging/video-ratings/bbfc/pg-sm@3x.png":{height:14,width:18},"content-badging/video-ratings/bbfc/pg-xl.png":{height:16,width:19},"content-badging/video-ratings/bbfc/pg-xl@2x.png":{height:16,width:19},"content-badging/video-ratings/bbfc/pg-xsm.png":{height:11,width:12},"content-badging/video-ratings/bbfc/pg-xsm@2x.png":{height:11,width:12},"content-badging/video-ratings/bbfc/u-lg.png":{height:17,width:23},"content-badging/video-ratings/bbfc/u-lg@2x.png":{height:17,width:23},"content-badging/video-ratings/bbfc/u-med.png":{height:16,width:18},"content-badging/video-ratings/bbfc/u-lg@3x.png":{height:17,width:23},"content-badging/video-ratings/bbfc/u-med@2x.png":{height:16,width:18},"content-badging/video-ratings/bbfc/u-med@3x.png":{height:16,width:18},"content-badging/video-ratings/bbfc/u-sm.png":{height:14,width:18},"content-badging/video-ratings/bbfc/u-sm@2x.png":{height:14,width:18},"content-badging/video-ratings/bbfc/u-sm@3x.png":{height:14,width:18},"content-badging/video-ratings/bbfc/u-xl@2x.png":{height:16,width:19},"content-badging/video-ratings/bbfc/u-xsm@2x.png":{height:11,width:11},"content-badging/video-ratings/bbfc/u-xl.png":{height:16,width:19},"content-badging/video-ratings/bbfc/u-xsm.png":{height:11,width:12},"content-badging/video-ratings/de-fsk/100.png":{height:14,width:60},"content-badging/video-ratings/de-fsk/500.png":{height:14,width:65},"content-badging/video-ratings/de-fsk/75.png":{height:14,width:60},"content-badging/video-ratings/de-fsk/600.png":{height:14,width:65},"content-badging/video-ratings/de-fsk/200.png":{height:14,width:65},"content-badging/video-ratings/de-tv/100.png":{height:11,width:78},"content-badging/video-ratings/de-tv/200.png":{height:11,width:83},"content-badging/video-ratings/de-tv/500.png":{height:11,width:83},"content-badging/video-ratings/de-tv/75.png":{height:11,width:78},"content-badging/video-ratings/fr-tv/100-tl.png":{height:11,width:22},"content-badging/video-ratings/fr-tv/100.png":{height:16,width:20},"content-badging/video-ratings/fr-tv/200-tl.png":{height:11,width:22},"content-badging/video-ratings/fr-tv/200.png":{height:16,width:20},"content-badging/video-ratings/fr-tv/500-tl.png":{height:11,width:22},"content-badging/video-ratings/fr-tv/500.png":{height:16,width:20},"content-badging/video-ratings/fr-tv/600-tl.png":{height:16,width:20},"content-badging/video-ratings/fr-tv/600.png":{height:11,width:22},"content-badging/video-ratings/ke/0.png":{height:28,width:28},"content-badging/video-ratings/ke/400.png":{height:28,width:28},"content-badging/video-ratings/ke/200.png":{height:28,width:28},"content-badging/video-ratings/ke/500.png":{height:28,width:28},"content-badging/video-ratings/om/0.png":{height:29,width:31},"content-badging/video-ratings/om/200.png":{height:29,width:31},"content-badging/video-ratings/om/300.png":{height:29,width:31},"content-badging/video-ratings/om/350.png":{height:29,width:31},"content-badging/video-ratings/om/400.png":{height:29,width:31},"content-badging/video-ratings/pg/0.png":{height:28,width:28},"content-badging/video-ratings/pg/375.png":{height:28,width:28},"content-badging/video-ratings/pg/400.png":{height:28,width:28},"content-badging/video-ratings/pg/500.png":{height:28,width:28},"content-badging/video-ratings/sg/100.png":{height:30,width:30},"content-badging/video-ratings/sg/200.png":{height:30,width:30},"content-badging/video-ratings/sg/300.png":{height:30,width:46},"content-badging/video-ratings/sg/375.png":{height:30,width:50},"content-badging/video-ratings/sg/400.png":{height:30,width:50},"content-badging/video-ratings/sg/600.png":{height:30,width:50},"content-badging/video-ratings/sk/0.png":{height:15,width:15},"content-badging/video-ratings/sk/125.png":{height:15,width:15},"content-badging/video-ratings/sk/200.png":{height:15,width:15},"content-badging/video-ratings/sk/350.png":{height:15,width:15},"content-badging/video-ratings/sk/500.png":{height:15,width:15},"content-badging/video-ratings/th/0.png":{height:30,width:38},"content-badging/video-ratings/th/100.png":{height:30,width:38},"content-badging/video-ratings/th/300.png":{height:30,width:72},"content-badging/video-ratings/th/350.png":{height:30,width:72},"content-badging/video-ratings/th/400.png":{height:30,width:72},"content-badging/video-ratings/th/600.png":{height:30,width:72},"content-badging/video-ratings/tr/100.png":{height:28,width:28},"content-badging/video-ratings/tr/125.png":{height:28,width:28},"content-badging/video-ratings/tr/130.png":{height:28,width:28},"content-badging/video-ratings/tr/300.png":{height:28,width:28},"content-badging/video-ratings/tr/350.png":{height:28,width:28},"content-badging/video-ratings/tr/360.png":{height:28,width:28},"content-badging/video-ratings/tr/400.png":{height:28,width:28},"content-badging/video-ratings/nz-oflc/g-lg.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/g-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/g-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/g-med.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/g-med@2x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/g-sm.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/g-med@3x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/g-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/g-sm@3x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/g-xsm.png":{height:11,width:9},"content-badging/video-ratings/nz-oflc/g-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/nz-oflc/m-lg.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/m-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/m-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/m-med@2x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/m-med.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/m-med@3x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/m-sm.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/m-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/m-sm@3x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/m-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/nz-oflc/m-xsm.png":{height:11,width:9},"content-badging/video-ratings/nz-oflc/pg-lg.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/pg-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/pg-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/pg-med.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/pg-med@2x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/pg-med@3x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/pg-sm.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/pg-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/pg-sm@3x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/pg-xsm.png":{height:11,width:9},"content-badging/video-ratings/nz-oflc/pg-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/nz-oflc/r13-lg.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/r13-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/r13-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/r13-med.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/r13-med@2x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/r13-med@3x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/r13-sm.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/r13-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/r13-sm@3x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/r13-xsm.png":{height:11,width:9},"content-badging/video-ratings/nz-oflc/r13-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/nz-oflc/r15-lg.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/r15-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/r15-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/r15-med.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/r15-med@2x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/r15-med@3x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/r15-sm.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/r15-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/r15-sm@3x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/r15-xsm.png":{height:11,width:9},"content-badging/video-ratings/nz-oflc/r15-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/nz-oflc/r16-lg.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/r16-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/r16-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/r16-med.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/r16-med@2x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/r16-med@3x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/r16-sm.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/r16-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/r16-sm@3x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/r16-xsm.png":{height:11,width:9},"content-badging/video-ratings/nz-oflc/r16-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/nz-oflc/r18-lg.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/r18-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/r18-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/r18-med.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/r18-med@2x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/r18-med@3x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/r18-sm.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/r18-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/r18-sm@3x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/r18-xsm.png":{height:11,width:9},"content-badging/video-ratings/nz-oflc/r18-xsm@2x.png":{height:11,width:9},"content-badging/video-ratings/nz-oflc/rp13-lg.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/rp13-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/rp13-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/rp13-med.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/rp13-med@2x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/rp13-med@3x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/rp13-sm.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/rp13-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/rp13-sm@3x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/rp16-lg.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/rp16-lg@2x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/rp16-lg@3x.png":{height:17,width:15},"content-badging/video-ratings/nz-oflc/rp16-med.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/rp16-med@2x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/rp16-sm.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/rp16-med@3x.png":{height:13,width:11},"content-badging/video-ratings/nz-oflc/rp16-sm@2x.png":{height:12,width:10},"content-badging/video-ratings/nz-oflc/rp16-sm@3x.png":{height:12,width:10}},window.its||(window.its={}),window.its.sf||(window.its.sf={}),its.sf.Metrics={},its.sf.Metrics._logger=its.Logger.named("its.sf.Metrics"),its.sf.Metrics._TOPIC_MAIN="xp_its_main",its.sf.Metrics.ActionType={ADD:"add",AD_TRANSPARENCY:"ad_transparency",AD_RELEVANT_YES:"ad_relevant_yes",AD_RELEVANT_NO:"ad_relevant_no",BACK:"back",BUY:"buy",BUY_INITIATE:"buyInitiate",DELETE:"delete",DIALOG:"dialog",DISMISS:"dismiss",DOWNLOAD:"download",FOCUS:"focus",NAVIGATE:"navigate",NOTIFY:"notify",OPEN:"open",PAUSE:"pause",PLAY:"play",REVEAL:"reveal",SAMPLE:"sample",SELECT:"select",SHEET:"sheet",SORT:"sort",STOP:"stop",SUBSCRIBE:"subscribe",UPDATE:"update"},its.sf.Metrics._LOCATION_KEY="metrics-loc",its.sf.Metrics._LOCATION_DETAILS_KEY="metrics-loc-details",its.sf.Metrics._LOCATION_LEAF_KEY="metrics-leaf",its.sf.Metrics.EventType={ACCOUNT:"account",BASE:"base",BUY_CONFIRMED:"buyConfirmed",CLICK:"click",PAGE:"page",DIALOG:"dialog",ENTER:"enter",EXIT:"exit",IMPRESSIONS:"impressions",MEDIA:"media",SEARCH:"search",TIME_ADJUSTED:"timeAdjusted"},its.sf.Metrics.itmsAvailable=typeof itms!="undefined",its.sf.Metrics.iTunesAvailable=typeof iTunes!="undefined",its.sf.Metrics.bagMetrics=function(){if(!its.sf.Metrics._bagMetricsCache){its.sf.Metrics._bagMetricsFull=null,its.sf.Metrics._bagMetricsCache={};
var e=null,t=null,n=null;
its.sf.Metrics.itmsAvailable?(t=itms.getBag(),n=typeof Device!="undefined"&&Device.appIdentifier):its.sf.Metrics.iTunesAvailable&&(t=typeof iTunes.getBag=="function"&&iTunes.getBag(),n=typeof iTunes.appBundleName!="undefined"?iTunes.appBundleName:null),t?(its.sf.Metrics._bagMetricsFull=t.metrics,its.sf.Metrics._bagMetricsFull||(e="Bag: metrics section not found")):e="Bag: bag not found",e&&its.sf.Metrics._logger.error(e);
if(its.sf.Metrics._bagMetricsFull){var r=its.sf.Metrics._bagMetricsFull,i=r[n];
its.reflect.copyKeysAndValues(r,its.sf.Metrics._bagMetricsCache),its.reflect.copyKeysAndValues(i,its.sf.Metrics._bagMetricsCache)}}return its.sf.Metrics._bagMetricsCache},its.sf.Metrics.bagMetricsBase=function(){if(!its.sf.Metrics._bagMetricsBaseCache){var e=its.sf.Metrics.bagMetrics().metricsBase;
its.sf.Metrics._bagMetricsBaseCache={},(its.sf14||its.sf.Metrics.itmsAvailable)&&e&&its.reflect.copyKeysAndValues(e,its.sf.Metrics._bagMetricsBaseCache)}return its.sf.Metrics._bagMetricsBaseCache},its.sf.Metrics.recordEvent=function(e,t,n){var r=e.fields;
r&&(t||(t="xp_its_main"),r=its.sf.Metrics.doesEventContainIadData(r),its.sf.Metrics.itmsAvailable&&itms.recordEvent?(r.xpSendMethod="itms",itms.recordEvent(t,r)):its.sf.Metrics.iTunesAvailable&&iTunes.recordEvent?(r.xpSendMethod="itunes",iTunes.recordEvent(t,r)):its.MetricsQueue&&its.MetricsQueue.recordEvent?(r.xpSendMethod="javascript",its.MetricsQueue.recordEvent(t,r,n)):its.sf.Metrics._logger.warn('No native or JavaScript "recordEvent" method found',null,!0))},its.sf.Metrics.doesEventContainIadData=function(e){if(e.iAd||e.iAdId||e.iAdAlgoId||e.iAdMetadata||e.iAdFormat||e.iAdImpressionId)e.hasiAdData=!0;
else if(e.impressions){var t=e.impressions.length;
for(var n=0;
n<t;
n++)if(e.impressions[n].iAdId||e.impressions[n].iAdAlgoId||e.impressions[n].iAdMetadata||e.impressions[n].iAdFormat||e.impressions[n].iAdImpressionId){e.hasiAdData=!0;
break}}return e},its.sf.Metrics.blacklistedEvents=null,its.sf.Metrics.blacklistedEventsMap=function(){return its.sf.Metrics.configFieldMap("blacklistedEvents")},its.sf.Metrics.blacklistedFields=null,its.sf.Metrics.blacklistedFieldsMap=function(){return its.sf.Metrics.configFieldMap("blacklistedFields")},its.sf.Metrics.configFieldMap=function(e){var t={};
if(its.sf.Metrics.config.disabled)its.sf.Metrics[e]={};
else if(!its.sf.Metrics[e]){t=its.arrayToMap(its.sf.Metrics.config[e]);
var n=its.arrayToMap(its.property("metrics."+e));
its.reflect.copyKeysAndValues(n,t);
var r=its.arrayToMap(its.pageData("metrics.config."+e));
its.reflect.copyKeysAndValues(r,t),Object.keys(t).length&&(its.sf.Metrics[e]=t)}else t=its.sf.Metrics[e];
return t},its.sf.Metrics.eventDisabled=function(e){var t=!1;
if(its.sf.Metrics.config.disabled)t=!0;
else{var n=its.sf.Metrics.blacklistedEventsMap();
n[e]&&(t=!0)}return t},its.sf.Metrics.fieldsMappedData=function(e,t){var n={},r=null;
its.sf.Metrics.config.fieldsMap&&(r=its.objectAtPath(t,its.sf.Metrics.config.fieldsMap));
if(r){if(!its.isArray(e)){var i=[];
i.push(e),e=i}for(var s in r){var o=r[s],u=null;
for(var a=0;
a<o.length;
a++){var f=o[a];
for(var l=0;
l<e.length;
l++){var c=e[l];
u=its.objectAtPath(f,c);
if(u){if(s=="id"){var h=u.toString(),p=h.indexOf("."),d="its";
p!=-1&&(d=h.substring(0,p)),n.idType=d+its.sf.Metrics.config.compoundSeparator+f}break}}if(u)break}u&&(n[s]=u)}}else its.sf.Metrics.config.disabled||its.sf.Metrics._logger.error("fieldsMap does not contain a section called: "+t);
return n},its.sf.Metrics.setLocationInfo=function(e,t,n){if(!its.sf.Metrics.config.disabled){e.metrics||(e.metrics={});
var r=its.sf.Metrics.fieldsMappedData(t,"custom.location");
r.locationType=n,e.metrics.locationInfo=r}},its.sf.Metrics.setTargetInfo=function(e,t,n,r,i,s){if(!its.sf.Metrics.config.disabled){e.metrics||(e.metrics={});
var o={};
o.targetId=t,o.targetId==null&&delete o.targetId,o.targetType=n,o.targetType==null&&delete o.targetType,o.targetActionType=r,o.targetActionType==null&&delete o.targetActionType,o.targetActionUrl=i,o.targetActionUrl==null&&delete o.targetActionUrl,o.targetActionDetails=s,o.targetActionDetails==null&&delete o.targetActionDetails,o.target=n+its.sf.Metrics.config.compoundSeparator+t,o.target==null&&delete o.target,e.metrics.targetInfo=o}},its.sf.Metrics.clearTargetInfo=function(e){its.sf.Metrics.setTargetInfo(e,null,null,null,null,null)},its.sf.Metrics.pingMetricsBeforePageUnload=function(e,t,n,r,i,s){its.sf.Metrics.setTargetInfo(e,t,n,r,i,s),ITSLocationMetricsUtil.setCustomClickHref(e,i),ITSLocationMetricsUtil.emitCustomClickEvent(e,null)},its.sf.Metrics._locationForElement=function(e){return e.hasAttribute&&e.hasAttribute(its.sf.Metrics._LOCATION_KEY)?{metricsString:e.getAttribute(its.sf.Metrics._LOCATION_KEY),metricsElement:e}:null},its.sf.Metrics.assignFieldValue=function(e,t,n,r,i,s){if(t&&t.length>=1){s||(s=t);
var o=its.sf.Metrics.blacklistedFieldsMap(),u=i?i+".":"";
if(!o[t]&&!o[u+t])if(!e||!its.isDefined(e[t])){e||(e={});
var a=its.valueOverride(s);
its.isDefined(a)||(r?a=definedValue(its.pageData(r+"."+s),n):a=n),a&&its.isDefined(a)?e[t]=a:delete e[t]}else its.isDefined(e[t])&&!e[t]&&delete e[t]}return e},its.sf.Metrics.assignFieldValues=function(e,t,n,r,i){if(e)for(var s in e)t=its.sf.Metrics.assignFieldValue(t,s,e[s],n,r,i);
return t},its.sf.Metrics.baseDataFields=function(e,t,n){var r=n?n:null;
if(!r){var i=its.sf.Metrics.bagMetricsBase(),s={};
its.reflect.copyKeysAndValues(i,s);
var o=its.property("metrics.metricsBase");
if(o)for(var u in o)s[u]=o[u];
r=s}if(!r.pageContext&&its.sf.Platform.isITML()&&typeof TabBar!="undefined"&&TabBar.selectedTab){var a=its.App&&its.App.StoreSheetData;
a?r.pageContext="Sheet":r.pageContext=its.string.capitalizeString(TabBar.selectedTab.identifier)}var f=its.sf.Metrics.assignFieldValues(r,e,null,t);
return f},its.sf.Metrics.pageDataFields=function(e,t){var n=its.pageData("metricsBase"),r=its.sf.Metrics.assignFieldValues(n,e,null,t);
return r},its.sf.Metrics.environmentFields=function(e,t){var n={};
n.baseVersion=its.sf.Metrics._BASE_VERSION,n.resourceRevNum=its.property("ITSResourceRevNum"),n.timezoneOffset=(new Date).getTimezoneOffset(),n.clientId=its.cookies.get("xp_ci"),its.sf14||its.sf.Metrics.itmsAvailable?(itms.storefront&&(n.storeFrontHeader=itms.storefront),n.app=Device.appIdentifier,n.hostApp=itms.hostApp,n.appVersion=Device.appVersion,n.osVersion=Device.systemVersion,n.dsId=itms.DSID,n.userAgent=itms.userAgent,n.connection=itms.networkConnectionType,n.screenWidth=Settings.Screen.width,n.screenHeight=Settings.Screen.height,n.pixelRatio=Device.pixelRatio,typeof Device!="undefined"&&Device.capacity&&(n.capacitySystem=its.sf.Metrics._deResNumber(Device.capacity("totalSystemCapacity")),n.capacitySystemAvailable=its.sf.Metrics._deResNumber(Device.capacity("totalSystemAvailable")),n.capacityDisk=its.sf.Metrics._deResNumber(Device.capacity("totalDiskCapacity")),n.capacityData=its.sf.Metrics._deResNumber(Device.capacity("totalDataCapacity")),n.capacityDataAvailable=its.sf.Metrics._deResNumber(Device.capacity("totalDataAvailable")))):its.sf.Metrics.iTunesAvailable&&(n.storeFrontHeader=iTunes.storefront,n.app=iTunes.appBundleName,n.appVersion=its.sf.Client.version(),n.osVersion=its.client&&its.client.osVersion&&its.client.osVersion()||iTunes.systemVersion&&iTunes.systemVersion()||its.sf.Metrics._macOsVersion(),n.dsId=its.sf.Client.dsId(),isNaN(n.dsId)&&(n.dsId=null),n.pageUrl=window&&window.location&&window.location.href?window.location.href:null,n.userAgent=navigator.userAgent,n.screenWidth=screen.width,n.screenHeight=screen.height,n.pixelRatio=window.devicePixelRatio,n.windowInnerWidth=window.innerWidth,n.windowInnerHeight=window.innerHeight,n.windowOuterWidth=window.outerWidth,n.windowOuterHeight=window.outerHeight,n.windowOrientation=window.orientation,n.browserEngineType="AppleWebKit",n.browserType="iTunes",n.browserVersion=its.sf.Client.version()),e=its.sf.Metrics.assignFieldValue(e,"xpPostFrequency",its.sf.Metrics.config.postFrequency,"metrics",t,"postFrequency");
for(aField in n)e=its.sf.Metrics.assignFieldValue(e,aField,n[aField],null,t);
return e},its.sf.Metrics._deResNumber=function(t){if(typeof t!="undefined")return Math.floor(Math.floor(t/1024/1024)/100)*100},its.sf.Metrics.requestId=function(){var t="z",n=Date.now(),r=Math.floor(Math.random()*1e5);
return n=n.toString(36).toUpperCase(),r=r.toString(36).toUpperCase(),its.cookies.get("xp_ci")+t+n+t+r},its.sf.Metrics.derivedFields=function(e,t){var n=e,r=null,i=its.property("metrics.fieldsMap");
i||(i=its.sf.Metrics.config.fieldsMap);
if(i){var s=i.cookies;
if(s)for(var o=0;
o<s.length;
o++){var u=s[o],a=its.cookies.get(u);
a&&(r||(r={}),r[u]=a)}}return r&&(n.cookies=r,n=its.sf.Metrics.assignFieldValues(n,e,null,t)),n},its.sf.Metrics.allDerivedFields=function(e,t,n){var r=its.sf.Metrics.baseDataFields(e,t,n);
return r=its.sf.Metrics.pageDataFields(r,t),r=its.sf.Metrics.environmentFields(r,t),r=its.sf.Metrics.derivedFields(r,t),r},its.sf.Metrics._createConfig=function(){var e={};
its.MetricsQueue&&its.MetricsQueue.config.disabled&&(e.disabled=!0);
if(!e.disabled){var t={};
its.reflect.copyKeysAndValues(its.sf.Metrics.bagMetrics(),t);
var n=its.property("metrics");
e=t;
if(n)for(var r in n)e[r]=n[r];
e.metricsBase=null,delete e.metricsBase;
for(var r in e){var i=its.valueOverride("metrics."+r);
i&&(e[r]=i)}e.localStorage=its.sf.LocalStorage,e.postResponseCallback=its.sf.Metrics._postResponseCallback}return e},its.sf.Metrics._postResponseCallback=function(e,t){if(e==200){var n=its.string.evalJson(t);
if(n){n.setSf&&its.sf.Metrics.iTunesAvailable&&iTunes.setStorefront&&iTunes.storefront!=n.setSf&&(iTunes.version&&its.sf.Metrics._logger.warn("iTunes "+iTunes.version+" x-set-apple-storefront="+n.setSf+" failed (old header="+iTunes.storefront+"). Setting by hand...",null,!0),iTunes.setStorefront(n.setSf));
if(n.setCookies)for(var r=0;
r<n.setCookies.length;
r++){var i=n.setCookies[r],s=its.cookies.get(i.name);
s!=i.value&&its.cookies.set(i.name,i.value,i.expiration,i.path,i.domain)}}}},its.sf.Metrics._macOsVersion=function(e){e||(e=navigator.userAgent);
var t=e.match(/Mac.*OS X ([\d_\-\.]+)/);
return t&&t.length>1?t[1]:null},its.sf.Metrics.setConfig=function(e){if(e&&!e.disabled)if(!its.sf.Metrics.config||its.sf.Metrics.config.stubConfig)its.sf.Metrics.config=e;
else for(var t in e)!its.sf.Metrics.config[t]&&e.hasOwnProperty(t)&&its.isDefined(e[t])&&(its.sf.Metrics.config[t]=e[t]);
else its.sf.Metrics.config={},e?its.sf.Metrics.config.disabled=e.disabled:(its.sf.Metrics.config.stubConfig=!0,its.sf.Metrics.config.disabled=!0);
(!its.sf.Metrics.itmsAvailable||!itms.recordEvent)&&(!its.sf.Metrics.iTunesAvailable||!iTunes.recordEvent)&&its.MetricsQueue&&its.MetricsQueue.recordEvent&&its.MetricsQueue&&its.MetricsQueue.setConfig(its.sf.Metrics.config)},its.sf.Metrics.setConfig(its.sf.Metrics._createConfig()),its.sf.Metrics||(its.sf.Metrics={}),its.sf.Metrics.Events={},its.sf.Metrics.Events.Base=Class.create("its.sf.Metrics.Events.Base",{initialize:function(e,t,n,r,i){var s="base";
this._logger=its.Logger.named(this.klassName),e||(e={}),this.fields=e,this.eventType=t,this.eventVersion=n,i=definedValue(i,definedValue(its.property("metrics.topic_main"),its.sf.Metrics._TOPIC_MAIN)),this.topic=i,this.fields=this.assignFieldValues(this.fields,null),this.fields=this.assignFieldValue(this.fields,"eventType",t),this.fields=this.assignFieldValue(this.fields,"eventVersion",n),this.fields=this.assignFieldValue(this.fields,"topic",i),this.fields=this.assignFieldValue(this.fields,"eventTime",(new Date).getTime()),this.fields=its.sf.Metrics.allDerivedFields(this.fields,this.eventType,r)},assignFieldValue:function(e,t,n,r){return its.sf.Metrics.assignFieldValue(e,t,n,r,this.eventType)},assignFieldValues:function(e,t,n){return its.sf.Metrics.assignFieldValues(e,t,n,this.eventType)}}),its.sf.Metrics._BASE_VERSION=1,its.createObjectPath("its.sf.Metrics.Events"),its.sf.Metrics.Events.Click=Class.createSubclass("its.sf.Metrics.Events.Click",its.sf.Metrics.Events.Base,{initialize:function(e,t){this.base(e,its.sf.Metrics.EventType.CLICK,this.version(),t)},version:function(){return its.sf.Metrics._CLICK_VERSION}}),its.sf.Metrics.Events.Click._modifyChildWithDetailsIfNecessaryDeprecatedHtmlOnly=function(e,t){var n=t.metricsString;
if(n.length>0&&n.charAt(n.length-1)=="_"){var r="["+its.sf.Metrics._LOCATION_KEY+'="'+n+'"]',i=e.querySelectorAll(r);
if(t.metricsElement.hasAttribute(its.sf.Metrics._LOCATION_DETAILS_KEY))t.metricsDetails=t.metricsElement.getAttribute(its.sf.Metrics._LOCATION_DETAILS_KEY);
else{var s=-1;
for(var o=0;
o<i.length;
o++)if(i[o]===t.metricsElement){s=o;
break}s>=0&&(t.metricsDetails=s+1)}}},its.sf.Metrics.Events.Click._generateLocationStackDeprecatedHtmlOnly=function(e,t,n){var r=[],i=null;
for(var s=e;
s;
s=s.parentNode){var o=its.sf.Metrics._locationForElement(s),u=!1;
o&&(r.push(o),u=!0);
if(i){var a=null;
o?a=o.metricsElement:s.tagName&&s.tagName.toLowerCase()=="body"&&(a=s),a&&its.sf.Metrics.Events.Click._modifyChildWithDetailsIfNecessaryDeprecatedHtmlOnly(a,i)}u&&(i=o)}if(r.length===0)return null;
var f="";
for(;
;){var o=r.pop();
if(!o)break;f.length>0&&(f+=its.sf.Metrics.config.tokenSeparator),f+=o.metricsString,o.metricsDetails&&(f+=o.metricsDetails)}var l=its.pageData("metricsBase.page");
return l&&!t&&(f=l+its.sf.Metrics.config.tokenSeparator+f),n&&(f=f+its.sf.Metrics.config.tokenSeparator+n),f},its.sf.Metrics.Events.Click.clickTargetElement=function(e){var t=e,n;
while(t&&t!=document){if(t.metrics&&t.metrics.targetInfo){n=t.metrics.targetInfo;
if(n.targetType)return t}t=t.parentNode}return null},its.sf.Metrics.Events.Click.clickDataFromElement=function(e,t,n,r){var i=null;
if(e&&e.metrics&&e.metrics.targetInfo){var s=e.metrics.targetInfo,o=s.targetType;
o&&(i={},its.sf.Metrics.itmsAvailable?i.location=its.sf.Metrics.Events.Click.location(e):i.location=its.sf.Metrics.Events.Click._generateLocationStackDeprecatedHtmlOnly(e),i.targetId=s.targetId,i.targetType=o,i.target=s.target,i.actionType=s.targetActionType,i.actionUrl=s.targetActionUrl,i.actionDetails=s.targetActionDetails,i.positionX=n,i.positionY=r,i.impressions=null),e.metrics.iAdId&&(i.iAdId=e.metrics.iAdId,i.iAdAlgoId=e.metrics.iAdAlgoId,i.iAdMetadata=e.metrics.iAdMetadata,i.iAdImpressionId=e.metrics.iAdImpressionId,i.iAdFormat=e.metrics.iAdFormat)}return i},its.sf.Metrics.Events.Click.location=function(e){var t=e,n=[],r={},i,s,o,u,a,f,l;
while(t){i=t.parentNode;
if(i){var c=t.metrics?t.metrics.locationInfo:null;
c?r=its.sf.Metrics.fieldsMappedData(c,"custom.location"):r={},l=its.sf.Metrics.Events.Click._getLocationType(t,c);
if(l){r.locationType=l,s=i.children,o=s.length,u=0;
for(var h=0;
h<o;
h++){var p=s.item(h);
a=p.metrics?p.metrics.locationInfo:null,f=its.sf.Metrics.Events.Click._getLocationType(p,a);
if(f){if(p==t)break;u++}}r.locationPosition=u,n.push(r)}}t=i}return n},its.sf.Metrics.Events.Click._getLocationType=function(e,t){var n=e.metrics?e.metrics.targetInfo:null,r=n?n.targetType:null,i=t?t.locationType:null;
return r?r:i},its.sf.Metrics._CLICK_VERSION=4,its.sf.Metrics.Events.BuyConfirmed=Class.createSubclass("its.sf.Metrics.Events.BuyConfirmed",its.sf.Metrics.Events.Base,{initialize:function(e,t){this.base(e,its.sf.Metrics.EventType.BUY_CONFIRMED,this.version(),t)}}),its.sf.Metrics._BUY_CONFIRMED_VERSION=1,its.sf.Metrics.Events.BuyConfirmed._paramString=function(e){var t="",n="",r=!0;
for(var i in e){var s=e[i];
if(s||s===0||s===!1)t+=n+i+"="+encodeURIComponent(s),r&&(n="&",r=!1)}return t},its.sf.Metrics.Events.BuyConfirmed._resolveAppBundleName=function(){var e=null;
return typeof Device!="undefined"?e=Device.appIdentifier:typeof iTunes!="undefined"&&iTunes.appBundleName?e=iTunes.appBundleName:typeof window!="undefined"&&window.navigator.userAgent.indexOf("MacAppStore")>-1?e="MacAppStore":typeof window!="undefined"&&window.navigator.userAgent.indexOf("iBooks")>-1&&(e="iBooks"),e},its.sf.Metrics.Events.BuyConfirmed.metricsBuyParamsString=function(e,t,n,r,i){var s=its.sf.Metrics.Events.Page.pageHistoryArray(),o;
return s.length>=2&&(o=s[s.length-2]),its.sf.Metrics.Events.BuyConfirmed._paramString({mtApp:its.sf.Metrics.Events.BuyConfirmed._resolveAppBundleName(),mtEventTime:Date.now(),mtPageId:e,mtPageType:t,mtPageContext:n,mtSearchTerm:r,mtTopic:i||"xp_its_main",mtPrevPage:o,mtRequestId:its.sf.Metrics.requestId(),mtClientId:its.cookies.get("xp_ci")})},its.sf.Metrics.Events.Dialog=Class.createSubclass("its.sf.Metrics.Events.Dialog",its.sf.Metrics.Events.Base,{initialize:function(e,t){this.base(e,its.sf.Metrics.EventType.DIALOG,its.sf.Metrics._DIALOG_VERSION,t),this.fields=this.assignFieldValue(this.fields,"type"),this.fields=this.assignFieldValue(this.fields,"message"),this.fields=this.assignFieldValue(this.fields,"buttons"),this.fields=this.assignFieldValue(this.fields,"code")}}),its.sf.Metrics._DIALOG_VERSION=1,its.sf.Metrics.Events.Dialog._handleDialog=function(e){var t=null,n={};
its.sf.Metrics.recordEvent(new its.sf.Metrics.Events.Dialog(n))},!its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.DIALOG),its.sf.Metrics.Events.Enter=Class.createSubclass("its.sf.Metrics.Events.Enter",its.sf.Metrics.Events.Base,{initialize:function(e,t){this.base(e,its.sf.Metrics.EventType.ENTER,its.sf.Metrics._ENTER_VERSION,t),this.fields=this.assignFieldValue(this.fields,"type"),this.fields=this.assignFieldValue(this.fields,"refUrl"),this.fields=this.assignFieldValue(this.fields,"refApp")}}),its.sf.Metrics._ENTER_VERSION=1,its.sf.Metrics.Events.Enter._handleEnter=function(e){var t=null,n={};
its.sf.Metrics.recordEvent(new its.sf.Metrics.Events.Enter(n))},!its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.ENTER),its.sf.Metrics.Events.Exit=Class.createSubclass("its.sf.Metrics.Events.Exit",its.sf.Metrics.Events.Base,{initialize:function(e,t){this.base(e,its.sf.Metrics.EventType.EXIT,its.sf.Metrics._EXIT_VERSION,t),this.fields=this.assignFieldValue(this.fields,"type")}}),its.sf.Metrics._EXIT_VERSION=1,its.sf.Metrics.Events.Exit._handleExit=function(e){var t=null,n={type:null};
its.sf.Metrics.recordEvent(new its.sf.Metrics.Events.Exit(n))},!its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.EXIT),its.createObjectPath("its.sf.Metrics.Events"),its.sf.Metrics.Events.Impressions=Class.createSubclass("its.sf.Metrics.Events.Impressions",its.sf.Metrics.Events.Base,{initialize:function(e,t){this.base(e,its.sf.Metrics.EventType.IMPRESSIONS,this.version(),t)},version:function(){return its.sf.Metrics._IMPRESSIONS_VERSION}}),its.sf.Metrics._IMPRESSIONS_VERSION=1,its.sf.Metrics.Events.Media=Class.createSubclass("its.sf.Metrics.Events.Media",its.sf.Metrics.Events.Base,{initialize:function(e,t){this.base(e,its.sf.Metrics.EventType.MEDIA,its.sf.Metrics._MEDIA_VERSION,t),this.fields=this.assignFieldValue(this.fields,"event"),this.fields=this.assignFieldValue(this.fields,"url"),this.fields=this.assignFieldValue(this.fields,"itemId")}}),its.sf.Metrics._MEDIA_VERSION=1,its.sf.Metrics.Events.Media._handleMedia=function(e){var t=null,n={};
its.sf.Metrics.recordEvent(new its.sf.Metrics.Events.Media(n))},!its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.MEDIA),its.sf.Metrics.Events.Page=Class.createSubclass("its.sf.Metrics.Events.Page",its.sf.Metrics.Events.Base,{initialize:function(e,t){this.base(e,its.sf.Metrics.EventType.PAGE,this.version(),t),this.fields=this.assignFieldValue(this.fields,"pageLoadTime",this.fields.pageLoadTime),this.fields=this.assignFieldValue(this.fields,"pageRenderTime",this.fields.pageRenderTime),this.fields=this.assignFieldValue(this.fields,"navigation",this.fields.navigation),this.fields=this.assignFieldValue(this.fields,"isUber",this.fields.isUber,"metrics.fields"),this.fields=this.assignFieldValue(this.fields,"searchFilters",this.fields.searchFilters,"metrics.fields"),this.fields=this.assignFieldValue(this.fields,"searchTerm",this.fields.searchTerm,"metrics.fields"),this.fields=this.assignFieldValue(this.fields,"serverInstance",this.fields.serverInstance,"metrics.fields"),this.fields=this.assignFieldValue(this.fields,"serverTiming",this.fields.serverTiming,"metrics.fields"),this.fields=this.assignFieldValue(this.fields,"refUrl",document.referrer),typeof iTunes!="undefined"&&iTunes.referringUserAgent&&(this.fields=this.assignFieldValue(this.fields,"refApp",iTunes.referringUserAgent));
var n=its.sf.Metrics.Events.Page.pageHistoryArray(),r=its.sf.Metrics.Events.Page.pageHistoryString();
this.fields=this.assignFieldValue(this.fields,"pageHistory",r),n.push(this.fields.page),n=n.splice(-5,5),its.sf.LocalStorage.setItem(its.sf.Metrics._PAGEHISTORY_LOCAL_STORAGE_KEY,JSON.stringify(n))},version:function(){return its.sf.Metrics._PAGE_VERSION}}),its.sf.Metrics.Events.Page.supersedeConfig=function(e){e&&its.sf.Metrics.setConfig(e)},its.sf.Metrics.Events.Page.pageHistoryString=function(){var e=its.sf.LocalStorage.getItem(its.sf.Metrics._PAGEHISTORY_LOCAL_STORAGE_KEY);
return e||(e=its.sf.LocalStorage.getItem("pageHistory"),e&&its.sf.LocalStorage.setItem(its.sf.Metrics._PAGEHISTORY_LOCAL_STORAGE_KEY,e),its.sf.LocalStorage.removeItem("pageHistory")),e},its.sf.Metrics.Events.Page.pageHistoryArray=function(){var e=its.sf.Metrics.Events.Page.pageHistoryString(),t;
if(e)try{t=JSON.parse(e)}catch(n){console.warn("EXCEPTION encountered while parsing localStorage.getItem("+its.sf.Metrics._PAGEHISTORY_LOCAL_STORAGE_KEY+"):",n),its.sf.LocalStorage.removeItem(its.sf.Metrics._PAGEHISTORY_LOCAL_STORAGE_KEY)}return its.isDefined(t)||(t=[]),t},its.sf.Metrics.Events.Page._handleLoadEvent=function(e){var t=e.pageInfo;
if(t){var n=(new Date).getTime(),r=e.target,i={pageLoadTime:n,pageUrl:e.url};
t.metrics&&its.sf.Metrics.Events.Page.supersedeConfig(t.metrics.config),its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.PAGE)||its.sf.Metrics.recordEvent(new its.sf.Metrics.Events.Page(i,t.metricsBase))}},its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.PAGE)||its.notifications.subscribe(its.sf.Events.PAGE_LOAD,its.sf.Metrics.Events.Page._handleLoadEvent),its.sf.Metrics._PAGE_VERSION=1,its.sf.Metrics._NAVIGATION_KEY="its.sf.Metrics.Navigation",its.sf.Metrics._PAGEHISTORY_LOCAL_STORAGE_KEY="its.sf.Metrics.Events.Page.pageHistory",its.sf.Metrics._NAVIGATION_FORWARD_VALUE="forward",its.sf.Metrics._NAVIGATION_BACK_VALUE="back",its.sf.Metrics.Events.Search=Class.createSubclass("its.sf.Metrics.Events.Search",its.sf.Metrics.Events.Base,{initialize:function(e,t){this.base(e,its.sf.Metrics.EventType.SEARCH,this.version(),t),this.fields=this.assignFieldValue(this.fields,"term"),this.fields=this.assignFieldValue(this.fields,"filters")},version:function(){return its.sf.Metrics._SEARCH_VERSION}}),its.sf.Metrics._SEARCH_VERSION=1,its.sf.Metrics.Events.Search._handleSearch=function(e){var t=null,n={};
its.sf.Metrics.recordEvent(new its.sf.Metrics.Events.Search(n))},!its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.SEARCH),its.sf.Metrics.Events.TimeAdjusted=Class.createSubclass("its.sf.Metrics.Events.TimeAdjusted",its.sf.Metrics.Events.Base,{initialize:function(e,t){this.base(e,its.sf.Metrics.EventType.TIME_ADJUSTED,its.sf.Metrics._TIME_ADJUSTED_VERSION,t),this.fields=this.assignFieldValue(this.fields,"amount")}}),its.sf.Metrics._TIME_ADJUSTED_VERSION=1,its.sf.Metrics.Events.TimeAdjusted._handleTimeAdjusted=function(e){var t=null,n={amount:null};
its.sf.Metrics.recordEvent(new its.sf.Metrics.Events.TimeAdjusted(n))},!its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.TIME_ADJUSTED),its.sf.Metrics.Events.Account=Class.createSubclass("its.sf.Metrics.Events.Account",its.sf.Metrics.Events.Base,{initialize:function(e,t){this.base(e,its.sf.Metrics.EventType.ACCOUNT,its.sf.Metrics._ACCOUNT_VERSION,t),this.fields=this.assignFieldValue(this.fields,"type")}}),its.sf.Metrics.Events.Account.Type={},its.sf.Metrics.Events.Account.Type.SignedIn="signedIn",its.sf.Metrics.Events.Account.Type.SignedOut="signedOut",its.sf.Metrics._ACCOUNT_VERSION=1,its.sf.Metrics.Events.Account._handleAccount=function(e){var t=null,n={type:null};
its.sf.Metrics.recordEvent(new its.sf.Metrics.Events.Account(n))},!its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.ACCOUNT),its.createObjectPath("its.sf14.Metrics.Events"),its.sf14.Metrics.Events.BuyConfirmed=Class.createSubclass("its.sf14.Metrics.Events.BuyConfirmed",its.sf.Metrics.Events.BuyConfirmed,{version:function(){return its.sf14.Metrics._BUY_CONFIRMED_VERSION}}),its.sf14.Metrics._BUY_CONFIRMED_VERSION=1,its.sf14.Metrics.Events.BuyConfirmed._handleBuyConfirmed=function(e){if(e&&e.metrics){var t=Class.shallowClone(e.metrics),n=null,r=e.pageInfo;
r&&(n=r.metricsBase,t.pageUrl=r.url),its.sf.Metrics.recordEvent(new its.sf14.Metrics.Events.BuyConfirmed(t,n))}},its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.BUY_CONFIRMED)||its.notifications.subscribe(its.sf14.Events.BUY_DID_COMPLETE,its.sf14.Metrics.Events.BuyConfirmed._handleBuyConfirmed),its.createObjectPath("its.sf14.Metrics.Events"),its.sf14.Metrics.Events.Click=Class.createSubclass("its.sf14.Metrics.Events.Click",its.sf.Metrics.Events.Click,{}),its.sf14.Metrics.Events.Click._handleClickEvent=function(e){var t=e.pageInfo;
if(t){var n=its.sf.Metrics.Events.Click.clickTargetElement(e.target),r=its.sf.Metrics.Events.Click.clickDataFromElement(n,null,e.x,e.y);
if(r){e.location&&(r.location=e.location),r.impressions=n.ownerDocument?its.sf14.Metrics.Events.Impressions.processRecordedImpressions(n.ownerDocument.snapshotImpressions()).impressionsArray:[];
var i=t.metricsBase;
its.sf.Metrics.recordEvent(new its.sf14.Metrics.Events.Click(r,i))}}e&&e.target&&e.target.getAttribute&&e.target.getAttribute("data-metrics-impressions-low-latency")&&itms.flushUnreportedEvents()},its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.CLICK)||its.notifications.subscribe(its.sf14.Events.SELECT,its.sf14.Metrics.Events.Click._handleClickEvent),its.sf14.Metrics.Events.Enter=Class.createSubclass("its.sf14.Metrics.Events.Enter",its.sf.Metrics.Events.Enter,{version:function(){return its.sf14.Metrics._ENTER_VERSION}}),its.sf14.Metrics.Events.Enter.Type={LINK:"link",TASK_SWITCH:"taskSwitch",LAUNCH:"launch"},its.sf14.Metrics._ENTER_VERSION=1,its.sf14.Metrics.Events.Enter._handleEnter=function(e){var t={type:e.type,refUrl:e.refUrl,refApp:e.refApp,app:e.app};
its.sf.Metrics.recordEvent(new its.sf14.Metrics.Events.Enter(t))},its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.ENTER)||(its.notifications.subscribe(its.sf14.Events.ON_APP_LAUNCH,its.sf14.Metrics.Events.Enter._handleEnter),its.notifications.subscribe(its.sf14.Events.ON_APP_RESUME,its.sf14.Metrics.Events.Enter._handleEnter)),its.sf14.Metrics.Events.Exit=Class.createSubclass("its.sf14.Metrics.Events.Exit",its.sf.Metrics.Events.Exit,{version:function(){return its.sf14.Metrics._EXIT_VERSION}}),its.sf14.Metrics._EXIT_VERSION=1,its.sf14.Metrics.Events.Exit._handleExit=function(){var e={};
its.sf14.Metrics.Events.Exit.destinationUrl&&(e.destinationUrl=its.sf14.Metrics.Events.Exit.destinationUrl,its.sf14.Metrics.Events.Exit.destinationUrl=null),its.sf.Metrics.recordEvent(new its.sf14.Metrics.Events.Exit(e))},its.sf14.Metrics.Events.Exit.setDestinationUrl=function(e){its.sf14.Metrics.Events.Exit.destinationUrl=e},its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.EXIT)||its.notifications.subscribe(its.sf14.Events.ON_APP_EXIT,its.sf14.Metrics.Events.Exit._handleExit),its.createObjectPath("its.sf14.Metrics.Events"),its.sf14.Metrics.Events.Impressions=Class.createSubclass("its.sf14.Metrics.Events.Impressions",its.sf.Metrics.Events.Impressions,{version:function(){return its.sf14.Metrics._IMPRESSIONS_VERSION}}),its.sf14.Metrics._IMPRESSIONS_VERSION=3,its.sf14.Metrics.Events.Impressions._handleImpressions=function(e){var t=its.sf14.Metrics.Events.Impressions.processRecordedImpressions(e.impressions).impressionsArray;
if(t.length>0){var n={impressions:t},r=e.pageInfo;
r&&r.searchTerm&&(n.searchTerm=r.searchTerm);
var i=e.pageInfo&&e.pageInfo.metricsBase;
its.sf.Metrics.recordEvent(new its.sf14.Metrics.Events.Impressions(n,i))}},its.sf14.Metrics.Events.Impressions.processRecordedImpressions=function(e,t){var n=[],r=definedValue(t,0),i=its.sf14.Metrics.Events.Impressions.dedupeSiblingImpressions(e);
if(i)for(var s=0;
s<i.length;
s++){var o=i[s];
r++,o.impressionId=r;
var u=JSON.parse(o.data);
o.timestamps&&o.timestamps.length>0&&(u.impressionTimes=its.sf14.Metrics.Events.Impressions.cleanImpressionTimestampsArray(o.timestamps)),u.impressionIndex=o.index,u.impressionId=o.impressionId,o.parent&&o.parent.impressionId&&(u.impressionParentId=o.parent.impressionId),o.impressionQueueTag&&(u.impressionQueueTag=o.impressionQueueTag),n.push(u);
if(o.children&&o.children.length>0){var a=its.sf14.Metrics.Events.Impressions.processRecordedImpressions(o.children,r);
n=n.concat(a.impressionsArray),r=a.lastImpressionId}}return{impressionsArray:n,lastImpressionId:r}},its.sf14.Metrics.Events.Impressions.dedupeSiblingImpressions=function(e){var t=e;
if(e&&e.length>1){t=[];
var n={};
for(var r=0;
r<e.length;
r++){var i=e[r],s=i.index+"";
n[s]||(t.push(i),n[s]=!0)}}return t},its.sf14.Metrics.Events.Impressions.cleanImpressionTimestampsArray=function(e){var t=e;
if(e.length>1){t=[];
var n=its.sf.Metrics.bagMetrics().impressions,r=n?n.viewableThreshold:1e3,i=null;
for(var s=0;
s<e.length;
s++){var o=e[s];
if(!i||o-i>=r)t.push(o),i=o}}return t},its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.IMPRESSIONS)||its.notifications.subscribe(its.sf14.Events.IMPRESSIONS,its.sf14.Metrics.Events.Impressions._handleImpressions),its.createObjectPath("its.sf14.Metrics.Events"),its.sf14.Metrics.Events.Page=Class.createSubclass("its.sf14.Metrics.Events.Page",its.sf.Metrics.Events.Page,{version:function(){return its.sf14.Metrics._PAGE_VERSION}}),its.sf14.Metrics._PAGE_VERSION=1,its.sf14.Metrics.Events.Page._getMetricsEvent=function(e){var t=e.pageInfo;
if(t){var n=(new Date).getTime(),r={pageLoadTime:n,pageUrl:t.url,app:Device.appIdentifier,requestStartTime:t.requestStartTime,responseStartTime:t.responseStartTime,responseEndTime:t.responseEndTime,searchTerm:t.searchTerm,adamId:t.iAdAdamId,iAdId:t.toroId,searchFilters:t.searchFilter,refUrl:t.refUrl,clientCorrelationKey:t.clientCorrelationKey};
t.iAd&&(r.iAd=t.iAd),t.metrics&&t.metrics.fields&&its.reflect.copyKeysAndValues(t.metrics.fields,r);
var i=its.sf14.Metrics.Events.Page.launchData;
i&&(i.url==t.url||i.initialPageData&&i.initialPageData.url==t.url)&&(r.refApp=i.refApp,r.extRefUrl=i.refUrl,r.hostApp=i.hostApp,i.storeSheet&&(r.context="Sheet",i.app&&(r.app=i.app)),i.metrics&&(r.requestStartTime=i.metrics.requestStartTime,r.responseStartTime=i.metrics.responseStartTime,r.responseEndTime=i.metrics.responseEndTime),its.sf14.Metrics.Events.Page.launchData=null),t.metrics&&its.sf.Metrics.Events.Page.supersedeConfig(t.metrics.config);
if(!its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.PAGE))return new its.sf14.Metrics.Events.Page(r,t.metricsBase)}},its.sf14.Metrics.Events.Page._handleLoadEvent=function(e){var t=its.sf14.Metrics.Events.Page._getMetricsEvent(e);
t&&(its.sf.Metrics.recordEvent(t),t.fields.context==="Sheet"&&itms.flushUnreportedEvents&&itms.flushUnreportedEvents())},its.sf14.Metrics.Events.Page._onAppLaunch=function(e){its.sf14.Metrics.Events.Page.launchData=e},its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.PAGE)||(its.notifications.subscribe(its.sf14.Events.PAGE_APPEAR,its.sf14.Metrics.Events.Page._handleLoadEvent),its.notifications.subscribe(its.sf14.Events.ON_APP_LAUNCH,its.sf14.Metrics.Events.Page._onAppLaunch),its.notifications.subscribe(its.sf14.Events.ON_APP_RESUME,its.sf14.Metrics.Events.Page._onAppLaunch)),its.createObjectPath("its.sf14.Metrics.Events"),its.sf14.Metrics.Events.Search=Class.createSubclass("its.sf14.Metrics.Events.Search",its.sf.Metrics.Events.Search,{version:function(){return its.sf14.Metrics._SEARCH_VERSION}}),its.sf14.Metrics._SEARCH_VERSION=2,its.sf14.Metrics.Events.Search._handleSearch=function(e){its.sf.Metrics.recordEvent(new its.sf14.Metrics.Events.Search(e))},its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.SEARCH)||its.notifications.subscribe(its.sf14.Events.SEARCH_SUBMITTED,its.sf14.Metrics.Events.Search._handleSearch),its.sf14.Metrics.Events.Account=Class.createSubclass("its.sf14.Metrics.Events.Account",its.sf.Metrics.Events.Account,{version:function(){return its.sf14.Metrics._ACCOUNT_VERSION}}),its.sf14.Metrics._ACCOUNT_VERSION=1,its.sf14.Metrics.Events.Account._handleAccountChange=function(e){if(e.accountInfo){var t=e.accountInfo.DSID?its.sf.Metrics.Events.Account.Type.SignedIn:its.sf.Metrics.Events.Account.Type.SignedOut,n={type:t};
its.sf.Metrics.recordEvent(new its.sf14.Metrics.Events.Account(n))}},its.sf.Metrics.eventDisabled(its.sf.Metrics.EventType.Account)||its.notifications.subscribe(its.sf14.Events.ACCOUNT_CHANGE,its.sf14.Metrics.Events.Account._handleAccountChange),its.Components={_components:{}},its.Components.addComponents=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=its.Components._components[t],r=e[t];
if(!n)its.Components._components[t]=r;
else{if(r.parentComponentName!=n.componentName)throw"---------- its.Components.addComponents: Component:"+t+" already exists, overriding not allowed.";
var i=its.Logger.named("its.Components");
i.debug(["---------- its.Components.addComponents: Overriding ",t," [",n.componentName,"] with valid subclass ",r.componentName]),its.Components._components[t]=r}}},its.Components._getComponent=function(e){return its.Components._components[e]},function(){var e={artwork:{componentName:"its.sf14.Artwork"},banner:{componentName:"its.sf14.Banner"},fullscreen_image:{componentName:"its.sf14.FullscreenImage"},audio:{componentName:"its.sf14.Audio"},dialog_document:{componentName:"its.sf14.DialogDocument"},video:{componentName:"its.sf14.Video"}};
its.Components.addComponents(e)}(),its.Templates={_logger:its.Logger.named("its.Templates"),get:function(e){var t=its.Template.createFromString(its.Templates._templateStrings[e],e);
return t||this._logger.error(["---------- get: Template not recognized: ",e]),t},fetchTemplates:function(e,t){if(!e||!e.length){this._logger.warn(["---------- empty templateUrls array given"]),t(!0);
return}its.Templates._templateStrings||(its.Templates._templateStrings={});
if(itms.fetchTemplates&&!its.sf.Client.isVersion("10.0")){var n=function(e,n){if(e)for(var r in n)n.hasOwnProperty(r)&&(its.Templates._templateStrings[r]=n[r]);
this._logger.debug(["---------- fetchTemplates: fetch complete (success: ",e,")"]),t(e)}.bind(this);
itms.fetchTemplates(e,n)}else{var r=0,i=0,s=function(){r++,i++,this._logger.debug(["---------- fetchTemplates: Successfully fetched ",i," out of ",e.length," templates"]),r==e.length&&t(i==r)}.bind(this),o=function(){r++,this._logger.debug(["---------- fetchTemplates: Successfully fetched ",i," out of ",e.length," templates"]),r==e.length&&t(i==r)}.bind(this);
for(var u=0;
u<e.length;
u++)this._fetchTemplate(e[u],s,o)}},_fetchTemplate:function(e,t,n){var r=function(n){var r=n.responseText,i={},s=new RegExp(/<script.*?id="(.*?)".*?>((?:.|\n)*?)<\/script>/g),o=s.exec(r);
while(o!=null)i[o[1].trim()]=o[2].trim(),o=s.exec(r);
for(var u in i)u?(its.Templates._templateStrings[u]=i[u],this._logger.debug(["---------- _fetchTemplate: ",u," template created"])):this._logger.debug(["---------- _fetchTemplate: Template creation failed for template file: ",e]);
t()}.bind(this),i=function(){this._logger.error(["---------- _fetchTemplate: Error loading template for component: ",e]),n()}.bind(this);
its.sf14.Util.fetchServerGetResponse(e,r,i)}},its.sf14.BaseComponent=Class.create("its.sf14.BaseComponent",{initialize:function(e,t){this.data=e,this._attributes={},this._classes=[],this._logger=its.Logger.named(this.constructor.klassName),this._privateParent=t,this.rootComponent=this._rootComponent(),this._itsId=its.Template.createItsId(),this.templateName()&&(this.template=its.Templates.get(this.templateName()),this.addImpressionsData(),this.subscribeToTarget(its.Template.Events.NEW_ELEMENTS_CREATED,this._handleElementCreated.bind(this),this.itsId())),this.storePlatform=this._lookupDocumentLevelData("_storePlatform"),this.storePlatform||this._logger.warn(["---------- initialize: This component was created outside the scope of a document, seems like you are trying to fetch additional store platform, consider fetching this from inside your existing document."]),this.subscribe(its.sf.StorePlatform.Events.LOG,function(e){e.name==this.constructor.klassName&&console.log(this.storePlatform)}.bind(this))},templateName:function(){},componentType:function(){return null},render:function(){var e=null;
if(this.renderAsString){var t=this.renderAsString();
this._logger.warn(["---------- render: This component implements a more efficient renderAsString method, falling back to using the renderAsString, and composing as element"]);
var n=its.element.createDocumentFragmentFromString(t),e=n.childNodes.length==1?n.firstChild:n;
e.itsId=t.itsId}else this._logger.error(["---------- render: Not implemented by BaseComponent, Extending class must implement render()"]);
return e},lookup:function(t){var n=this.data[t],r=this;
while(r){var i=r.data[this.constructor.klassName];
if(i){var s=i[t];
its.isDefined(s)&&(n=s)}r=r._privateParent}return n},impressionsData:function(e){if(!its.sf.Metrics.config.disabled){var t=[this.data],n=this.lookup("content");
n&&t.push(n),e||(e="custom.impressions");
var r=this.lookup("additionalMetricsData");
r&&t.push(r);
var i=its.sf.Metrics.fieldsMappedData(t,e);
return this.componentType()&&(i.impressionType=this.componentType()),i}},addImpressionsData:function(e){if(!its.sf.Metrics.config.disabled){var t=this.impressionsData();
t&&its.reflect.keys(t).length>0&&(e?e.setAttribute("data-metrics",JSON.stringify(t)):this.setAttribute("data-metrics",JSON.stringify(t)))}},_lookupDocumentLevelData:function(e){var t,n=this;
while(n){if(n.data){var r=n.data[e]||n[e];
its.isDefined(r)&&(t=r)}n=n._privateParent}return t},_rootComponent:function(){var e=this,t;
while(e)t=e,e=e._privateParent;
return t},renderComponentWithData:function(e,t){var n=this.componentWithData(e,t);
if(!n)return;return n.render()},renderComponentStringWithData:function(e,t){var n=this.componentWithData(e,t);
if(!n)return;return n.renderAsString()},componentWithData:function(e,t){return its.sf14.BaseComponent.componentWithData(e,t,this)},documentUrl:function(){return this._lookupDocumentLevelData("_documentUrl")},documentSize:function(){var e=this._rootComponent();
return its.isDefinedNonNull(e.size)?e.size():its.sf.Client.isVersion("10.0")?its.App.windowSize():Settings.Screen},itsId:function(){return this._itsId},setAttribute:function(e,t){this._attributes[e]=t instanceof Array?t.join(" "):t;
if(this.element)for(var n in this._attributes)this._attributes[n]?this.element.setAttribute(n,this._attributes[n]):this.element.removeAttribute(n);
else this.template&&this.template.replaceTokenUnescaped("attributes",its.sf14.Util.createAttributeString(this._attributes))},removeAttribute:function(e){this._attributes[e]=null,this.element?this.element.removeAttribute(e):this.template&&this.template.replaceTokenUnescaped("attributes",its.sf14.Util.createAttributeString(this._attributes))},addClass:function(e){this._classes.indexOf(e)<0&&(this._classes.push(e),this.element?this.element.classList.add(e):this.template&&this.template.replaceTokenUnescaped("classes",this._classes.join(" ")))},removeClass:function(e){this._classes.indexOf(e)>-1&&(this._classes.splice(this._classes.indexOf(e),1),this.element?this.element.classList.remove(e):this.template&&this.template.replaceTokenUnescaped("classes",this._classes.join(" ")))},subscribe:function(e,t,n){its.notifications.subscribe(e,t,null,null,n,this.rootComponent.itsId())},subscribeToTarget:function(e,t,n,r){its.notifications.subscribe(e,t,null,n,r,this.rootComponent.itsId())},subscribeToSender:function(e,t,n,r){its.notifications.subscribe(e,t,n,null,r,this.rootComponent.itsId())},_handleElementCreated:function(e){if(e.target&&!this.element){this.element=e.target;
var t=[this.data],n=this.lookup("content");
n&&t.push(n);
var r=this.lookup("additionalMetricsData");
r&&t.push(r),its.sf.Metrics.setLocationInfo(this.element,t,this.componentType()),this.onElementCreated(this.element)}},onElementCreated:function(e){}}),its.sf14.BaseComponent._logger=its.Logger.named("its.sf14.BaseComponent"),its.sf14.BaseComponent.componentWithData=function(e,t,n){var r=its.sf14.BaseComponent._classForComponent(e);
if(!r){this._logger.error(["---------- componentWithData: Unable to find component "+e]);
return}return new r(t,n)},its.sf14.BaseComponent.renderComponentWithData=function(e,t){var n=its.sf14.BaseComponent.componentWithData(e,t);
this._logger.debug(["---------- renderComponentWithData: Rendering",e]);
if(!n){this._logger.error(["---------- renderComponentWithData: Unable to find component "+e]);
return}return n.render()},its.sf14.BaseComponent._classForComponent=function(e){var t=its.Components._getComponent(e);
if(!t){this._logger.error(["---------- _classForComponent: Unable to find component with name: ",e]);
return}var n=t.componentName;
return n||this._logger.debug(["---------- _classForComponent: No componentClass defined on component: ",t]),its.sf14.BaseComponent._valueAtPath(window,n)},its.sf14.BaseComponent._valueAtPathCache={},its.sf14.BaseComponent._valueAtPath=function(e,t){var n;
if(typeof t=="string"){n=t;
var r=its.sf14.BaseComponent._valueAtPathCache[n];
if(r)return r;
t=t.split(".")}if(!e)return null;
var r=t.length?its.sf14.BaseComponent._valueAtPath(e[t[0]],t.slice(1)):e;
return n&&(its.sf14.BaseComponent._valueAtPathCache[n]=r),r},its.sf14.BaseDocument=Class.createSubclass("its.sf14.BaseDocument",its.sf14.BaseComponent,{initialize:function(e){this.base.apply(this,arguments),this._documentUrl=this.lookup("url"),this._pageMetricsCorrelationKey=its.sf.Metrics.requestId(),this.beginTrackingRenderState(),this._countGlobalReferences(),this.subscribe(its.sf14.Events.BUY_REQUIRES_PERMISSION,this.onBuyRequested.bind(this)),this.subscribe(its.sf14.BaseDocument.Events.ENTER_EDIT_MODE,this._enterEditMode.bind(this)),this.subscribe(its.sf14.BaseDocument.Events.EXIT_EDIT_MODE,this._exitEditMode.bind(this)),its.sf.Client.isVersion("8.4")||this.subscribe(its.sf14.Events.ON_APP_RESUME,this.onAppear.bind(this)),this._size=its.sf.Client.isVersion("10.0")?this.lookup("initialSize"):Settings.Screen,this._onAppearCount=0},render:function(){this._logger.error(["---------- render: Not implemented by BaseComponent, Extending class must implement render()"])},renderDocument:function(){var e=(new Date).getTime();
return this._orientation=its.sf14.Util.UI.Orientation,this._document=this.render(),this._document=this._bindDocument(this._document),this.canSendDocumentMessages()&&this.doWhenLoaded(function(t){this.sendDocumentMessage("skui.metrics.reportDomBuildTimes",{buildStartTime:e,buildEndTime:Date.now(),messageWasDeferred:t})}),this._document},addDocumentStyles:function(e,t){e&&(t||(t={}),t.element=e,this.renderComponentWithData("styles",t))},documentUrl:function(){return this._documentUrl},documentElement:function(){return this._document.documentElement},documentIsActive:function(){return this._document==getActiveDocument()},onAppear:function(){this._onAppearCount++,this.shouldPublishPageAppearEvent()&&this.documentIsActive()&&(its.notifications.publish(its.sf14.Events.PAGE_APPEAR,{pageInfo:this.pageInfo(!0),target:this._document}),its.App.CurrentActiveDocumentPageInfoForMetrics=this.pageInfo()),console.log("----------------- Document.onAppear -----------------"),window.storePlatform=this.storePlatform},onBuyRequested:function(e){this._logger.debug(["----------onBuyRequested"])},onChange:function(e){var t=e.target.getAttribute("itsId");
its.notifications.publishToTarget(its.sf14.Events.CHANGE,e,t)},onDidUpdate:function(){console.log("----------------- onDidUpdate -----------------"),this.tryReportRenderState()},tryReportRenderState:function(){if(this.wantsPageRenderMetrics()&&its.sf14.Metrics.isRenderStateComplete(this._renderState)&&this.isReadyForUser()){this._renderState.pageUserReadyTime=Date.now();
if(this.canSendDocumentMessages()){var e=this.pageInfo();
this.sendDocumentMessage("skui.metrics.reportDocumentReady",{clientCorrelationKey:this._pageMetricsCorrelationKey,metricsBase:e?e.metricsBase:{},userInteractionTime:this._renderState.pageRequestedTime,documentReadyTime:this._renderState.pageUserReadyTime})}this._renderState=null}},isReadyForUser:function(){return!0},beginTrackingRenderState:function(){this.wantsPageRenderMetrics()&&!this._renderState&&(this._renderState=its.sf14.Metrics.createRenderState(this.data.pageRequestedTime))},wantsPageRenderMetrics:function(){return its.sf14.Metrics.Events.PageRender&&its.sf14.Metrics.Events.PageRender.isAvailable()},doWhenLoaded:function(e){this._isLoaded?e.apply(this,[!1]):(this._onLoadCallbacks||(this._onLoadCallbacks=[]),this._onLoadCallbacks.push(e))},canSendDocumentMessages:function(){return App.sendDocumentMessage!==undefined},sendDocumentMessage:function(e,t){return App.sendDocumentMessage&&e?(t||(t={}),App.sendDocumentMessage(this._document,e,t),!0):!1},onDisappear:function(){this._logger.debug(["---------- its.sf14.BaseDocument.onDisappear"]),its.notifications.publish(its.sf14.Events.PAGE_DISAPPEAR,{pageInfo:this.pageInfo(!1),target:this._document.documentElement}),this._recordImpressions()},onLoad:function(){this._isLoaded=!0,this.restoreDocumentEventCallbacks(),this.lookup("isRestored")||its.sf14.History.push(this._documentRestoreData()),its.notifications.publish(its.sf14.Events.PAGE_LOAD,{pageInfo:this.pageInfo(!1),target:this._document}),this._onLoadCallbacks&&(this._onLoadCallbacks.forEach(function(e){e.apply(this,[!0])},this),delete this._onLoadCallbacks)},onPreview:function(e){this._logger.debug(["---------- onPreview"])},onVisibleImagesLoaded:function(){console.log("----------------- onVisibleImagesLoaded -----------------"),this.wantsPageRenderMetrics()&&this._renderState&&this.isReadyForUser()&&(this._renderState.hasLoadedImages=!0,this.tryReportRenderState())},onNeedsmore:function(e){var t=e.target.getAttribute("itsId");
its.notifications.publishToTarget(its.sf14.Events.NEEDSMORE,e,t)},onPageResponse:function(e){this._logger.debug(["---------- onPageResponse"])},onSubmit:function(e){var t=e.target.getAttribute("itsId");
its.notifications.publishToTarget(its.sf14.Events.SUBMIT,e,t)},onDisabledSelect:function(e){var t=e.target.getAttribute("itsId");
its.notifications.publishToTarget(its.sf14.Events.DISABLEDSELECT,e,t),this._handleLink(e)},onPlaybackDisabledEvent:function(){console.log("onPlaybackDisabledEvent"),its.notifications.publish(its.sf14.Events.PLAYBACK_DISABLED,{})},onSelect:function(e){if(!this.shouldThrottleSelectEventForTarget(e)){its.BaseApp.CONSECUTIVE_TAB_SELECTS.count=0,e.pageInfo=this.pageInfo(!1);
var t=e.target.getAttribute("itsId");
its.notifications.publishToTarget(its.sf14.Events.SELECT,e,t);
if(its.sf14.BaseDocument.MODE.IS_IN_EDIT_MODE)return;this._handleLink(e),this._handlePreview(e)}},onHoldSelect:function(e){its.BaseApp.CONSECUTIVE_TAB_SELECTS.count=0,e.pageInfo=this.pageInfo(!1);
var t=e.target.getAttribute("itsId");
its.notifications.publishToTarget(its.sf14.Events.HOLDSELECT,e,t);
if(its.sf14.BaseDocument.MODE.IS_IN_EDIT_MODE)return},shouldThrottleSelectEventForTarget:function(e){var t=e.target,n=e.target.getAttribute("data-disable-throttling")=="true",r=!1;
if(!n){var i=(new Date).getTime();
t.lastSelectTime&&(r=i-t.lastSelectTime<=definedValue(its.serverData.properties["its.sf14.selectEventThreshold"],250)),t.lastSelectTime=i}return r},onAction:function(e){e.pageInfo=this.pageInfo(!1);
var t=e.target.getAttribute("itsId");
its.notifications.publishToTarget(its.sf14.Events.ACTION,e,t)},onPlaySelect:function(e){e.pageInfo=this.pageInfo();
var t=e.target.getAttribute("itsId");
its.notifications.publishToTarget(its.sf14.Events.PLAY_SELECT,e,t),this._handleLink(e)},onUnload:function(){its.sf14.BaseDocument.MODE.IS_IN_EDIT_MODE=!1,its.sf14.History.pop(this._documentRestoreData(),!0),its.notifications.publish(its.sf14.Events.PAGE_UNLOAD,{pageInfo:this.pageInfo(!1),target:this._document.documentElement}),this._verifyGlobalReferences(),this.stashDocumentEventCallbacks(),this.storePlatform.unload(),this._renderState&&its.sf14.Metrics.Events.PageRender.isAvailable()&&(this._renderState=null),delete this._isLoaded},onUpdate:function(){},onViewAttributesChange:function(e){var t=this._orientation,n=Settings.Screen.width<Settings.Screen.height?"portrait":"landscape";
its.sf14.Util.UI.setOrientation(n),this._orientation=n;
var r=its.sf.Client.isVersion("10.0");
if(its.dv14&&r){var i=Class.shallowClone(this._size),s=!1;
typeof e.width!="undefined"&&this._size&&e.width!=this._size.width&&(this._size.width=e.width,s=!0);
var o={oldSize:i,newSize:this._size,oldOrientation:t,newOrientation:this._orientation};
this._orientation!==t&&(this.onOrientationChange(o),its.notifications.publishToSender(its.sf14.Events.DID_ROTATE,null,document)),s&&(this.onDocumentSizeChange(o),its.notifications.publishToEventGroup(its.sf14.BaseDocument.Events.DOCUMENT_SIZE_CHANGED,o,this.itsId()),its.notifications.publishToSender(its.dv14.PageController.Events.MEDUSA_WIDTH_CHANGED,null,document))}else if(its.dv14&&!r&&this._orientation===t&&e.height==Settings.Screen.height){var u;
e.width!=Settings.Screen.width?u=!0:u=!1,its.dv14.Util.UI.setIsMedusa(u),its.notifications.publishToSender(its.dv14.PageController.Events.MEDUSA_WIDTH_CHANGED,u,document)}else this.onOrientationChange({newOrientation:this._orientation}),its.notifications.publishToSender(its.sf14.Events.DID_ROTATE,null,document)},onOrientationChange:function(e){this._logger.debug(["---------- onOrientationChange"])},onDocumentSizeChange:function(e){this._logger.debug(["---------- onDocumentSizeChange"])},size:function(){return this._size},pageInfo:function(e){var t=null,n=this.data.pageData||this.data,r=n.additionalMetrics||null;
if(n&&(n.metrics||n.metricsBase||this.documentUrl())){var i=n.metricsBase;
r&&Object.assign(i,r),t={metrics:n.metrics,metricsBase:n.metricsBase,url:this.documentUrl(),refUrl:this.refUrl,clientCorrelationKey:this._pageMetricsCorrelationKey},(!e||!this._hasRequestedPageInfoForOnAppearBefore)&&its.sf14.Util.transferXHRMetricsData(this,t),e&&(this._hasRequestedPageInfoForOnAppearBefore=!0)}return this.setMetricsData(t),t},handlePageDataChange:function(e,t,n){e&&(this.data.pageData=e),this.setDocumentUrl(t),this.setXHRMetricsData(n),its.notifications.publish(its.sf14.Events.PAGE_APPEAR,{pageInfo:this.pageInfo(!0),target:this._document})},setDocumentUrl:function(e){this._documentUrl=e},setNeedsUpdate:function(e){this._document?this._document.setNeedsUpdate(e):this._logger.error("setNeedsUpdate() cannot be called before the document is rendered!")},setRefUrl:function(e){this.refUrl=e},setXHRMetricsData:function(e){e&&e.metrics&&its.sf14.Util.transferXHRMetricsData(e.metrics,this)},shouldClearModalOnSelect:function(){return!0},shouldPublishPageAppearEvent:function(){return!0},stashDocumentEventCallbacks:function(){this._documentEventCallbacks||(this._documentEventCallbacks=its.notifications.getEventGroupSubscribers(this.itsId()),its.notifications.removeEventGroup(this.itsId()))},replace:function(e){this.replaceContents(e)},replaceContents:function(e){this._document.onDisappear(),this._document.onUnload(),this._document.onLoad=e.onLoad,this._document.onUnload=e.onUnload,this._document.onAppear=e.onAppear,this._document.onDisappear=e.onDisappear,this._document.onDidUpdate=e.onDidUpdate,this._document.onUpdate=e.onUpdate,this._document.onPageResponse=e.onPageResponse,this._document.onViewAttributesChange=e.onViewAttributesChange,this._document.isLoadingDocument=e.isLoadingDocument,e.replace=this._document.replace,e.componentRepresentation.setDocumentReference(this._document),this._originalDocumentReplace(e),its.sf.Platform.device()&&(this._logger.debug(["---------- replace: Calling onLoad for replacementDocument"]),this._document.onLoad()),its.sf.Platform.device()&&this.documentIsActive()&&this._onAppearCount>0&&(this._logger.debug(["---------- replace: Calling onApear for replacementDocument"]),this._document.onAppear())},restoreData:function(){this._logger.debug(["---------- restoreData: This page is not being added to history because restoreData, has not been implemented for",this.constructor.klassName])},restoreDocumentEventCallbacks:function(){this._documentEventCallbacks&&its.notifications.totalSubscriberCountForGroupId(this.itsId())==0&&(its.notifications.addEventGroupSubscribers(this.itsId(),this._documentEventCallbacks),this._documentEventCallbacks=null)},setMetricsData:function(e){},_bindDocument:function(e){return e?(e=its.sf14.Util.ensureDocumentType(e),e.onLoad=this.onLoad.bind(this),e.onUnload=this.onUnload.bind(this),e.onAppear=this.onAppear.bind(this),e.onDisappear=this.onDisappear.bind(this),e.onDidUpdate=this.onDidUpdate.bind(this),e.onUpdate=this.onUpdate.bind(this),e.onPageResponse=this.onPageResponse.bind(this),e.onViewAttributesChange=this.onViewAttributesChange.bind(this),this.subscribeToSender(its.sf14.Events.PAGE_RESPONSE,this.onPageResponse.bind(this),e),this._originalDocumentReplace=e.replace.bind(e),e.replace=this.replace.bind(this),e.documentElement.addEventListener("select",this.onSelect.bind(this)),e.documentElement.addEventListener("holdselect",this.onHoldSelect.bind(this)),e.documentElement.addEventListener("disabledButSelectedEvent",this.onDisabledSelect.bind(this)),e.documentElement.addEventListener("playbackDisabledEvent",this.onPlaybackDisabledEvent.bind(this)),e.documentElement.addEventListener("needsmore",this.onNeedsmore.bind(this)),e.documentElement.addEventListener("submit",this.onSubmit.bind(this)),e.documentElement.addEventListener("change",this.onChange.bind(this)),e.documentElement.addEventListener("action",this.onAction.bind(this)),e.documentElement.addEventListener("buyInitiate",this.onAction.bind(this)),e.documentElement.addEventListener("preview",this.onPreview.bind(this)),e.documentElement.addEventListener("visibleimagesloaded",this.onVisibleImagesLoaded.bind(this)),its.sf.Platform.ATV()&&e.documentElement.addEventListener("play",this.onPlaySelect.bind(this)),e.componentRepresentation=this,e):(this._logger.error("---------- _attachBindings(): document is not defined!"),null)},setDocumentReference:function(e){this._document=e},size:function(){return this._size},_countGlobalReferences:function(){if(!this._logger.isAnyDebugLevel())return;this._predefinedGlobals={};
for(var e in window)window.hasOwnProperty(e)&&(this._predefinedGlobals[e]=!0)},_documentRestoreData:function(){var e=null;
return this.suppressRestoreData()||(e=this.restoreData(),e&&Class.extend(e,{itsId:this.itsId()})),e},suppressRestoreData:function(){return!1},_enterEditMode:function(){its.sf14.BaseDocument.MODE.IS_IN_EDIT_MODE=!0},_exitEditMode:function(){its.sf14.BaseDocument.MODE.IS_IN_EDIT_MODE=!1},_handleLink:function(e){var t=e.target.getAttribute("data-action"),n=e.target.getAttribute("data-content-id"),r=e.target.getAttribute("data-collection-id"),i=r?r:n,s=e.target.getAttribute("data-content-kind"),o=e.target.getAttribute("data-url");
if(t&&n)this._handleAction(t,i);
else if(o&&o.indexOf("launchFeature")>-1)this._handleFeatureLink(o);
else if(o){var u=this._applyUrlChanges(o),a={url:u,refUrl:this.documentUrl()};
if(n){a.contentId=i;
var f=this.storePlatform.getCachedDataByProfiles([i],!0);
f&&(a.storePlatformData=f,a.suppressPersonalizationForPrewarmData=!0)}if(s){a.kind=s;
if(s==its.sf.StorePlatform.Kind.Podcast||s==its.sf.StorePlatform.Kind.PodcastEpisode)a.isiTunesU=e.target.getAttribute("data-itunesu-type")}else if(n){var l=this.storePlatform.getCachedData(i);
l&&(a.kind=l.kind)}var c=e.target.getAttribute("data-page-target");
c&&(a.pageTarget=c),its.isDefinedNonNull(its.App.StoreSheetData)&&(a.pageTarget=its.sf14.PageController.PageTarget.EXTERNAL),its.reflect.keys(a).length>0&&(a.target=e.target,its.notifications.publish(its.sf14.PageController.Events.LOAD_PAGE,a))}},_applyUrlChanges:function(e){var t=e,n=["MultiRoom","viewRoom","CustomPage","viewFeature","/developer/","/artist/","viewDeveloper","viewArtist"],r=!1;
for(var i=0;
i<n.length;
i++)if(e.indexOf(n[i])>-1){r=!0;
break}return its.sf.Platform.iPad()&&its.sf.Client.isVersion("10.0")&&its.dv14.Util.Client.isAppStore()&&r&&(t=its.url.appendUrlParameter(e,"splitView","true")),t},_handleFeatureLink:function(e){e.lastIndexOf("/")===e.length-1&&(e=e.substr(0,e.length-1));
var t=e.slice(e.lastIndexOf("/")+1,e.length);
switch(t){case"familySharing":itms.launchICloudFamilySettings();
break;default:}},_handleAction:function(e,t){if(e)switch(e){case"approveInPerson":itms.approveInPerson(t,function(e){e.status&&its.notifications.publishToTarget("approveInPerson",e,t)})}},_handlePreview:function(e){var t;
e.target.tagName=="previewControl"?t=e.target:e.target.parentNode&&e.target.parentNode.tagName=="previewControl"?t=e.target.parentNode:e.target.tagName=="track"&&(t=e.target.querySelector("[preview-url]"));
if(t){var n=t.getAttribute("preview-url"),r=t.getAttribute("data-content-id"),i=this.storePlatform.getCachedData(r);
if(i){i=Class.shallowClone(i);
if(n&&i){var s={previewUrl:n,content:i},o=its.sf14.BaseDocument.renderDocumentWithData("preview_overlay",s);
itms.setPreviewOverlay(o)}}}},_handleAskToBuy:function(e,t){this._showPermissionBanner(e,t)},_recordImpressions:function(){var e=this._document.recordedImpressions?this._document.recordedImpressions():null,t=this.pageInfo();
e?its.notifications.publish(its.sf14.Events.IMPRESSIONS,{pageInfo:t,impressions:e}):(this._logger.debug("this._document.recordedImpressions() returning undefined for a valid document"),its.notifications.publish(its.sf14.Events.IMPRESSIONS,{pageInfo:t,impressions:[]}))},_showPermissionBanner:function(e,t){e&&this.renderComponentWithData("banner",{elementForBanner:e,adamId:t,typeOfBanner:"approveInPerson"})},_verifyGlobalReferences:function(){if(!this._logger.isAnyDebugLevel())return;for(var e in window)window.hasOwnProperty(e)&&!this._predefinedGlobals[e]&&this._logger.debug(["_verifyGlobalReferences: ","Potential leak detected on '",e,"'"])}}),its.sf14.BaseDocument.MODE={IS_IN_EDIT_MODE:!1},its.sf14.BaseDocument.Events={ENTER_EDIT_MODE:"its.sf14.BaseDocument.Events.ENTER_EDIT_MODE",EXIT_EDIT_MODE:"its.sf14.BaseDocument.Events.EXIT_EDIT_MODE",TRACK_PAGE_RENDER:"its.sf14.BaseDocument.Events.TRACK_PAGE_RENDER",DOCUMENT_SIZE_CHANGED:"its.sf14.BaseDocument.Events.DOCUMENT_SIZE_CHANGED"},its.sf14.BaseDocument.documentWithData=function(e,t,n){t||(t={});
var r=its.Logger.named("its.sf14.BaseDocument");
r.debug(["renderDocumentWithData: Rendering",e]),t._storePlatform=t.storePlatform||new its.sf.StorePlatform(t.storePlatformData,t.suppressPersonalizationForPrewarmData),t.initialSize=n;
var i=its.sf14.BaseComponent.componentWithData(e,t);
if(!i){r.error(["renderDocumentWithData: Trying to render a document that doesnt exist: ",e]);
return}if(!i.renderDocument){r.error(["renderDocumentWithData: Component "+e+" cannot be loaded. "+"It needs to inherit BaseDocument component!"]);
return}return i},its.sf14.BaseDocument.renderDocumentWithData=function(e,t,n){var r=its.sf14.BaseDocument.documentWithData(e,t,n);
return r.renderDocument()},its.sf14.History=new(Class.create("this",{initialize:function(){this.RESTORE_DATA_KEY="RESTORE_DATA_KEY",this.SAVED_RESTORE_THRESHOLD=its.serverData.properties["its.sf14.History.savedRestoreDataThreshold"]?its.serverData.properties["its.sf14.History.savedRestoreDataThreshold"]*6e4:6e5,this._history=this.savedRestoreData()?this.savedRestoreData():{},this._stackIdBlacklist=["search","modal","purchased","updates","downloads"]},push:function(e,t){var n=e?e.stackId:null;
this.setActiveStackId(n);
if(e&&n){this._history[n]||(this._history[n]=[]),this._history.storefront=its.BaseApp.baseStorefront();
var r=!0,i=this._history[n];
if(i.length){var s=i[i.length-1];
for(var o in s)if(s[o]!=e[o]){r=!1;
break}}else r=!1;
r||(its.isDefined(t)?this._history[n].splice(t,0,e):this._history[n].push(e)),this._save()}},pop:function(e,t){if(e&&e.stackId){var n=e.stackId;
this._history[n]||(this._history[n]=[]);
var r=this._history[n];
if(r.length){var i=r[r.length-1];
if(i.isRestored||!t||i.itsId==e.itsId)r.pop(),this._save()}}},setActiveStackId:function(e){e&&this._stackIdBlacklist.indexOf(e)==-1?this._history.selectedStackId=e:this._history.selectedStackId=null},_save:function(){this._history.timeStamp=(new Date).toISOString(),localStorage.setItem(this.RESTORE_DATA_KEY,JSON.stringify(this._history))},savedRestoreData:function(){var e=its.isDefinedNonNull(localStorage.getItem(this.RESTORE_DATA_KEY))?JSON.parse(localStorage.getItem(this.RESTORE_DATA_KEY)):{},t=!1;
if(e.timeStamp){var n=new Date(e.timeStamp),r=new Date((new Date).getTime()-this.SAVED_RESTORE_THRESHOLD),i=its.BaseApp.baseStorefront(),s=!0;
i&&(s=e.storefront!=i),t=n-r>0&&its.reflect.keys(e).length>1&&!s}return t||this.clearHistory(),t?e:null},clearHistory:function(){this._history={},this._save()},restoreState:function(){var e=this.savedRestoreData();
this.clearHistory();
if(its.sf.Client.isVersion("10.0")&&e.selectedStackId=="categories"){if(TabBar.selectedTab!="categories"){var t=TabBar.tabs.find(function(e){return e.identifier=="categories"});
t!==undefined&&(TabBar.selectedTab=t)}}else if(e.selectedStackId){var n=e[e.selectedStackId];
n&&this.restoreStackOnNavigationDocument(e.selectedStackId,n)}var r=e[its.sf14.PageController.PageTarget.MODAL];
r&&r.length&&this.restoreStackOnModal(r)},restoreStackOnNavigationDocument:function(e,t){this.setActiveStackId(e);
for(var n=t.length;
n>0;
n--){var r=t[n-1];
if(r.url){r.isRestored=!0,this.push(r,0);
var i={url:r.url,pageTarget:its.sf14.PageController.PageTarget.targetForId(e),options:{animated:!1},insertDocumentAtRoot:!0,setTabAsSelected:!0,isRestored:!0};
its.notifications.publish(its.sf14.PageController.Events.LOAD_PAGE,i)}}},restoreStackOnModal:function(e){for(var t=0;
t<e.length;
t++){var n=e[t];
if(n.url){n.isRestored=!0,this.push(n);
var r={url:n.url,pageTarget:its.sf14.PageController.PageTarget.MODAL,options:{animated:!0,type:"overlay"},shouldClearModal:!1,isRestored:!0};
its.notifications.publish(its.sf14.PageController.Events.LOAD_PAGE,r)}}}})),its.sf14.BaseLoadingDocument=Class.createSubclass("its.sf14.BaseLoadingDocument",its.sf14.BaseDocument,{initialize:function(e){this.base.apply(this,arguments),this._template=its.Templates.get("sf14_loading_document")},wantsRenderMetrics:function(){return!1},template:function(){return this._template},renderDocument:function(){this._document=this.base(),this._document.isLoadingDocument=!0,this.data.url&&(!its.sf.Platform.device()||this.lookup("fetchServerResponse"))&&its.sf14.Util.getJSON(this.data.url,function(e,t){this.onPageResponseSuccess(e,t,this._document)}.bind(this),function(e,t){this.onPageResponseFailure(e,t,this._document)}.bind(this));
if(!this.data.url&&this.data.contentId){var e=function(e){this.onPlatformResponseSuccess(e,this._document)}.bind(this),t=function(e){this.onPlatformResponseFailure(e,this._document)}.bind(this),n={profile:its.sf.StorePlatform.Profiles.URL,ids:[this.data.contentId],onOKHasAllContent:e,onError:t};
this.storePlatform.fetchContent([n])}return this._document},render:function(){this.data&&(this.data.text&&this._template.replaceToken("text",this.data.text),this.data.theme&&this._template.replaceTokenUnescaped("attributes",its.sf14.Util.createAttributeString({theme:this.data.theme})),this.data.image&&(this._template.keepBlock("backgroundBlock"),this._template.replaceToken("imageSrc",this.data.image.url),this._template.replaceToken("imageWidth",this.data.image.width),this._template.replaceToken("imageHeight",this.data.image.height)));
var e=this._template.composeAsElement(),t=this.styleData();
return this.addDocumentStyles(e,t),e},styleData:function(){this._logger.debug(["---------- styleData: Not implemented by BaseComponent, Extending class must implement styleData()"])},onPageResponseSuccess:function(e,t,n){this._logger.debug(["---------- onPageResponseSuccess: Not implemented by BaseComponent, Extending class must implement onPageResponseSuccess()"])},onPageResponseFailure:function(e,t,n){this._logger.debug(["---------- onPageResponseFailure: Not implemented by BaseComponent, Extending class must implement onPageResponseFailure()"])},onPlatformResponseSuccess:function(e,t){var n=e[this.data.contentId],r=n.url,i=t.ownerDocument?t.ownerDocument:t;
this.setDocumentUrl(r),its.sf14.Util.getJSON(r,function(e,t){this.onPageResponseSuccess(e,t,i)}.bind(this),function(e,t){this.onPageResponseFailure(e,t,i)}.bind(this))},onPlatformResponseFailure:function(e,t){this._logger.debug(["---------- onPlatformResponseFailure: platform request failed because: ",e])},onLoad:function(){},onUnload:function(){its.notifications.removeEventGroup(this.itsId()),this.storePlatform.unload()},onAppear:function(){this._onAppearCount++},onDisappear:function(){},_documentRestoreData:function(){return null}}),its.sf14.DialogDocument=Class.createSubclass("its.sf14.DialogDocument",its.sf14.BaseDocument,{initialize:function(e){this.base.apply(this,arguments),this._template=its.Templates.get("sf14_dialog_document"),this._logger=its.Logger.named(this.constructor.klassName)},wantsRenderMetrics:function(){return!1},render:function(){var e=this.data.type;
e||(e=its.sf14.DialogDocument.Type,this._logger.warn("Type is not defined! Using: "+e+" instead.")),this._template.replaceToken("type",e),this.data.title&&(this._template.keepBlock("titleBlock"),this._template.replaceToken("title",this.data.title)),this.data.description&&(this._template.keepBlock("descriptionBlock"),this._template.replaceToken("description",this.data.description)),this.data.resourceUrl&&(this._template.keepBlock("resourceBlock"),this._template.replaceToken("resource",this.data.resourceUrl)),this._positive=this.data.positive;
if(this._positive){this._template.keepBlock("positiveButtonBlock");
var t=its.sf14.ComponentUtil.createButton(this,this._positive.text,this._positive.type);
this._positive.callback&&its.notifications.subscribeToTarget(its.sf14.Events.SELECT,function(){this._positive.callback()}.bind(this),t.itsId()),this._template.replaceTokenUnescaped("positiveButton",t)}this._negative=this.data.negative;
if(this._negative){this._template.keepBlock("negativeButtonBlock");
var n=its.sf14.ComponentUtil.createButton(this,this._negative.text,this._negative.type);
this._negative.callback&&its.notifications.subscribeToTarget(its.sf14.Events.SELECT,function(){this._negative.callback()}.bind(this),n.itsId()),this._template.replaceTokenUnescaped("negativeButton",n)}this._neutral=this.data.neutral;
if(this._neutral){this._template.keepBlock("neutralButtonBlock");
var r=its.sf14.ComponentUtil.createButton(this,this._neutral.text,this._neutral.type);
this._neutral.callback&&its.notifications.subscribeToTarget(its.sf14.Events.SELECT,function(){this._neutral.callback()}.bind(this),r.itsId()),this._template.replaceTokenUnescaped("neutralButton",r)}return this._template.composeAsElement()}}),its.sf14.DialogDocument.Type={ERROR:"error"},its.sf14.DialogDocument.showDialog=function(e,t,n,r,i,s){var o={type:its.sf14.DialogDocument.Type.ERROR,title:e,description:t};
if(n||r)o.positive={text:n||its.loc("OK"),callback:r};
if(i||s)o.negative={text:i||its.loc("Cancel"),callback:s};
var u=its.sf14.BaseDocument.renderDocumentWithData("dialog_document",o,its.dv14.PageController.getDocumentSize(its.sf14.PageController.PageTarget.MODAL));
its.notifications.publish(its.sf14.PageController.Events.PUSH_DOCUMENT,{document:u,options:{type:"dialog"},pageTarget:its.sf14.PageController.PageTarget.MODAL})};
var alert=function(e){var t={type:its.sf.Platform.iPad()?"error":"actionSheet",description:e,neutral:{text:its.loc("OK")}},n=its.sf14.BaseDocument.renderDocumentWithData("dialog_document",t,its.dv14.PageController.getDocumentSize(its.sf14.PageController.PageTarget.MODAL));
its.notifications.publish(its.sf14.PageController.Events.PUSH_DOCUMENT,{document:n,options:{type:"dialog"},pageTarget:its.sf14.PageController.PageTarget.MODAL})};
its.sf14.ScrollableCellController=Class.create("its.sf14.ScrollableCellController",{initialize:function(e,t,n,r){this._logger=its.Logger.named(this.constructor.klassName),this._parent=e,this._contentIds=n,this._renderedItemCount=0,this._totalItems=this._contentIds.length,this._config=r?r:{},this._containerElement=t,this._itemIndex=0,this._maxCount=this._config.maxCount,this._maxCount||this._containerElement.addEventListener("needsmore",this._doRenderCells.bind(this)),this._stdQualityMap=this._config.stdQualityMap,this._contentIdsRemaining=[],this._doRenderCells(null,!0)},_batchSize:function(){var e=its.serverData.properties["its.sf14.ScrollableCellController.batchSize"]?its.serverData.properties["its.sf14.ScrollableCellController.batchSize"]:20;
return its.sf.Platform.ATV()&&(e=100),its.sf.Platform.iPad()?2*e:e},_doRenderCells:function(e,t){var n=this._batchSize(),r=this._maxCount&&this._maxCount<n?this._maxCount:n;
if(this._renderedItemCount<this._totalItems){var i=this._renderedItemCount,s=this._renderedItemCount+r;
s=s<=this._totalItems?s:this._totalItems;
var o=this._contentIds.slice(i,s);
if(t){var u=its.sf.StorePlatform.calculatedProfile(this._profile(),this._artworkProfile()),a=this._parent.storePlatform.getCachedDataMap(u,o);
if(a.orderedKeys.length==0){var f=this._parent;
while(f._privateParent)f=f._privateParent;
this._logger.warn(["---------- On inital render we have not prewarmed any content for the given adamIds, either at all or with the correct profiles. \nExpected Profile: ",this._profile(),"\nExpected Artwork Profile: ",this._artworkProfile(),"\nAdamIds: ",o,"\nPage Component: ",f.constructor.klassName,"\nPage Url: ",f.documentUrl()])}var l=[];
if(a.orderedKeys.length>0){var c=!0;
for(var h=0;
h<o.length;
h++){var p=o[h];
a[p]&&this._haveAllBackingContent(p)&&c?(l.push(p),this._renderedItemCount++):(this._contentIdsRemaining.push(p),c=!1)}a.orderedKeys=l,this.renderCells(a)}else this._contentIdsRemaining=o;
this._contentIdsRemaining.length>0&&this._fetchContentAndRenderCells(this._contentIdsRemaining)}else this._fetchContentAndRenderCells(o)}},_haveAllBackingContent:function(e){return!0},_appendCells:function(e){var t=document.createDocumentFragment();
for(var n=0;
n<e.length;
n++){var r=e[n];
t.appendChild(r)}this._addShowMoreButton(t),this._containerElement.appendChild(t)},_showMoreCallback:function(){var e=this._totalItems-this._renderedItemCount,t=this._maxCount<e?this._maxCount:e,n=this._renderedItemCount+t,r=this._contentIds.slice(this._renderedItemCount,n);
this._fetchContentAndRenderCells(r)},_appendCellsMarkup:function(e){if(e.length>0){var t=its.element.createDocumentFragmentFromString(e.join(" "));
this._addShowMoreButton(t),this._containerElement.appendChild(t)}else(!this._containerElement.firstChild||this._containerElement.firstChild.tagName=="placeholder")&&its.notifications.publish(its.sf14.ScrollableCellController.Events.NO_CONTENT,this._containerElement.parentNode)},_addShowMoreButton:function(e){this._showMoreButton&&this._showMoreButton.remove(),this._maxCount&&this._maxCount<=this._renderedItemCount&&this._renderedItemCount<this._totalItems&&(this._showMoreButton=its.sf14.ComponentUtil.createButton(this._parent,its.loc("ShowMore"),its.sf14.ComponentUtil.ButtonType.TEXT_ONLY,{},this._showMoreCallback.bind(this),!0),e.appendChild(this._showMoreButton))},_fetchContentAndRenderCells:function(e){var t=function(e){this.renderCells(e)}.bind(this);
this._renderedItemCount+=e.length;
var n={profile:this._profile(),artworkProfile:this._artworkProfile(),ids:e,onOKHasAllContent:t,onOKMissingContent:t,suppressPersonalization:this._suppressPersonalization()};
this._parent.storePlatform.fetchContentBatched(n)},_profile:function(){return its.sf.StorePlatform.Profiles.LOCKUP},_artworkProfile:function(){return its.sf.StorePlatform.ArtworkProfiles.SWOOSH},_suppressPersonalization:function(){return its.isDefinedNonNull(this.__suppressPersonalization)||(this.__suppressPersonalization=!!this._config.suppressPersonalization),this.__suppressPersonalization},_ordinalSeparator:function(){return"."},_shouldFilterNonGizmoContent:function(e){return this._config.overrideBridgeFilter?!1:its.dv14.Util.Client.isBridge()&&!e.isAppleWatchSupported&&e.kind!="mobileSoftwareBundle"},_shouldFilterFirstPartyHideableApp:function(e){return its.dv14.Util.UI.shouldFilterFirstPartyHideableApp(e)},renderCells:function(e){this._logger.debug(["---------- renderCells: Not implemented by ScrollableCellController, Extending class must implement renderCells()"])},allItemsRendered:function(){this._logger.debug(["---------- renderCells: Not implemented by ScrollableCellController, Extending class must implement allItemsRendered()"])}}),its.sf14.ScrollableCellController.Basic=Class.createSubclass("its.sf14.ScrollableCellController.Basic",its.sf14.ScrollableCellController,{renderCells:function(e){var t=[];
for(var n=0;
n<e.orderedKeys.length;
n++){var r=e.orderedKeys[n];
this._itemIndex++;
if(e[r]){if(this._shouldFilterNonGizmoContent(e[r])||this._shouldFilterFirstPartyHideableApp(e[r])||its.dv14.Util.UI.isUnsupportedPreOrder(e[r]))continue;var i={content:e[r],ordinal:this._config.showOrdinal?this._itemIndex+this._ordinalSeparator():!1,titleMaxLines:this._config.titleMaxLines,artworkProfile:this._artworkProfile()},s=this._parent.renderComponentStringWithData("small_lockup",i);
t.push(s)}}this._appendCellsMarkup(t)}}),its.sf14.ScrollableCellController.Multiroom=Class.createSubclass("its.sf14.ScrollableCellController.Multiroom",its.sf14.ScrollableCellController.Basic,{_artworkProfile:function(){return its.sf.StorePlatform.ArtworkProfiles.ROOM}}),its.sf14.ScrollableCellController.BooksPurchasesPage=Class.createSubclass("its.sf14.ScrollableCellController.BooksPurchasesPage",its.sf14.ScrollableCellController.Basic,{_artworkProfile:function(){return its.sf.StorePlatform.ArtworkProfiles.ROOM},renderCells:function(e){var t=[];
for(var n=0;
n<e.orderedKeys.length;
n++){var r=e.orderedKeys[n];
this._itemIndex++;
if(e[r]){if(this._shouldFilterNonGizmoContent(e[r])||this._shouldFilterFirstPartyHideableApp(e[r]))continue;e[r].url=its.url.appendUrlParameter(e[r].url,"isRedownload","true");
var i={content:e[r],ordinal:this._config.showOrdinal?this._itemIndex+this._ordinalSeparator():!1,titleMaxLines:this._config.titleMaxLines,artworkProfile:this._artworkProfile(),type:its.dv14.SmallLockup.Type.PURCHASES_PAGE_GRID,isEditable:!0};
this._config.updates;
var s=this._parent.renderComponentStringWithData("small_lockup",i);
t.push(s)}}this._appendCellsMarkup(t)},_profile:function(){return its.sf.StorePlatform.Profiles.REDOWNLOAD_IMAGE_ITEM}}),its.sf14.ScrollableCellController.List=Class.createSubclass("its.sf14.ScrollableCellController.List",its.sf14.ScrollableCellController,{renderCells:function(e){var t=[];
for(var n=0;
n<e.orderedKeys.length;
n++){var r=e.orderedKeys[n];
if(e[r]){if(this._shouldFilterNonGizmoContent(e[r])||this._shouldFilterFirstPartyHideableApp(e[r])||its.dv14.Util.UI.isUnsupportedPreOrder(e[r]))continue;this._itemIndex++;
if(its.sf.Platform.ATV())var i={content:e[r],ordinal:this._config.showOrdinal?this._itemIndex+this._ordinalSeparator():!1,titleMaxLines:this._config.titleMaxLines,artworkProfile:this._artworkProfile()};
else var i={content:e[r],ordinal:this._config.showOrdinal?this._itemIndex+this._ordinalSeparator():!1,titleMaxLines:this._config.titleMaxLines,type:its.dv14.SmallLockup.Type.LIST,artworkProfile:this._artworkProfile(),stdQuality:this._stdQualityMap?this._stdQualityMap[r]:!1};
var s=this._parent.renderComponentStringWithData("small_lockup",i);
t.push(s)}}this._appendCellsMarkup(t),this._renderedItemCount>=this._totalItems&&this.allItemsRendered()}}),its.sf14.ScrollableCellController.List.Room=Class.createSubclass("its.sf14.ScrollableCellController.List.Room",its.sf14.ScrollableCellController.List,{_artworkProfile:function(){return its.sf.StorePlatform.ArtworkProfiles.ROOM}}),its.sf14.ScrollableCellController.List.Chart=Class.createSubclass("its.sf14.ScrollableCellController.List.Chart",its.sf14.ScrollableCellController.List,{_artworkProfile:function(){return its.sf.StorePlatform.ArtworkProfiles.CHARTS},allItemsRendered:function(){if(this._config.seeAllData){var e=its.sf14.ComponentUtil.createButton(this._parent,this._config.seeAllData.title,null,null,this._config.seeAllData.callback,!0);
this._containerElement.appendChild(e),this._config.seeAllLockup=null}},_ordinalSeparator:function(){return""}}),its.sf14.ScrollableCellController.PurchasesPlaylist=Class.createSubclass("its.sf14.ScrollableCellController.PurchasesPlaylist",its.sf14.ScrollableCellController,{renderCells:function(e){var t=[];
for(var n=0;
n<e.orderedKeys.length;
n++){var r=e.orderedKeys[n];
if(e[r]){this._itemIndex++;
var i={primaryContent:e[r],backingContent:this._backingContentForId(r),"its.dv14.TrackList":{artworkProfile:this._artworkProfile(),profile:this._profile()}},s=this._parent.renderComponentWithData("purchases_playlist",i);
t.push(s)}}this._appendCells(t)},_fetchContentAndRenderCells:function(e){var t=function(t){t.orderedKeys=e,this.renderCells(t)}.bind(this);
this._renderedItemCount+=e.length;
var n=e;
for(var r=0;
r<e.length;
r++){var i=this._config.primaryContentIdToBackingIds[e[r]];
n=n.concat(i)}var s={profile:this._profile(),artworkProfile:this._artworkProfile(),ids:n,onOKHasAllContent:t,onOKMissingContent:t,suppressPersonalization:this._suppressPersonalization()};
this._parent.storePlatform.fetchContentBatched(s)},_backingContentForId:function(e){var t=this._config.primaryContentIdToBackingIds[e],n=its.sf.StorePlatform.calculatedProfile(this._profile(),this._artworkProfile());
return this._parent.storePlatform.getCachedDataMap(n,t)},_profile:function(){return its.sf.StorePlatform.Profiles.REDOWNLOAD_IMAGE_ITEM},_artworkProfile:function(){return its.sf.StorePlatform.ArtworkProfiles.CHARTS},_ordinalSeparator:function(){return""}}),its.sf14.ScrollableCellController.List.Chart.TrackSwoosh=Class.createSubclass("its.sf14.ScrollableCellController.List.TrackSwoosh",its.sf14.ScrollableCellController.List.Chart,{_ordinalSeparator:function(){return"."}}),its.sf14.ScrollableCellController.AppCard=Class.createSubclass("its.sf14.ScrollableCellController.AppCard",its.sf14.ScrollableCellController,{renderCells:function(e){var t=[];
for(var n=0;
n<e.orderedKeys.length;
n++){var r=e.orderedKeys[n];
if(e[r]){if(this._shouldFilterNonGizmoContent(e[r])||this._shouldFilterFirstPartyHideableApp(e[r])||its.dv14.Util.UI.isUnsupportedPreOrder(e[r]))continue;this._itemIndex++;
var i=e[r],s={content:i,ordinal:this._config.showOrdinal?this._itemIndex+this._ordinalSeparator():!1,titleMaxLines:this._config.titleMaxLines},o=i.kind=="editorialSearchItem"?"editorial_card":"card",u=this._parent.renderComponentStringWithData(o,s);
t.push(u)}}this._appendCellsMarkup(t)},_artworkProfile:function(){return its.sf.StorePlatform.ArtworkProfiles.SEARCH},_profile:function(){return its.sf.StorePlatform.Profiles.NATIVE_SEARCH_LOCKUP},_batchSize:function(){var e=its.serverData.properties["its.sf14.ScrollableCellController.batchSize"]?its.serverData.properties["its.sf14.ScrollableCellController.batchSize"]:20;
return e}}),its.sf14.ScrollableCellController.AppTrailerList=Class.createSubclass("its.sf14.ScrollableCellController.AppTrailerList",its.sf14.ScrollableCellController,{renderCells:function(e){var t=[];
for(var n=0;
n<e.orderedKeys.length;
n++){var r=e.orderedKeys[n];
if(e[r]){if(this._shouldFilterNonGizmoContent(e[r])||this._shouldFilterFirstPartyHideableApp(e[r])||its.dv14.Util.UI.isUnsupportedPreOrder(e[r]))continue;this._itemIndex++;
var i={content:e[r],lockupType:its.dv14.SmallLockup.Type.LIST},s=this._parent.renderComponentWithData("trailer_lockup",i);
t.push(s)}}this._appendCells(t)},_artworkProfile:function(){return its.sf.StorePlatform.ArtworkProfiles.ROOM},_profile:function(){return its.sf.StorePlatform.Profiles.TRAILER_LOCKUP}}),its.sf14.ScrollableCellController.AppTrailerSwoosh=Class.createSubclass("its.sf14.ScrollableCellController.AppTrailerSwoosh",its.sf14.ScrollableCellController,{renderCells:function(e){var t=[];
for(var n=0;
n<e.orderedKeys.length;
n++){var r=e.orderedKeys[n];
if(e[r]){if(this._shouldFilterNonGizmoContent(e[r])||this._shouldFilterFirstPartyHideableApp(e[r])||its.dv14.Util.UI.isUnsupportedPreOrder(e[r]))continue;this._itemIndex++;
var i={content:e[r]},s=this._parent.renderComponentWithData("trailer_lockup",i);
t.push(s)}}this._appendCells(t)},_artworkProfile:function(){return its.sf.StorePlatform.ArtworkProfiles.SWOOSH},_profile:function(){return its.sf.StorePlatform.Profiles.TRAILER_LOCKUP}}),its.sf14.ScrollableCellController.RelatedGrid=Class.createSubclass("its.sf14.ScrollableCellController.RelatedGrid",its.sf14.ScrollableCellController,{_artworkProfile:function(){return its.sf.StorePlatform.ArtworkProfiles.ROOM},renderCells:function(e){var t=[];
for(var n=0;
n<e.orderedKeys.length;
n++){var r=e.orderedKeys[n];
this._itemIndex++;
if(e[r]){if(this._shouldFilterNonGizmoContent(e[r])||this._shouldFilterFirstPartyHideableApp(e[r])||its.dv14.Util.UI.isUnsupportedPreOrder(e[r]))continue;var i={content:e[r],ordinal:this._config.showOrdinal?this._itemIndex+this._ordinalSeparator():!1,titleMaxLines:this._config.titleMaxLines,artworkProfile:this._artworkProfile(),detailsGenerator:its.dv14.SmallLockup.DefaultDetailsGenerator.List.Related},s=this._parent.renderComponentStringWithData("small_lockup",i);
t.push(s)}}this._appendCellsMarkup(t)}}),its.sf14.ScrollableCellController.Events={NO_CONTENT:"its.sf14.ScrollableCellController.Events.NO_CONTENT"},its.sf14.PageController={_logger:its.Logger.named("its.sf14.PageController"),handleLoadPageEvent:function(e){e&&(e.url&&(e.pageTarget==its.sf14.PageController.PageTarget.EXTERNAL||e.pageTarget==its.sf14.PageController.PageTarget.BLANK||its.sf14.PageController.isExternalUrl(e.url)||its.sf14.Util.shouldOpenProductExternally(e))?this.loadExternalPage(e):e.contentId&&e.url&&its.sf14.ProductPage.componentForKind[e.kind]?this.loadProductPage(e):e.url||e.contentId?this.loadPage(e):this._logger.debug(["---------- handleLoadPageEvent: No URL, Content Id or Content Kind provided"]))},handlePushDocumentEvent:function(e){e.document?this._pushDocument(e.document,e):this._logger.debug(["---------- handlePushDocumentEvent: No document, without this there is nothing to push"])},handleInsertDocumentEvent:function(e){e.document?this._insertDocumentAtRoot(e.document,e):this._logger.debug(["---------- handleInsertDocumentEvent: No document, without this there is nothing to insert"])},handleLoadPageFromIdEvent:function(e){e.id?this.loadPageFromId(e):this._logger.debug(["---------- handleLoadPageFromIdEvent: No id, without this there is nothing to load"])},loadExternalPage:function(e){its.sf14.Metrics.Events.Exit.setDestinationUrl(e.url),openURL(e.url)},loadProductPage:function(e){this._logger.debug(["---------- loadProductPage: loadProductPage must be implemented by subclasses."])},loadPage:function(e){this.loadPageBase(e)},loadPageBase:function(e){var t={text:its.sf14.Util.UI.loadingText(),url:e.url,contentId:e.contentId,pageTarget:e.pageTarget,isNewGrouping:e.isNewGrouping,suppresssNavigationBar:e.pageTarget==its.sf14.PageController.PageTarget.MODAL&&!e.navigationBarElement||e.suppresssNavigationBar,refUrl:e.refUrl,isRestored:e.isRestored,navigationTitle:e.navigationTitle};
its.dv14.Util.Client.isIBooks()&&(t.fetchServerResponse=!0),its.dv14.Util.copyExtRefDataFromDict(e,t),!t.suppresssNavigationBar&&e.navigationBarElement&&(t.navigationBarElement=e.navigationBarElement);
var n=e.isProductPage;
e.kind==its.sf.StorePlatform.Kind.Course&&(e.options?e.options.url=e.url:e.options={url:e.url},n=!0);
var r=its.sf14.BaseDocument.renderDocumentWithData("loading_document",t,its.dv14.PageController.getDocumentSize(e.pageTarget,e.target,null,n));
e.insertDocumentAtRoot?this._insertDocumentAtRoot(r,e,n):this._pushDocument(r,e,n)},loadPageFromId:function(e){var t={text:its.sf14.Util.UI.loadingText(),id:e.id,isATB:e.isATB},n=its.sf14.BaseDocument.renderDocumentWithData("loading_document",t,its.dv14.PageController.getDocumentSize(e.pageTarget,e.target));
this._pushDocument(n,e,!1)},navigationDocumentForPageTarget:function(e){this._logger.debug(["---------- navigationDocumentForPageTarget: navigationDocumentForPageTarget must be implemented by subclasses."])},pushDocument:function(e,t,n){this._logger.debug(["---------- navigationDocument: no navigationDocument provided, there is no where to push this page."])},_pushDocument:function(e,t,n){this.pushDocument(e,t,n)},insertDocumentAtRoot:function(e,t,n){this._logger.debug(["---------- navigationDocument: no navigationDocument provided, there is no where to push this page."])},_insertDocumentAtRoot:function(e,t,n){this.insertDocumentAtRoot(e,t,n)}},its.sf14.PageController.PageTarget={targetForId:function(e){var t;
for(var n in this){var r=this[n];
if(e==r){t=r;
break}}return t},BLANK:"_blank",EXTERNAL:"external",MODAL:"modal"},its.sf14.PageController.ExternalUrlSchemes={itsradio:!0,itmss:!0,itms:!0},its.sf14.PageController.isExternalUrl=function(e){return!its.isDefined(e)||its.sf14.PageController.ExternalUrlSchemes[its.url.parseUrlScheme(e)]},its.sf14.PageController.Events={INSERT_DOCUMENT:"its.sf14.PageController.INSERT_DOCUMENT",LOAD_PAGE:"its.sf14.PageController.LOAD_PAGE",PUSH_DOCUMENT:"its.sf14.PageController.PUSH_DOCUMENT",LOAD_PAGE_FROM_ID:"its.sf14.PageController.LOAD_PAGE_FROM_ID"},window.openLocation=function(e){its.notifications.publish(its.sf14.PageController.Events.LOAD_PAGE,{url:e})},its.notifications.subscribe(its.sf14.PageController.Events.LOAD_PAGE,its.sf14.PageController.handleLoadPageEvent.bind(its.sf14.PageController)),its.notifications.subscribe(its.sf14.PageController.Events.PUSH_DOCUMENT,its.sf14.PageController.handlePushDocumentEvent.bind(its.sf14.PageController)),its.notifications.subscribe(its.sf14.PageController.Events.INSERT_DOCUMENT,its.sf14.PageController.handleInsertDocumentEvent.bind(its.sf14.PageController)),its.notifications.subscribe(its.sf14.PageController.Events.LOAD_PAGE_FROM_ID,its.sf14.PageController.handleLoadPageFromIdEvent.bind(its.sf14.PageController)),its.createObjectPath("its.sf14.Metrics.Events"),its.sf14.Metrics._TOPIC_CLIENT_PERF="xp_amp_clientperf",its.sf14.Metrics._RENDER_VERSION=1,its.sf14.Metrics.EventType={PAGE_RENDER:"pageRender"},its.sf14.Metrics.Events.PageRender=Class.createSubclass("its.sf14.Metrics.Events.PageRender",its.sf.Metrics.Events.Base,{initialize:function(e,t){this.base(e,its.sf14.Metrics.EventType.PAGE_RENDER,its.sf14.Metrics._RENDER_VERSION,t,its.sf14.Metrics._TOPIC_CLIENT_PERF)}}),its.sf14.Metrics.Events.PageRender.lastInteractionTime=Date.now(),its.sf14.Metrics.Events.PageRender.isUpdateInteractionTimeEnabled=!0,its.sf14.Metrics.Events.PageRender.updateInteractionTime=function(){its.sf14.Metrics.Events.PageRender.isUpdateInteractionTimeEnabled&&(its.sf14.Metrics.Events.PageRender.lastInteractionTime=Date.now())},its.sf14.Metrics.Events.PageRender._trackPageRender=function(e){console.log("---- screen rendered ----");
var t={app:Device.appIdentifier},n=null,r=e.pageInfo;
r&&(n=r.metricsBase,t.url=r.url,t.refUrl=r.refUrl,t.searchTerm=r.searchTerm,t.searchFilters=r.searchFilter,t.platformRequestStartTime=r.requestStartTime,t.platformResponseStartTime=r.responseStartTime,t.platformResponseEndTime=r.responseEndTime,t.clientCorrelationKey=r.clientCorrelationKey,r.metrics&&r.metrics.fields&&its.reflect.copyKeysAndValues(r.metrics.fields,t));
var i=e.renderState;
i&&(t.pageRequestedTime=i.pageRequestedTime,t.pageUserReadyTime=i.pageUserReadyTime),its.sf.Metrics.eventDisabled(its.sf14.Metrics.EventType.PAGE_RENDER)||its.sf.Metrics.recordEvent(new its.sf14.Metrics.Events.PageRender(t,n))},its.sf14.Metrics.Events.PageRender.isAvailable=function(){return its.string.compareNumerically(its.sf.Client.version(),"10.0")>=0&&its.sf.Platform.device()?App.pageRenderMetricsEnabled||Device.appIdentifier=="com.apple.AppStore":!1},its.sf14.Metrics.createRenderState=function(e){return e||(e=its.sf14.Metrics.Events.PageRender.lastInteractionTime),{pageRequestedTime:e,pageUserReadyTime:0,hasLoadedImages:!1}},its.sf14.Metrics.isRenderStateComplete=function(e){return!!e&&e.pageRequestedTime>0&&e.hasLoadedImages},its.sf14.Metrics.Events.PageRender.isAvailable()&&(its.notifications.subscribe(its.sf14.Events.ON_APP_RESUME,its.sf14.Metrics.Events.PageRender.updateInteractionTime),its.notifications.subscribe(its.sf14.Events.SELECT,its.sf14.Metrics.Events.PageRender.updateInteractionTime),its.notifications.subscribe(its.sf14.Events.NAVIGATION_WILL_POP,its.sf14.Metrics.Events.PageRender.updateInteractionTime),its.notifications.subscribe(its.sf14.BaseDocument.Events.TRACK_PAGE_RENDER,its.sf14.Metrics.Events.PageRender._trackPageRender)),its.sf14.ArtworkUtil={_logger:its.Logger.named("its.sf14.ArtworkUtil"),bestScaledImage:function(e,t,n,r,i){var s=this._getArtworkDescriptor(),o=1;
its.sf.Platform.ATV()&&its.sf.Platform.isVersionSupported("11.0")?typeof imageScaleFactor!="undefined"?o=imageScaleFactor(2):o=2:Device.pixelRatio?o=Device.pixelRatio:s=="720h"&&(o=1/1.5);
var u=t.width||t.height,a=t.height||t.width,f=its.sf14.ArtworkUtil.bestArtworkForSize(e,{width:u*o,height:a*o},n,r,i);
if(f){var l=f.width,c=f.height,h=Math.min(u/l,a/c);
l=Math.round(l*h),c=Math.round(c*h);
var e={width:l,height:c,url:f.url||"",descriptor:s};
return e}},bestArtworkForSize:function(e,t,n,r,i){if(!e||!t||!t.width&&!t.height)return null;
var s={width:t.width?t.width:t.height,height:t.height?t.height:t.width},o=n||"bb";
return its.isArray(e)?its.sf14.ArtworkUtil._bestArtworkForSizeV1(e,s,o,r,i):its.sf14.ArtworkUtil._bestArtworkForSizeV2(e,s,o)},_bestArtworkForSizeV2:function(e,t,n){var r=Class.shallowClone(e),i=t.width,s=t.height;
if(n=="bb"||n=="w"||n=="h"){var o=e.width/e.height,u=t.width/t.height,a;
n=="w"?a=!0:n=="h"?a=!1:u==1?o<=1&&(a=!1):u>1?o>1&&u>o?a=!1:o<1&&(a=!1):u<1&&o<1&&u>o&&(a=!1);
var f=n=="bb";
a?(i=t.width,s=f?Math.ceil(i*e.height/e.width):t.height):(s=t.height,i=f?Math.ceil(s*e.width/e.height):t.width)}var l=r.isPNG?"png":"jpg";
return r.width=i,r.height=s,r.url=e.url.replace("{w}",i).replace("{h}",s).replace("{c}",n).replace("{f}",l),r},_bestArtworkForSizeV1:function(e,t,n,r,i){var s=!1,o={width:1e5,height:1e5},u={width:0,height:0},a=function(e,t){var n=e?e.length:0,r=t?t.length:0;
if(n!=r)return!1;
for(var i=0;
i<n;
i++)if(e.indexOf(t[i])==-1)return!1;
return!0};
for(var f=0;
f<e.length;
f++){var l=e[f];
if(!l||!a(r,l.effects))continue;var c=l.width,h=l.height;
if(h>t.height||c>t.width){if(h<o.height||c<o.width)o=l,s=!0}else{var p=i?h===t.height&&c===t.width:h===t.height||c===t.width;
if(p)return l;
if(h>u.height||c>o.width)u=l}}return s?o:u},_getArtworkDescriptor:function(){var e="";
return its.sf.Platform.ATV()?its.sf.Platform.isVersionSupported("11.0")?e="":Settings.Screen.height>="1080"?e="1080h":e="720h":Device.pixelRatio?e=Device.pixelRatio+"x":e="2x",e},getArtworkRatio:function(e){if(e){var t=parseFloat(e.width/e.height).toFixed(2);
return t<1?"movie":t==1?"square":t<=1.34?"4x3":t<=1.79?"16x9":"extra-wide"}}},its.sf14.Util={_logger:its.Logger.named("its.sf14.Util"),isCopperOrGreater:function(){return its.string.compareNumerically(its.sf.Client.version(),"8.4")>=0},createAttributeString:function(e){var t=[];
for(var n in e){var r=e[n];
if(its.isDefinedNonNull(r)){var i=r instanceof Array?r.join(" "):r;
t.push(n+'="'+its.string.xmlEscape(i)+'"')}}return t.join(" ")},createDocument:function(){var e;
return docImpl?e=docImpl.createDocument(null,"document",null):e=DOMImplementationRegistry.getDOMImplementation(null).createDocument(null,"document",null),e.removeChild(e.firstChild),e},displayableKindForExternalId:function(e){var t=null;
for(var n in its.serverData.constants.IXDisplayableKind){var r=its.serverData.constants.IXDisplayableKind[n];
if(r.name==e){t=r;
break}}return t},ensureDocumentType:function(e){if(e)if(typeof e=="string")e=DOMParser().parseFromString(e);
else if(!(e instanceof Document)){this._logger.debug("ensureDocumentType(): Wrapping the node with Document! Supplied node type: "+e.tagName);
var t=e;
e=its.sf14.Util.createDocument(),e.appendChild(t)}if(e&&e.documentElement){var n=this._templateElementChildForDocument(e.documentElement);
this.addViewableThresholdToTemplateElement(n)}return e},addViewableThresholdToTemplateElement:function(e){var t=its.sf.Metrics.bagMetrics().impressions,n=t?t.viewableThreshold:null;
e&&its.sf14.Util.TemplateElements[e.tagName]&&its.isDefinedNonNull(n)&&e.setAttribute("impressionsViewableThreshold",n)},_templateElementChildForDocument:function(e){var t=null;
for(var n=0;
n<e.childNodes.length;
n++){var r=e.childNodes.item(n);
if(its.sf14.Util.TemplateElements[r.tagName]){t=r;
break}}return t},fetchServerGetResponse:function(e,t,n,r){var i=itms.makeStoreXMLHttpRequest();
r=r||[],t=t||function(){},n=n||function(){},its.sf14.reqs[e]=i,i.onreadystatechange=function(){i.readyState==4&&(i.status==200?t(i):i.status!=0&&n(i),delete its.sf14.reqs[e])}.bind(this),i.ontimeout=function(){n(i)}.bind(this),i.open("GET",e,!0);
if(r.length)for(var s=0;
s<r.length;
s++)i.setRequestHeader(r[s].name,r[s].value);
return i.send(null),i},fetchServerPostResponse:function(e,t,n,r,i,s){var o=itms.makeStoreXMLHttpRequest();
s=s||[],its.sf14.reqs[e]=o,o.onreadystatechange=function(){o.readyState==4&&(o.status==200?n(o):(this._logger.warn("Failed to fetch data from url: "+e+". With form params",t),its.isDefinedNonNull(r)&&r(o)),delete its.sf14.reqs[e])}.bind(this);
var u=i?t:this.requestBody(t);
o.open("POST",e,!0);
var a=i?"application/x-apple-plist":"application/x-www-form-urlencoded";
o.setRequestHeader("Content-type",a);
if(s.length)for(var f=0;
f<s.length;
f++)o.setRequestHeader(s[f].name,s[f].value);
return o.send(u),o},getJSON:function(e,t,n,r){var i=function(r){var i=this.parseResponseTextAsJson(r);
i&&i.wasParsedFromPLIST?(this._logger.error(["Failed to parse GET response text as JSON: ",r.responseText," URL: ",e]),n&&n(i,r)):t(i,r)}.bind(this),s=function(e){n&&n(this.parseResponseTextAsJson(e),e)}.bind(this);
return its.sf14.Util.fetchServerGetResponse(e,i,s,r)},parseResponseTextAsJson:function(e){var t=null;
try{its.isXMLResponse(e)?(t=its.sf.PlistXMLToJSONUtil.parseXmlString(e.responseText),t.wasParsedFromPLIST=!0):t=JSON.parse(e.responseText)}catch(n){t={},this._logger.warn(["---------- Could not parse response text as either JSON or Plist as JSON",e.responseText,n])}return t},getRedeemCodeOnRequest:function(e){var t=e.indexOf("#redeem");
if(t>=0){t=e.indexOf("-",t);
if(t>=0){var n=e.substring(t+1);
return n}}return null},hasRedeemFragmentOnRequest:function(e){var t=e.indexOf("#redeem");
return t>=0},isFinanceRedeemUrl:function(e){var t=-1;
return e&&(t=e.indexOf("redeem")),t>=0},isFinanceGiftUrl:function(e){var t=-1;
return e&&(t=e.indexOf("buyLandingPage")),t>=0},isFinanceAddMoney:function(e){var t=-1;
return e&&(t=e.indexOf("addMoney")),t>=0},isRadioStationLink:function(e){if(e){var t=e.indexOf("idra.")>=0;
t=t||e.indexOf("id=ra.")>=0}return t},isAppStoreStoryUrl:function(e){if(e){var t=/([a-z][a-z]\/)?(\/story\/)(\/|\\?|$)/;
return t.test(e)}return!1},isAppStoreTodayUrl:function(e){if(e){var t=/([a-z][a-z]\/)?(action\=today)(\/|\\?|$)/;
return t.test(e)}return!1},isDocumentOnNavigationDocument:function(e,t){var n=e.documents,r=!1;
for(var i in n)if(t==n[i]){r=!0;
break}return r},navigationDocumentForDocument:function(e){var t=e.navigationDocument;
if(!t)if(its.sf.Platform.device()){var n=TabBar.tabs;
for(var r=0;
r<n.length;
r++){var i=n[r].navigationDocument;
if(this.isDocumentOnNavigationDocument(i,e)){t=i;
break}}}else its.sf.Platform.ATV()&&this.isDocumentOnNavigationDocument(navigationDocument,e)&&(t=navigationDocument);
return t||this.isDocumentOnNavigationDocument(modal,e)&&(t=modal),t},mediaTypeForUrl:function(e){var t=its.url.queryParamValue("mt",e),n=null;
for(var r in its.serverData.constants.MZMediaType){var i=its.serverData.constants.MZMediaType[r];
if(i.id==t){n=i;
break}}return n},offerForShareActivity:function(e,t){var n=e.offers,r=e.kind,i=[];
for(var s=0;
s<n.length;
s++){var o=n[s];
if(o.type!="rent"&&o.type!="get")if(t&&o.variant!="HD")i.push(o);
else if(!t&&o.variant)i.push(o);
else switch(r){case its.sf.StorePlatform.Kind.MobileApp:case its.sf.StorePlatform.Kind.MobileAppBundle:case its.sf.StorePlatform.Kind.Audiobook:case its.sf.StorePlatform.Kind.EBook:case its.sf.StorePlatform.Kind.EBookApple:case its.sf.StorePlatform.Kind.EBookTextbook:i.push(o)}}return i[0]},postJSON:function(e,t,n,r,i,s){var o=function(t){var i=this.parseResponseTextAsJson(t);
i.wasParsedFromPLIST?(this._logger.error(["Failed to parse POST response text as JSON: ",t.responseText," URL: ",e]),r&&r(i,t)):n(i,t)}.bind(this),u=function(e){r&&r(this.parseResponseTextAsJson(e),e)}.bind(this);
return its.sf14.Util.fetchServerPostResponse(e,t,o,u,i,s)},requestBody:function(e){var t=!0,n=[];
for(var r in e)t?t=!1:n.push("&"),n.push(encodeURIComponent(r)),n.push("="),n.push(encodeURIComponent(e[r]));
return n.join("")},shouldOpenProductExternally:function(e){if(its.sf.Platform.ATV())return!1;
var t=!1,n=e.kind;
return n&&((its.dv14.Util.Client.isIBooks()||its.dv14.Util.Client.isITunes()||its.dv14.Util.Client.isAppStore())&&(n==its.sf.StorePlatform.Kind.Podcast||n==its.sf.StorePlatform.Kind.PodcastEpisode)&&!e.isiTunesU&&(t=!0),!its.dv14.Util.Client.isITunesU()&&(e.isiTunesU||n==its.sf.StorePlatform.Kind.Course)&&(t=!0)),t},shouldOpenProductInStoreSheet:function(e){var t=!1;
return e&&(its.dv14.Util.Client.isIBooks()&&!(e==its.sf.StorePlatform.Kind.EBook||e==its.sf.StorePlatform.Kind.EBookApple||e==its.sf.StorePlatform.Kind.EBookMeta||e==its.sf.StorePlatform.Kind.EBookSeries||e==its.sf.StorePlatform.Kind.Audiobook&&this.isCopperOrGreater()||e==its.sf.StorePlatform.Kind.EBookTextbook)&&(t=!0),its.dv14.Util.Client.isAppStore()&&e!=its.sf.StorePlatform.Kind.MobileApp&&e!=its.sf.StorePlatform.Kind.MobileAppBundle&&(t=!0),its.dv14.Util.Client.isITunes()&&!(e==its.sf.StorePlatform.Kind.Album||e==its.sf.StorePlatform.Kind.Audiobook&&!this.isCopperOrGreater()||e==its.sf.StorePlatform.Kind.Course||e==its.sf.StorePlatform.Kind.Booklet||e==its.sf.StorePlatform.Kind.Mix||e==its.sf.StorePlatform.Kind.Movie||e==its.sf.StorePlatform.Kind.MovieBundle||e==its.sf.StorePlatform.Kind.MusicVideo||e==its.sf.StorePlatform.Kind.Ringtone||e==its.sf.StorePlatform.Kind.RingtoneAlbum||e==its.sf.StorePlatform.Kind.ShortFilm||e==its.sf.StorePlatform.Kind.Song||e==its.sf.StorePlatform.Kind.TheyMix||e==its.sf.StorePlatform.Kind.Tone||e==its.sf.StorePlatform.Kind.ToneAlbum||e==its.sf.StorePlatform.Kind.TvEpisode||e==its.sf.StorePlatform.Kind.TvSeason||e==its.sf.StorePlatform.Kind.Work)&&(t=!0)),t},transferXHRMetricsData:function(e,t){e&&t&&(t.requestStartTime=e.requestStartTime,t.responseStartTime=e.responseStartTime,t.responseEndTime=e.responseEndTime)},getPageInfoFromPageData:function(e,t,n){var r={};
return e&&(e.metrics||e.metricsBase||t)&&(r={metrics:e.metrics,metricsBase:e.metricsBase,url:t},n&&its.sf14.Util.transferXHRMetricsData(n,r)),r},publishPageAppearEventWithPageData:function(e,t,n){var r=its.sf14.Util.getPageInfoFromPageData(e,t,n);
its.notifications.publish(its.sf14.Events.PAGE_APPEAR,{pageInfo:r,target:this._document})},createMetricsBaseObject:function(e,t,n,r,i){var s=Class.shallowClone(e);
return s.page=t,s.pageType=n,s.pageId=r,s.pageDetails=i,s},getUTCTime:function(){var e,t,n,r,i,s,o,u;
return e=new Date,t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDate(),i=e.getUTCHours(),s=e.getUTCMinutes(),o=e.getUTCSeconds(),u=Date.UTC(t,n,r,i,s,o),u},timeLeftForRental:function(e){var t=new Date,n=new Date(e);
if(n<t)return;var r=864e5,i=36e5,s=Math.abs((t.getTime()-n.getTime())/r),o=Math.abs((t.getTime()-n.getTime())/i),u=Math.floor(s),a=Math.floor((s-Math.floor(s))*24),f=Math.floor(o*60),l,c,h;
return s<2&&(a=Math.floor(s*24)),u>=2?(c="DV14.Videos.Rental.Time.Days",h={days:u},l=u):a>0?(c="DV14.Videos.Rental.Time.Hours",h={hours:a},l=a):f>0&&(f<=1&&(f=1),c="DV14.Videos.Rental.Time.Minutes",h={minutes:f},l=f),l===1&&(c+=".one"),its.loc(c,h)}},its.sf14.Util.TemplateElements={charityTemplate:1,columnTemplate:1,contentUnavailableTemplate:1,dialogTemplate:1,exploreTemplate:1,galleryTemplate:1,giftTemplate:1,listTemplate:1,loadingTemplate:1,mainTemplate:1,previewTemplate:1,productTemplate:1,redeemTemplate:1,shareTemplate:1,showcaseTemplate:1,splitViewTemplate:1,stackTemplate:1,trendingSearchTemplate:1,writeAReviewTemplate:1},its.sf14.Util.Duration={bestAssetWithDuration:function bestAssetWithDuration(e){var t=its.sf.StorePlatformUtil.orderedAssets(e),bestAssetWithDuration={};
for(var n=0;
n<t.length;
n++){var r=t[n];
r.duration&&(bestAssetWithDuration=r)}return bestAssetWithDuration},durationBreakdown:function(e){var t={};
t.hr=Math.floor(e/3600);
var n=Math.floor(e-t.hr*60*60);
return t.min=Math.floor(n/60),t.sec=n-=t.min*60,t},durationInSec:function(e){var t=null;
return its.isDefinedNonNull(e)&&e.length>0&&(t=e[0].assets),t&&t[0]?t[0].duration:null},generateDurationString:function(e,t){var n="",r=its.sf14.Util.Duration.durationBreakdown(e);
return r.hr>0&&r.min>0?n=its.loc("SF14.HrMin",{hours:r.hr,minutes:r.min}):r.hr>0&&r.min<=0?n=its.loc("SF14.Hr",{hours:r.hr}):r.hr<=0&&r.min>0?t?n=its.loc("SF14.MinSec",{minutes:r.min,seconds:r.sec}):n=its.loc("SF14.Min",{minutes:r.min}):r.hr<=0&&r.min<=0&&t&&r.sec>0&&(n=its.loc("SF14.Sec",{seconds:r.sec})),n},generateNumericDurationString:function(e,t){var n="",r=its.sf14.Util.Duration.durationBreakdown(e);
return r.hr>0&&(n+=r.hr+":"),r.min<10&&(r.hr>0||t)&&(n+="0"),n+=r.min+":",r.sec<10&&(n+="0"),n+=r.sec,n}},its.sf14.Util.UI={ScreenWidth:Settings.Screen.width,ScreenHeight:Settings.Screen.height,DeviceWidth:null,DeviceHeight:null,Orientation:null,setOrientation:function(e){e?its.sf14.Util.UI.Orientation=e:(its.sf14.Util.UI.Orientation=its.sf14.Util.UI.ScreenWidth>its.sf14.Util.UI.ScreenHeight?"landscape":"portrait",its.sf14.Util.UI.Orientation=="landscape"?(its.sf14.Util.UI.DeviceWidth=its.sf14.Util.UI.ScreenHeight,its.sf14.Util.UI.DeviceHeight=its.sf14.Util.UI.ScreenWidth):(its.sf14.Util.UI.DeviceWidth=its.sf14.Util.UI.ScreenWidth,its.sf14.Util.UI.DeviceHeight=its.sf14.Util.UI.ScreenHeight))},SupportsDisabledButSelectable:function(){return its.string.compareNumerically(its.sf.Client.version(),"9.3")>=0},loadingText:function(){return its.sf.Client.isVersion("10.0")&&!its.sf.Platform.ATV()?its.loc("SF.LoadingAllCaps"):its.loc("SF.Loading")}},its.sf14.Util.UI.setOrientation(),its.sf14.Styles=Class.createSubclass("its.sf14.Styles",its.sf14.BaseComponent,{_hex2rgba:function(e,t){var n=t||1,r=parseInt(e,16),i=(r&16711680)>>16,s=(r&65280)>>8,o=r&255;
return"rgba("+i+","+s+","+o+", "+n+")"},_isDarkUber:function(e){var t=new Color(e),n=t.getLab();
return n.L<.5?!0:!1},_lighten:function(e,t){var n=new Color(e);
return this._hex2rgba(n.lighten(t).toString("hex"))}}),its.sf14.ComponentUtil={createText:function(e,t,n,r){var i=t?t.trim():"",s=its.isDefinedNonNull(n)?n:{},o=s.type?s.type:its.sf14.ComponentUtil.TextType.DEFAULT,u=s.badges&&s.badges.length>0,a=u&&s.badgesOnLeft&&o.badgedOnLeftTemplate,f=its.Templates.get(o.template);
u&&(f=a?its.Templates.get(o.badgedOnLeftTemplate):its.Templates.get(o.badgedTemplate)),s.unescaped?f.replaceTokenUnescaped("textContent",i):f.replaceToken("textContent",i);
if(u){var l=[];
for(var c=0;
c<s.badges.length;
c++)l.push(s.badges[c].innerXML);
f.replaceTokenUnescaped("badges",l.join(" "))}s.attributes&&f.replaceTokenUnescaped("attributes",its.sf14.Util.createAttributeString(s.attributes));
var h=f.compose();
return s.showDivider&&(h+=its.sf14.ComponentUtil.createDivider(this)),r?its.element.createElementFromString(h):h},createDate:function(e,t,n,r){var i=t?t.trim():"",s=its.Templates.get("utils/sf14_component_util/date");
return s.replaceToken("dateContent",i),n&&s.replaceTokenUnescaped("attributes",its.sf14.Util.createAttributeString({format:n})),r?s.composeAsElement():s.compose()},createDuration:function(e,t,n,r){var i=its.Templates.get("utils/sf14_component_util/duration");
return i.replaceToken("durationContent",t),n&&i.replaceTokenUnescaped("attributes",its.sf14.Util.createAttributeString({format:n})),r?i.composeAsElement():i.compose()},createItem:function(e,t,n,r,i){var s=its.Templates.get("utils/sf14_component_util/item");
s.replaceToken("label",t),s.replaceTokenUnescaped("attributes",its.sf14.Util.createAttributeString(n));
var o=s.compose();
return r&&e.subscribeToTarget(its.sf14.Events.SELECT,r,o.itsId()),i?its.element.createElementFromString(o):o},createFacebookSmall:function(e,t,n){var r=its.Templates.get("utils/sf14_component_util/facebook");
return r.replaceToken("url",t),r.replaceToken("type","small"),n?r.composeAsElement():r.compose()},createFacebookLarge:function(e,t,n){var r=its.Templates.get("utils/sf14_component_util/facebook");
return r.replaceToken("url",t),r.replaceToken("type","large"),n?r.composeAsElement():r.compose()},createRottenTomatoes:function(e,t,n){var r=its.Templates.get("utils/sf14_component_util/rottenTomatoes"),i=its.dv14.RottenTomatoesUtil.rottenTomatoesBaseName(t.freshness),s="resource://rottenTomatoes"+i;
return r.replaceToken("imgSrc",s),r.replaceToken("value",its.loc("SF.Percentage",{percentage:t.tomatometerPercentage})),n?r.composeAsElement():r.compose()},createButton:function(e,t,n,r,i,s){var o=t?t.trim():"",u=its.Templates.get("utils/sf14_component/button");
u.replaceToken("textContent",o),n&&u.replaceToken("type",n),u.replaceTokenUnescaped("attributes",its.sf14.Util.createAttributeString(r));
var a=u.compose();
return i&&e.subscribeToTarget(its.sf14.Events.SELECT,i,a.itsId()),s?its.element.createElementFromString(a):a},createBadgeButton:function(e,t,n,r,i,s){var o=t?t.trim():"",u=its.Templates.get("utils/sf14_component/imageButton");
u.replaceToken("textContent",o);
var a=its.dv14.BadgeUtil.createBadge(Class.extend(n,{createAsImage:!0}),!1);
u.replaceTokenUnescaped("imageContent",a),u.replaceToken("type","imageText"),u.replaceTokenUnescaped("attributes",its.sf14.Util.createAttributeString(r));
var f=u.compose();
return i&&e.subscribeToTarget(its.sf14.Events.SELECT,i,f.itsId()),s?its.element.createElementFromString(f):f},createDivider:function(e,t){var n=its.Templates.get("utils/sf14_component/divider");
return t?n.composeAsElement():n.compose()},createActivity:function(e,t,n,r){var i=its.Templates.get("utils/sf14_component/activity");
i.replaceToken("type",t);
var s=i.compose();
return n&&e.subscribeToTarget(its.sf14.Events.SELECT,n,s.itsId()),r?its.element.createElementFromString(s):s},createActivityIndicator:function(e,t,n,r){var i=n?its.Templates.get("utils/sf14_component_util/activity_indicator_template"):its.Templates.get("utils/sf14_component_util/activity_indicator");
i.replaceToken("text",t);
var s=i.compose();
return r?its.element.createElementFromString(s):s},createStarRating:function(e,t,n,r,i){var s=its.Templates.get("utils/sf14_component_util/star_rating");
s.replaceToken("value",t||0),s.replaceToken("disabled",!its.isDefinedNonNull(r)),s.replaceToken("type",n||"small");
var o=s.compose(),u=function(t){its.sf.Metrics.setTargetInfo(t.target,null,"button",its.sf.Metrics.ActionType.SELECT,e.documentUrl(),"writeAReview");
var n=[{locationPosition:t.value,locationType:"button"}];
its.notifications.publish(its.sf14.Events.SELECT,{pageInfo:e.pageInfo(),target:t.target,location:n}),t.target.setAttribute("value",t.value),r&&r(t)};
return e.subscribeToTarget(its.sf14.Events.CHANGE,u,o.itsId()),i?its.element.createElementFromString(o):o}},its.sf14.ComponentUtil.TextType={DEFAULT:{name:"text",template:"utils/sf14_component_util/text",badgedTemplate:"utils/sf14_component_util/text_with_badges",badgedOnLeftTemplate:"utils/sf14_component_util/text_with_badges_on_left"},DESCRIPTION:{name:"description",template:"utils/sf14_component_util/description",badgedTemplate:"utils/sf14_component_util/description_with_badges"},LABEL:{name:"label",template:"utils/sf14_component_util/label",badgedTemplate:"utils/sf14_component_util/label_with_badges",badgedOnLeftTemplate:"utils/sf14_component_util/label_with_badges_on_left"},NAVIGATION_TITLE:{name:"navigationTitle",template:"utils/sf14_component_util/navigation_title",badgedTemplate:"utils/sf14_component_util/navigation_title_with_badges"},TITLE:{name:"title",template:"utils/sf14_component_util/title",badgedTemplate:"utils/sf14_component_util/title_with_badges",badgedOnLeftTemplate:"utils/sf14_component_util/title_with_badges_on_left"},SUBTITLE:{name:"subtitle",template:"utils/sf14_component_util/subtitle",badgedTemplate:"utils/sf14_component_util/subtitle_with_badges"}},its.sf14.ComponentUtil.ButtonType={BUY:"buy",DOWNLOAD:"download",LINK:"link",TEXT_ONLY:"textonly",DONE:"done",THIN:"thin"},its.sf14.ComponentUtil.ActivityType={GIFT:"gift",WISHLIST:"wishlist"},its.sf14.LockupUtil={_logger:its.Logger.named("its.sf14.LockupUtil"),getArtworkDimensions:function(e,t,n){var r=its.sf14.LockupUtil.ArtworkDimensions[e];
if(!r){if(its.sf.Platform.iPad()){n||(its.sf.Client.isVersion("10.0")?n=its.App.windowSize():n=Settings.Screen);
var i=n.width>768&&its.dv14.Util.UI.Orientation=="portrait"||n.width>1024&&its.dv14.Util.UI.Orientation=="landscape";
n.width===320?r=its.sf14.LockupUtil.ArtworkDimensions.iPhone[e]:its.dv14.Util.UI.isCompact(n)?r=its.sf14.LockupUtil.ArtworkDimensions.iPhone_n61[e]:i?r=its.sf14.LockupUtil.ArtworkDimensions.iPadPro[e]:r=its.sf14.LockupUtil.ArtworkDimensions.iPad[e]}else its.sf.Platform.iPhone()?(r=its.sf14.LockupUtil.ArtworkDimensions.iPhone[e],its.dv14.Util.UI.DeviceWidth==375?r=its.sf14.LockupUtil.ArtworkDimensions.iPhone_n61[e]:its.dv14.Util.UI.DeviceWidth>375&&its.dv14.Util.UI.Orientation=="landscape"?r=its.sf14.LockupUtil.ArtworkDimensions.iPhone_n56_landscape[e]:its.dv14.Util.UI.DeviceWidth>375&&its.dv14.Util.UI.Orientation=="portrait"&&(r=its.sf14.LockupUtil.ArtworkDimensions.iPhone_n56_portrait[e])):its.sf.Platform.ATV()&&(r=its.sf14.LockupUtil.ArtworkDimensions.ATV[e]);
if(!r){this._logger.error("No artwork dimensions available for kind or name: "+e);
return}}var s=r[t];
return s||(s=r._default),{width:s[0],height:s[1]?s[1]:s[0]}},willArtworkDimesionsChange:function(e,t,n,r){var i=this.getArtworkDimensions(n,r,e),s=this.getArtworkDimensions(n,r,t);
return i.width!=s.width||i.height!=s.height},getArtworkCropStyles:function(e,t){var n=e;
return this._isOldUberMasterArtSize(e,t)&&(n="oldUber"),its.sf14.LockupUtil.ArtworkCropStyles[n]||its.sf14.LockupUtil.ArtworkCropStyles._default},_isOldUberMasterArtSize:function(e,t){return e=="uber"&&t&&t.url&&t.width==3200&&t.height==600},tvSeasonNameWithoutShowName:function(e,t){var n=e;
try{if(n.indexOf(t+", ")===0){var r=t.length+2;
r<n.length&&(n=n.substring(r))}}catch(i){n=e}return n}},its.sf14.LockupUtil.ArtworkCropStyles={flowcase:"fa",brick:"fa",oldUber:"sr",uber:"fa",_default:"bb"},its.sf14.LockupUtil.ArtworkDimensions={table_view:{_default:[44]},category_list_itunes:{_default:[32]},category_list_app_store:{_default:[35]},category_list_ibooks:{_default:[44,72]},gift_card_theme:{_default:[40,36]},gift_card_theme_tall:{_default:[55,50]},gift_card_ipad_short:{_default:[133,74]},gift_card_ipad_tall:{_default:[94,94]},iPhone:{appCard:{search_ad_compact:[36,36],_default:[72,72]},banner:{_default:[131,65]},brick:{_default:[175,86]},flowcase:{_default:[320,130]},album:{charts:[64,64],room:[64,64],mixed_room:[68,68],product:[100,100],search:[44],finance_gift_detail_page:[64],finance_redeem_success:[64],global_lists:[44],_default:[80,80]},editorialSearchItem:{_default:[239,150]},header:{_default:[320,95]},uber:{_default:[320,130]},course:{product:[107,130],charts:[69,86],room:[69,86],mixed_room:[68,68],search:[44,44],finance_redeem_success:[132,167],global_lists:[44],_default:[84,107]},mediaArchive:{_default:[220,125]},movie:{charts:[54,81],room:[54,81],mixed_room:[68,68],product:[68,102],search:[44],finance_redeem_success:[64],global_lists:[44,68],purchases_page:[40,40],_default:[80,120]},musicVideo:{charts:[73,54],room:[73,54],mixed_room:[60,44],product:[100,56],search:[44],finance_redeem_success:[64],global_lists:[64],_default:[120,68]},newsstand:{charts:[61,69],room:[61,69],product:[78,103],search:[44],mixed_room:[68,68],mixed_default:[64,85],app_card_page:[64,64],finance_redeem_success:[64],global_lists:[44],_default:[95,107]},radioPlacard:{_default:[70,65]},radioStation:{radio_promo_widget:[44,44],room:[44,44],swoosh:[80,80],grouping:[80,80],global_lists:[44],_default:[100,100]},iosSoftware:{product_banner_page:[57,57],charts:[64,64],room:[64,64],mixed_room:[68,68],product:[100],app_card_page:[64,64],finance_gift_detail_page:[64,64],finance_redeem_success:[64],trailer_lockup:[44],global_lists:[57],_default:[80,80]},desktopApp:{_default:[100,100]},screenshot:{card_landscape:[290,163],card_landscape_product:[285,160],card_portrait_double:[142,252],card_portrait_single:[142,252],card_iad_triple:[93,160],card_watch:[136,175],watch:[136,175],_default:[348]},radioPromo:{_default:[30,30]},song:{_default:[44,44],grouping:[80,80]},trailer:{_default:[159],swoosh:[159],room:[320]},tvEpisode:{charts:[44,44],room:[44,44],product:[110,70],search:[44],finance_redeem_success:[64],grouping:[80,80],_default:[44,44]},tuneIn:{_default:[44,44]},artist:{_default:[44]},genre:{_default:[44]},"second-party":{_default:[44]},fullscreen:{_default:[440]},previewOverlay:{_default:[44,44]},purchasesPlaylist:{_default:[80,80]},voyager:{charts:[64,48],product:[100,75],_default:[95,71]},tv:{product:[100,60],_default:[80,48]}},iPhone_n61:{banner:{_default:[175,86]},brick:{_default:[205,100]},flowcase:{_default:[375,152]},album:{_default:[95,95]},editorialSearchItem:{_default:[239,150]},uber:{_default:[375,152]},movie:{_default:[95,142]},iosSoftware:{_default:[95,95]},screenshot:{card_landscape:[335,188],card_landscape_product:[335,188],card_portrait_double:[161,286],card_portrait_single:[161,286],card_iad_triple:[106,188],card_watch:[163,206],_default:[348]},fullscreen:{_default:[540]},tvEpisode:{grouping:[95,95]},voyager:{charts:[64,48],product:[100,75],_default:[95,71]},tv:{_default:[95,57]}},iPhone_n56_portrait:{banner:{_default:[175,86]},brick:{_default:[175,86]},flowcase:{explore:[414,158],_default:[265,130]},album:{product:[133,133]},editorialSearchItem:{_default:[239,150]},header:{_default:[640/3,190/3]},uber:{_default:[414,138]},movie:{product:[89,133]},musicVideo:{product:[167,94],_default:[127,71]},newsstand:{product:[133,103]},iosSoftware:{product:[133,133]},screenshot:{card_landscape:[360,203],card_landscape_product:[372,209],card_portrait_double:[180,320],card_portrait_single:[180,320],card_iad_triple:[115,205],card_watch:[173,216],_default:[380]},fullscreen:{_default:[608]},trailer:{_default:[110],swoosh:[159]},tvSeason:{product:[133,133]},tuneIn:{_default:[44,44]},voyager:{charts:[64,48],product:[100,75],_default:[95,71]},tv:{product:[135,81]}},iPhone_n56_landscape:{album:{product:[100,100]},banner:{_default:[175,86]},uber:{_default:[736,170]},flowcaseSmall:{_default:[441,149]},header:{_default:[1024,130]},movie:{product:[66,100]},musicVideo:{product:[160,90],_default:[127,71]},newsstand:{product:[66,100]},iosSoftware:{product:[80,80]},tvSeason:{product:[100,100]},screenshot:{card_landscape:[335,188],card_landscape_product:[335,188],card_portrait_double:[161,286],card_portrait_single:[161,286],card_iad_triple:[105,187],card_watch:[163,206],_default:[232]},fullscreen:{_default:[608]},voyager:{charts:[64,48],product:[100,75],_default:[95,71]},tv:{product:[80,48]}},iPad:{appCard:{search_ad_compact:[50,50],_default:[72,72]},banner:{_default:[208,102]},brick:{_default:[216,106]},editorialSearchItem:{_default:[282,126]},flowcase:{portrait:[398,195],landscape:[530,260],_default:[530,260]},flowcaseSmall:{_default:[398,195]},album:{charts:[67,67],room:[75,75],grouping:[136,136],product:[170,170],search:[68],finance_gift_detail_page:[68],finance_redeem_success:[64],global_lists:[44],_default:[136,136]},header:{_default:[1024,130]},uber:{browse_landscape:[723,224],browse_portrait:[468,190],_default:[1024,260]},course:{product:[145,175],charts:[77,95],room:[77,95],mixed_room:[68,68],search:[68,68],finance_redeem_success:[145,175],global_lists:[44],_default:[145,175]},mediaArchive:{_default:[350,225]},movie:{product:[113,170],charts:[63,95],room:[63,95],mixed_room:[68,68],search:[68,68],finance_gift_detail_page:[68,68],finance_redeem_success:[64],global_lists:[44,68],_default:[136,205]},musicVideo:{charts:[59,44],room:[59,44],mixed_room:[60,44],product:[204,115],search:[68],finance_gift_detail_page:[68],finance_redeem_success:[64],global_lists:[44,68],_default:[136,77]},newsstand:{charts:[75,85],room:[75,85],mixed_room:[75,75],product:[129,170],search:[68],mixed_default:[75,100],finance_redeem_success:[64],global_lists:[44],_default:[178,200]},radioPlacard:{_default:[70,65]},radioStation:{radio_promo_widget:[44,44],room:[44,44],swoosh:[136,136],_default:[200,200]},iosSoftware:{product_banner_page:[57,57],charts:[67,67],room:[75,75],mixed_room:[75,75],product:[170],finance_gift_detail_page:[75,75],finance_redeem_success:[64],trailer_lockup:[44],global_lists:[57],_default:[90,90]},desktopApp:{_default:[170,170]},screenshot:{card_landscape:[240,180],card_portrait_double:[135,180],card_portrait_single:[155,180],card_watch:[173,216],_default:[300]},radioPromo:{_default:[30,30]},song:{_default:[44,44],grouping:[136,136]},trailer:{_default:[210],swoosh:[210],room:[221]},tvEpisode:{episode_list_row:[125,83],grouping:[136,136],search:[68],finance_gift_detail_page:[68,68],finance_redeem_success:[64],global_lists:[44],_default:[44,44]},tuneIn:{_default:[44,44]},artist:{_default:[68]},genre:{_default:[68]},"second-party":{_default:[68]},fullscreen:{_default:[1024]},previewOverlay:{_default:[44,44]},purchasesPlaylist:{_default:[100,100]},voyager:{charts:[67,50],product:[170,128],_default:[90,68]},tv:{product:[170,102],_default:[90,54]}},iPadPro:{appCard:{search_ad_compact:[50,50],_default:[72,72]},banner:{_default:[208,102]},brick:{_default:[216,106]},editorialSearchItem:{_default:[282,126]},flowcase:{portrait:[398,195],landscape:[530,260],_default:[530,260]},flowcaseSmall:{_default:[398,195]},album:{charts:[67,67],room:[75,75],grouping:[136,136],product:[170,170],search:[68],finance_gift_detail_page:[68],finance_redeem_success:[64],global_lists:[44],_default:[136,136]},header:{_default:[1024,130]},uber:{browse_landscape:[990,260],browse_portrait:[648,260],_default:[1366,260]},course:{product:[145,175],charts:[77,95],room:[77,95],mixed_room:[68,68],search:[68,68],finance_redeem_success:[145,175],global_lists:[44],_default:[145,175]},mediaArchive:{_default:[350,225]},movie:{product:[113,170],charts:[63,95],room:[63,95],mixed_room:[68,68],search:[68,68],finance_gift_detail_page:[68,68],finance_redeem_success:[64],global_lists:[44,68],_default:[136,205]},musicVideo:{charts:[59,44],room:[59,44],mixed_room:[60,44],product:[204,115],search:[68],finance_gift_detail_page:[68],finance_redeem_success:[64],global_lists:[44,68],_default:[136,77]},newsstand:{charts:[75,85],room:[75,85],mixed_room:[75,75],product:[129,170],search:[68],mixed_default:[75,100],finance_redeem_success:[64],global_lists:[44],_default:[178,200]},radioPlacard:{_default:[70,65]},radioStation:{radio_promo_widget:[44,44],room:[44,44],swoosh:[136,136],_default:[200,200]},iosSoftware:{product_banner_page:[57,57],charts:[67,67],room:[75,75],mixed_room:[75,75],product:[170],finance_gift_detail_page:[75,75],finance_redeem_success:[64],trailer_lockup:[44],global_lists:[57],_default:[90,90]},desktopApp:{_default:[170,170]},screenshot:{card_landscape:[276,207],card_portrait_double:[135,180],card_portrait_single:[155,207],_default:[300]},radioPromo:{_default:[30,30]},song:{_default:[44,44],grouping:[136,136]},trailer:{_default:[210],swoosh:[210],room:[221]},tvEpisode:{episode_list_row:[125,83],grouping:[136,136],search:[68],finance_gift_detail_page:[68,68],finance_redeem_success:[64],global_lists:[44],_default:[44,44]},tuneIn:{_default:[44,44]},artist:{_default:[68]},genre:{_default:[68]},"second-party":{_default:[68]},fullscreen:{_default:[1024]},previewOverlay:{_default:[44,44]},purchasesPlaylist:{_default:[100,100]},voyager:{charts:[67,50],product:[170,128],_default:[90,68]},tv:{product:[170,102],_default:[90,54]}},ATV:{flowcase:{_default:[672,302]},brick:{_default:[548,269]},album:{charts:[68,68],room:[68,68],grouping:[136,136],product:[170,170],search:[68],finance_gift_detail_page:[68],finance_redeem_success:[64],_default:[136,136]},song:{_default:[136,136]},movie:{grouping:[250,375],product:[154,192],charts:[256,384],room:[256,384],mixed_room:[68,68],search:[68,68],finance_gift_detail_page:[68,68],finance_redeem_success:[64],_default:[154,192]},movieBundle:{grouping:[250,375],charts:[256,384],room:[256,384],mixed_room:[256,384],product:[154,192],search:[44],finance_redeem_success:[64],_default:[154,192]},tvSeason:{product:[340,340],charts:[340,340],room:[340,340],mixed_room:[340,340],search:[340,340],finance_gift_detail_page:[68,68],finance_redeem_success:[64],_default:[340,340]},tvEpisode:{charts:[256,256],room:[256,256],product:[110,70],search:[256],finance_redeem_success:[256],_default:[256,256]},previewOverlay:{_default:[136,136]}}},its.sf14.LockupUtil.ArtworkDimensions._intialize=function(){var e=[its.sf14.LockupUtil.ArtworkDimensions.iPad,its.sf14.LockupUtil.ArtworkDimensions.iPhone];
e.push(its.sf14.LockupUtil.ArtworkDimensions.iPhone_n56_portrait),e.push(its.sf14.LockupUtil.ArtworkDimensions.iPhone_n56_landscape),e.push(its.sf14.LockupUtil.ArtworkDimensions.iPhone_n61),e.push(its.sf14.LockupUtil.ArtworkDimensions.iPadPro);
var t=function(e,t,n){for(var r=0;
r<e.length;
r++)if(e[r]=="toneAlbum"||e[r]=="ringtoneAlbum"){n[e[r]]={};
var i=n[t];
for(var s in i)i.hasOwnProperty(s)&&(n[e[r]][s]=i[s]);
n[e[r]].charts=[44,44]}else n[e[r]]=n[t]};
for(var n=0;
n<e.length;
n++){var r=e[n];
t(["toneAlbum","ringtoneAlbum","tvSeason","book","podcast","mix"],"album",r),t(["epubBook","ibookTextbook","metaEbook","ibook","shortFilm","movieBundle"],"movie",r),t(["mobileSoftwareBundle","multipleSystemOperator"],"iosSoftware",r),t(["tone","ringtone","podcastEpisode"],"song",r)}var i=function(e,t){for(var n in e)if(e.hasOwnProperty(n))if(!t[n])t[n]=e[n];
else{var r=t[n],i=e[n];
for(var s in i)i.hasOwnProperty(s)&&(r[s]||(r[s]=i[s]))}};
i(its.sf14.LockupUtil.ArtworkDimensions.iPhone,its.sf14.LockupUtil.ArtworkDimensions.iPhone_n56_portrait),i(its.sf14.LockupUtil.ArtworkDimensions.iPhone_n56_portrait,its.sf14.LockupUtil.ArtworkDimensions.iPhone_n56_landscape),i(its.sf14.LockupUtil.ArtworkDimensions.iPhone,its.sf14.LockupUtil.ArtworkDimensions.iPhone_n61),i(its.sf14.LockupUtil.ArtworkDimensions.iPhone,its.sf14.LockupUtil.ArtworkDimensions.iPadPro)},its.sf14.LockupUtil.ArtworkDimensions._intialize(),its.sf14.Artwork=Class.createSubclass("its.sf14.Artwork",its.sf14.BaseComponent,{initialize:function(){this.base.apply(this,arguments);
var e=this.lookup("attributes")||{};
e.contentsMode&&(this._attributes=e)},templateName:function(){return"components/sf14_artwork"},renderAsString:function(){var e=this.lookup("artworkUrls"),t=this.lookup("size"),n=this.lookup("crop")||"bb",r=its.sf14.ArtworkUtil.bestScaledImage(e,t,n,this.lookup("effects"),this.lookup("aspectRatioIsDifferent"));
if(r){var i=[],s=its.sf.Platform.ATV()&&its.sf.Platform.isVersionSupported("11.0");
if(s&&!Array.isArray(e)){var o=r.url.match(/\.png/)&&!r.url.match(/\.jpg/)||e.isPNG?"png":"jpeg";
i.push(its.at14.extras.Util.replaceArtworkUrl(e.url,t.width,t.height,n,o))}else i.push(r.url+" "+r.descriptor);
this.template.replaceToken("srcSet",i.join(", ")),this.template.replaceToken("width",r.width),this.template.replaceToken("height",r.height),this.template.replaceToken("altText",this.lookup("alt")),this.lookup("isPlaceholder")&&this.template.replaceToken("placeholder","placeholder");
var u=this.lookup("classes");
u&&this.template.replaceToken("classes",u.join(" ")),this.lookup("type")&&this.template.replaceToken("type",this.lookup("type"))}return its.isDefined(this.lookup("disabled"))&&(this._attributes.disabled=this.lookup("disabled")),this.template.replaceTokenUnescaped("attributes",its.sf14.Util.createAttributeString(this._attributes)),this._markup=this.template.compose(this.itsId()),this._markup}}),its.sf14.Artwork.updateArtworkSrc=function(e,t){var n=its.sf14.ArtworkUtil.bestScaledImage(t.artworkUrls,t.size,t.effects),r=[];
n&&(r.push(n.url+" "+n.descriptor),e.setAttribute("srcset",r.join(", ")))},its.sf14.Artwork.PlaceholderArtwork={EXPLICIT_BOOK:[{url:its.serverData.constants.resourceBaseUrl+"/images/ibooks/modern_explicit_book.png",height:812,width:512}],EXPLICIT_AUDIOBOOK:[{url:its.serverData.constants.resourceBaseUrl+"/images/ibooks/modern_explicit_audiobook.png",height:512,width:512}]},its.sf14.Artwork.effects=function(e){return its.sf14.Artwork.Effects[e]},its.sf14.Artwork.Effects={},its.sf14.Artwork.Effects[its.sf.StorePlatform.Kind.Course]=["course3"],its.sf14.Banner=Class.createSubclass("its.sf14.Banner",its.sf14.BaseComponent,{initialize:function(){this.base.apply(this,arguments),this.elementForBanner=this.lookup("elementForBanner"),this.adamId=this.lookup("adamId"),this.message=this.lookup("message"),this.typeOfBanner=this.lookup("typeOfBanner"),this.isProductDataReady=this.lookup("isProductDataReady"),this.isAvailableForSubscription=this.lookup("isAvailableForSubscription"),this.hasPrimaryArtist=this.lookup("hasPrimaryArtist"),this.SUBSCRIPTION_TYPES={TRIAL:"trial",WINBACK:"winback",SUBSCRIBER:"subscriber"}},render:function(){if(this.typeOfBanner)switch(this.typeOfBanner){case"approveInPerson":this._showPermissionBanner();
break;case"requestApproval":this._showApproveMessageBanner();
case"appleMusicWinBack":this._showAppleMusicBanner()}},componentType:function(){if(this.typeOfBanner==="appleMusicWinBack")return"banner"},_showPermissionBanner:function(){var e=its.Templates.get("components/sf14_permission_banner"),t=this.storePlatform.getCachedData(this.adamId);
if(t&&t.offers[0].price===0)var n=its.loc("SF.AskToBuy.PermissionBannerText.Free.bannerLinkText");
else var n=its.loc("SF.AskToBuy.PermissionBannerText.bannerLinkText");
if(its.string.compareNumerically(its.client.version(),"8.0")>=0)var r='<button class="button-color">'+n+"</button>";
else var r='<span class="button-color">'+n+"</span>";
var i=its.sf.Platform.iPad()?its.dv14.ProductPageUtil.PinStyle.GROUP_RUBBERBAND:its.dv14.ProductPageUtil.PinStyle.RUBBERBAND;
e.replaceTokenUnescaped("bannerText",its.loc("SF.AskToBuy.PermissionBannerText",{bannerLinkText:r})),e.replaceToken("adamId",this.adamId),e.replaceToken("pinStyle",its.dv14.ProductPageUtil.PinStyle.GROUP_RUBBERBAND),e.replaceToken("dividerPinStyle",i),this.banner=e.composeAsElement(),its.sf14.Banner.banners.push(this.banner),its.sf14.Banner.banners.push(this.elementForBanner),this.elementForBanner.replaceTokenWithElement("banner",this.banner),this.subscribeToTarget("approveInPerson",this._handleApproval.bind(this),this.adamId)},_showApproveMessageBanner:function(){var e=its.Templates.get("components/sf14_approve_message_banner"),t=its.sf.Platform.iPad()?its.dv14.ProductPageUtil.PinStyle.GROUP_RUBBERBAND:its.dv14.ProductPageUtil.PinStyle.RUBBERBAND;
e.replaceToken("pinStyle",its.dv14.ProductPageUtil.PinStyle.GROUP_RUBBERBAND),e.replaceToken("dividerPinStyle",t),e.replaceTokenUnescaped("bannerText",this.message),this.elementForBanner.replaceTokenWithElement("banner",e.composeAsElement())},_showAppleMusicBanner:function(){function e(e,t){its.sf14.accountInfo.isEligibleForFreeTrial=t&&t.rawResponseData&&t.rawResponseData.music&&!t.rawResponseData.music.isNotEligibleForFreeTrial,its.sf14.accountInfo.isSubscribed=t&&t.subscribed,its.sf14.accountInfo.previousDSID=itms.DSID||null,this._presentBannerBySubscriptionStatus.call(this,its.sf14.accountInfo.isSubscribed)}its.sf14.accountInfo||(its.sf14.accountInfo={previousDSID:null,currentDSID:null,isSubscribed:!1,isEligibleForFreeTrial:!0}),its.sf14.accountInfo.currentDSID=itms.DSID||null,this.productData=this.storePlatform.getCachedData(this.adamId);
var t={service:"AppleMusic",ignoreCache:!0};
its.sf14.accountInfo.previousDSID===its.sf14.accountInfo.currentDSID?this._presentBannerBySubscriptionStatus(its.sf14.accountInfo.isSubscribed):itms.getServiceEligibility(t,e.bind(this))},_createPageDetailsMetrics:function(){var e=this.rootComponent&&this.rootComponent.pageData,t=e&&e.metricsBase||{},n=this._getSubscriptionStatusKeys(),r=this._canUseArtistNameInBanner()?"artist":"generic",i={pageBanner:{id:this.adamId,offer:n.bannerOffer||"",app:"com.apple.Music",copyType:r}};
this._addMetricsToData(i)},_createElementMetrics:function(e,t){var n=this._getSubscriptionStatusKeys(),r=n.targetId,r=t&&t.targetId?t.targetId:n.targetId,i=t&&t.actionType?t.actionType:"open",s=t&&t.targetType?t.targetType:"button",o={targetType:s,targetId:r||"",actionType:i};
its.sf.Metrics.setTargetInfo(e,r,s,i,null,null),this._addMetricsToData(o);
var u=s==="banner"?[this.productData]:[];
its.sf.Metrics.setLocationInfo(e,u,s),s==="banner"&&(e.setAttribute("data-metrics",JSON.stringify(o)),this.addImpressionsData(e))},_handleElementClicked:function(e,t){var n=its.sf.Metrics.Events.Click.clickDataFromElement(e,null,t.x,t.y);
n.impressions=e.ownerDocument?its.sf14.Metrics.Events.Impressions.processRecordedImpressions(e.ownerDocument.snapshotImpressions()).impressionsArray:[]},getSubscriptionStatusType:function(){if(its.sf14&&its.sf14.accountInfo&&its.sf14.accountInfo.isSubscribed)return this.SUBSCRIPTION_TYPES.SUBSCRIBER;
if(its.sf14&&its.sf14.accountInfo&&its.sf14.accountInfo.isEligibleForFreeTrial)return this.SUBSCRIPTION_TYPES.TRIAL;
if(its.sf14&&its.sf14.accountInfo&&!its.sf14.accountInfo.isEligibleForFreeTrial)return this.SUBSCRIPTION_TYPES.WINBACK},_presentBannerBySubscriptionStatus:function(e){if(!this.isProductDataReady)return;var t=Device&&Device.pixelRatio||1,n="NonSubscriber",r=!e&&its.sf14&&its.sf14.accountInfo&&its.sf14.accountInfo.isEligibleForFreeTrial,i=its.serverData.constants.resourceBaseUrl+"/images/music/itunes_button_start@"+t+"x.png",s="75";
e?(n="Subscriber",i=its.serverData.constants.resourceBaseUrl+"/images/music/itunes_button_listen@"+t+"x.png"):r?n+=".Trial":n+=".NoTrial";
var o=this._getFirstCopyForBanner(n,e),u=its.loc("SF.WinBack.BannerLine2."+n),a=its.loc("SF.WinBack.Button."+n);
this._isValidStorefront()&&(o="\n"+o,u=undefined,!e&&r&&(a=its.loc("SF.WinBack.Button.NonSubscriber.GetOneMonthFree"),i=null,s="151"));
var f=its.Templates.get("components/sf14_apple_music_upsell_banner"),l=its.sf.Platform.iPad()?its.dv14.ProductPageUtil.PinStyle.GROUP_RUBBERBAND:its.dv14.ProductPageUtil.PinStyle.RUBBERBAND;
if(!this.productData.uber){var c=its.Templates.get("components/sf14_apple_music_upsell_divider");
c.replaceTokenUnescaped("dividerPinStyle",l);
var h=c.composeAsElement();
f.replaceTokenWithElement("divider",h)}var p=its.Templates.get("components/sf14_apple_music_upsell_lockup");
p.replaceToken("pinStyle",its.dv14.ProductPageUtil.PinStyle.GROUP_RUBBERBAND),p.replaceToken("logoImg",its.serverData.constants.resourceBaseUrl+"/images/music/navbar_logo@"+t+"x.png"),p.replaceTokenUnescaped("bannerLine1",o);
if(u){var d=its.Templates.get("components/sf14_apple_music_upsell_bannerLine2");
d.replaceTokenUnescaped("bannerLine2",u);
var v=d.composeAsElement();
p.replaceTokenWithElement("bannerLine2",v)}var m=null;
this._isUpsellCloseButtonSupported()&&(m=this._getAppleMusicCloseButtonElement(this.productData,t),p.replaceTokenWithElement("appleMusicUpsellCloseButton",m),this._createElementMetrics(m,{targetId:"Close",actionType:"dismiss"}));
var g=this._getAppleMusicButtonElement(this.productData,a,i,s);
p.replaceTokenWithElement("appleMusicUpsellButton",g),this._updateAppleMusicBannerColors(this.productData,p,d);
var y=p.composeAsElement();
f.replaceTokenWithElement("appleMusicUpsellLockup",y),this.musicBanner=f.composeAsElement(),its.sf14.Banner.banners.push(this.musicBanner),its.sf14.Banner.banners.push(this.elementForBanner),this._createPageDetailsMetrics(),this.elementForBanner.replaceTokenWithElement("banner",this.musicBanner),this.subscribeToTarget(its.sf14.Events.SELECT,this._handleMusicLink.bind(this),y.itsId()),this.subscribeToTarget(its.sf14.Events.SELECT,this._handleMusicLink.bind(this),g.itsId()),this._createElementMetrics(g,{targetType:"button"}),this._createElementMetrics(y,{targetType:"banner"}),m&&this.subscribeToTarget(its.sf14.Events.SELECT,this._handleCloseButton.bind(this),m.itsId()),this.addImpressionsData(y)},_isValidStorefront:function(){var e=[143441,143455,143445,143446,143458,143442,143443,143449,143450,143452,143457,143469,143454,143444,143472,143460,143462,143461,143468,143565,143526,143494,143557,143518,143447,143448,143519,143520,143451,143521,143523,143453,143496,143499,143456,143524,143568,143559,143525,143580,143516,143584,143573,143585,143467,143528,143529,143497,143533,143534,143561,143562,143479,143602,143481,143605,143579,143583,143586,143587,143515,143591,143592,143484,143597,143474,143464,143486,143603,143475,143604,143566,143538,143540,143505,143541,143555,143542,143556,143503,143543,143544,143501,143495,143545,143508,143509,143506,143546,143504,143510,143512,143485,143513,143548,143551,143502],t=itms.accountInfo&&itms.accountInfo.storefront&&parseInt(itms.accountInfo.storefront),n=e.indexOf(t)>-1;
return n},_is75MStorefront:function(){var e=[143559,143565,143581,143516,143528,143624,143497,143567,143488,143484,143562,143498,143621,143479,143536,143481,143566,143571],t=itms.accountInfo&&itms.accountInfo.storefront&&parseInt(itms.accountInfo.storefront),n=e.indexOf(t)>-1;
return n},_isUpsellCloseButtonSupported:function(){return its.sf.Client.isVersion("11.4.1")},_getFirstCopyForBanner:function(e,t){if(this._canUseArtistNameInBanner())return this.artistBannerLine1;
if(this.isAvailableForSubscription){var n="SF.WinBack.BannerLine1."+e;
return!t&&this._is75MStorefront()&&(n+=".75M"),its.loc(n)}return its.loc("SF.WinBack.BannerLine1."+e+".AlbumUnavailable")},_canUseArtistNameInBanner:function(){if(!this.hasPrimaryArtist)return!1;
var e="SF.WinBack.BannerLine1.Artist";
this._is75MStorefront()&&(e+=".75M");
if(this.isAvailableForSubscription){this.artistBannerLine1=its.loc(e,{artistName:this.productData.artistName});
if(this.artistBannerLine1&&this.artistBannerLine1.length<49)return!0}return!1},_getAppleMusicButtonElement:function(e,t,n,r){var i=its.sf.Client.isVersion("13.0"),s=i?"#e14646":e.uber&&e.uber.primaryTextColor?"#"+e.uber.primaryTextColor:"#e14646";
if(its.serverData.constants.countryCode==="usa"&&its.serverData.constants.languageCode==="en"&&n){var o=its.Templates.get("components/sf14_apple_music_upsell_button_image");
return o.replaceToken("buttonImg",n),o.replaceToken("buttonWidth",r),o.composeAsElement()}var o=its.Templates.get("components/sf14_apple_music_upsell_button");
return o.replaceTokenUnescaped("buttonText",t),o.replaceToken("buttonColor",s),o.composeAsElement()},_getAppleMusicCloseButtonElement:function(e,t){var n=its.Templates.get("components/sf14_apple_music_upsell_close_button"),r=its.serverData.constants.resourceBaseUrl+"/images/music/close_button@"+t+"x.png";
e.uber&&(!this._isBackgroundLight(e.uber.backgroundColor)||e.uber.primaryTextColor==="ffffff")&&(r=its.serverData.constants.resourceBaseUrl+"/images/music/close_button_onDark@"+t+"x.png"),n.replaceToken("closeButton",r);
var i=its.sf.Client.isVersion("13.0")?"label":"#000000";
return n.replaceToken("closeButtonColor",i),n.composeAsElement()},_updateAppleMusicBannerColors:function(e,t,n){var r={bannerLine1Color:"secondarylabel",bannerLine2Color:"secondarylabel",bgColor:"systemBackground",logoColor:"label"};
if(!its.sf.Client.isVersion("13.0")){r={bannerLine1Color:"#888888",bannerLine2Color:"#007aff",bgColor:"#ffffff",logoColor:"#000000"};
if(e.uber&&e.uber.primaryTextColor&&e.uber.backgroundColor){var i="#"+e.uber.primaryTextColor,s=["000000","ffffff"];
s.indexOf(e.uber.primaryTextColor)===-1&&(i=this._isBackgroundLight(e.uber.backgroundColor)?"#000000":"#ffffff"),r={bannerLine1Color:"#"+e.uber.primaryTextColor,bannerLine2Color:"#"+e.uber.primaryTextColor,bgColor:"transparent",logoColor:i}}}t.replaceToken("bannerLine1Color",r.bannerLine1Color),t.replaceToken("bgColor",r.bgColor),t.replaceToken("logoColor",r.logoColor),n&&n.replaceToken("bannerLine2Color",r.bannerLine2Color)},_isBackgroundLight:function(e){if(!e)return!1;
var t=.18,n=this._getLuminance(e);
return n<t?!1:!0},_getLuminance:function(e){var t=new Color(e),n=[t.rgb.r/255,t.rgb.g/255,t.rgb.b/255];
for(var r=0;
r<3;
r++)n[r]<=.03928?n[r]=n[r]/12.92:n[r]=Math.pow((n[r]+.055)/1.055,2.4);
var i=.2126*n[0]+.7152*n[1]+.0722*n[2];
return i<0&&(i=0),i>1&&(i=1),i},_handleApproval:function(e){var t=getActiveDocument().getElementById("banner");
t&&t.remove(),its.notifications.publishToTarget("approveInPersonSucceded",e,this.adamId),its.notifications.unsubscribe("approveInPerson",null,null,this.adamId)},_handleCloseButton:function(e){this.musicBanner&&this.musicBanner.parentNode.removeChild(this.musicBanner);
var t={targetType:"button",targetId:"Close",actionType:"dismiss"};
this._addMetricsToData(t);
var n=e.target;
this._handleElementClicked(n,e),its.dv14.Util.Client.optOutOfWinBack()},_handleMusicLink:function(e){var t=e.target,n=t.nodeName==="lockup"?"banner":"button",r={targetType:n};
this._handleElementClicked(t,e);
var i="music://subscribe";
its.sf14.accountInfo&&its.sf14.accountInfo.isSubscribed&&(i=this.isAvailableForSubscription?this.productData.url:"musics://itunes.apple.com/browse"),i+="?itscg=10400",i+=this._canUseArtistNameInBanner()?"&itsct=alb_sub_art":"&itsct=alb_sub",openURL(i)},_getSubscriptionStatusKeys:function(){var e={trial:{bannerOffer:"trial",targetId:"StartTrial"},winback:{bannerOffer:"winback",targetId:"Renew"},subscriber:{bannerOffer:"activeSubscriber",targetId:"Listen"}},t=this.getSubscriptionStatusType(),n=Object.values(this.SUBSCRIPTION_TYPES);
return!t||n.indexOf(t)===-1?{}:e[t]},_addMetricsToData:function(e){this.rootComponent&&this.rootComponent.pageData&&this.rootComponent.pageData.additionalMetrics?Object.assign(this.rootComponent.pageData.additionalMetrics,e):this.rootComponent&&this.rootComponent.pageData&&(this.rootComponent.pageData.additionalMetrics=e)}}),its.sf14.Banner.banners=[],its.sf14.Audio=Class.createSubclass("its.sf14.Audio",its.sf14.BaseComponent,{templateName:function(){return"components/sf14_audio"},renderAsString:function(){return this.template.replaceToken("src",this.data.src),this.template.compose(this.itsId())}}),its.sf14.FullscreenImage=Class.createSubclass("its.sf14.FullscreenImage",its.sf14.Artwork,{initialize:function(){this.base.apply(this,arguments)},templateName:function(){return"components/sf14_fullscreen_image"}}),its.sf14.Video=Class.createSubclass("its.sf14.Video",its.sf14.BaseComponent,{initialize:function(){this.base.apply(this,arguments),this._contentRating=this.lookup("contentRating"),this._kind=this.lookup("kind"),this._attributes=this._attributes||{}},templateName:function(){return"components/sf14_video"},renderAsString:function(){this.template=its.Templates.get("components/sf14_video"),this._url=this.data.url||this.data.src,this.template.replaceToken("url",this._url);
var e=this.lookup("classes");
e&&this.template.replaceToken("classes",e.join(" "));
var t=this.lookup("extrasVideoBgTimeout");
t&&this.setAttribute("extrasTimeout",t);
var n=this.lookup("artworkData");
if(n){var r=this.renderComponentStringWithData("artwork",n);
this.template.replaceTokenUnescaped("posterImage",r)}return this._contentRating&&this._kind&&(this.subscribe(its.sf.ParentalRatingUtil.Events.PARENTAL_RATING_CHANGE,this._updateRestrictions.bind(this)),this._updateRestrictions()),this.data.type&&this.template.replaceToken("type",this.data.type),this.data.kind&&(this._attributes.kind=this.data.kind),this.template.replaceTokenUnescaped("attributes",its.sf14.Util.createAttributeString(this._attributes)),this._markup=this.template.compose(this.itsId()),this._markup},_updateRestrictions:function(){its.sf.ParentalRatingUtil.doesPass(this.data)?this.removeAttribute("disabled"):this.setAttribute("disabled",!0)},onElementCreated:function(){this.element.setAttribute("data-content-id",this.data.contentId),its.sf.Metrics.setTargetInfo(this.element,this.data.contentId,"mediaElement",its.sf.Metrics.ActionType.PLAY,this._url,"video")}}),its.sf14.ProductPage=Class.createSubclass("its.sf14.ProductPage",its.sf14.BaseDocument,{initialize:function(){this.base.apply(this,arguments),this.pageData=this.data.pageData,this.contentId=this.pageData&&this.pageData.id?this.pageData.id:this.data.contentId,this._pageDataUrl=this.data.url;
if(!this.contentId)throw console.log("No contentId. this:",this),"No contentId";
this.subscribe(its.sf.StorePlatform.Events.PERSONALIZED_OFFERS_AVAILABLE,this._handlePersonalizationEvent.bind(this)),this._isStoreSheet=its.isDefinedNonNull(its.App.StoreSheetData),this._sentPageAppearEventCount=0},onUnload:function(){this.base.apply(this,arguments),this._fullPageDataXhr&&this._fullPageDataXhr.abort()},isReadyForUser:function(){return this._completeStorePlatformDataFetched&&this._renderingComplete},onDidUpdate:function(){this._completeStorePlatformDataFetched&&this._renderingCompleteAfterUpdate&&(this._renderingComplete=!0,this._renderingCompleteAfterUpdate=!1),this.base()},_cachedStorePlatformData:function(){var e=this.storePlatform.getAllCachedData(this.contentId),t=null;
if(e.length){t=e[0];
for(var n in e){var r=e[n];
if(r.artwork){t=r;
break}}}return t},render:function(){return this._template=its.Templates.get(this._templateName()),this.pageElement=this._template.composeAsElement(),this.product=this._cachedStorePlatformData(),this.product?this.renderPageWithPartialData(!0):(this.loadingSpinner=its.sf14.ComponentUtil.createActivityIndicator(this,its.sf14.Util.UI.loadingText(),!1,!0),this.pageElement.replaceTokenWithElement("loadingSpinner",this.loadingSpinner)),this._fetchFullPageData(),this.pageElement},_fetchFullPageData:function(){this.pageData?this._fetchCompleteStorePlatformData():this._fullPageDataXhr=its.sf14.Util.getJSON(this._pageDataUrl,this._pageDataFetchSuccess.bind(this),this._pageDataFetchFailure.bind(this))},_pageDataFetchSuccess:function(e,t){this.setXHRMetricsData(t),this.setRefUrl(this.data.refUrl),e.storePlatformData&&this.storePlatform.cacheStorePlatformDataForProfiles(e.storePlatformData),this.data.pageData=e.pageData,this.pageData=this.data.pageData,this._fetchCompleteStorePlatformData(),e.properties&&e.properties.revNum&&its.App.setRevNum(e.properties.revNum,e.properties.timestamp)},_pageDataFetchFailure:function(e,t){this._logger.debug(["---------- _pageDataFetchFailure: Failed to fetch page data for ",this.contentId]),e.dialog&&e.dialog.explanation&&alert(e.dialog.explanation)},_fetchCompleteStorePlatformData:function(){var e={profile:this.productProfile(),artworkProfile:this.artworkProfile(),ids:[this.contentId],onOKHasAllContent:this._completeStorePlatformDataFetchSuccess.bind(this),onError:this._completeStorePlatformDataFetchFailure.bind(this)};
this.storePlatform.fetchContent([e])},_completeStorePlatformDataFetchSuccess:function(e){this.product=e[this.contentId],this._completeStorePlatformDataFetched=!0,its.notifications.publishToSender(its.sf14.ProductPage.Events.COMPLETE_DATA_FETCHED,{id:this.product.id},this),this._renderPage()},_completeStorePlatformDataFetchFailure:function(){this._logger.debug(["---------- _completeStorePlatformDataFetchFailure: Failed to fetch complete store platform data for ",this.contentId])},_renderPage:function(){this.product&&(this.loadingSpinner&&this.loadingSpinner.remove(),this.renderPageWithPartialData(),this.pageData&&this._completeStorePlatformDataFetched&&(this.renderPageWithCompleteData(),this._renderingCompleteAfterUpdate=!0,this._publishPageAppearEventIfNeeded(!1,!1,!0)))},_handlePersonalizationEvent:function(e){if(this.storePlatform==e.caller&&its.isDefined(e.data[this.contentId])){var t=its.sf.StorePlatform.calculatedProfile(its.sf.StorePlatform.Profiles.PRODUCT_DIRECT_VIEW,its.sf.StorePlatform.ArtworkProfiles.PRODUCT),n=this.storePlatform.getCachedData(this.contentId,t);
n&&(this.product=n)}},onBuyRequested:function(e){if(e.options.documentUrl==this.documentUrl()){var t=e.options.id;
this._handleAskToBuy(this.pageElement,t)}},_templateName:function(){this._logger.error(["---------- _template: Needs to be implemented by subclasses"])},renderPageWithPartialData:function(){this._logger.error(["---------- renderPageWithPartialData: Needs to be overridden in each specific product page"])},renderPageWithCompleteData:function(){this._logger.error(["---------- renderPageWitCompleteData: Needs to be overridden in each specific product page"])},productProfile:function(){return its.sf.StorePlatform.Profiles.PRODUCT_DIRECT_VIEW},artworkProfile:function(){return its.sf.StorePlatform.ArtworkProfiles.PRODUCT},restoreData:function(){return this.product?{title:this.product.name}:{}},pageState:function(){return its.sf14.ProductPage.pageState.NONE},onAppear:function(e){this._onAppearCount++;
var t=e&&e.eventInfo&&e.eventInfo.name==its.sf14.Events.ON_APP_RESUME;
this._publishPageAppearEventIfNeeded(t,!0,!1),this._document==getActiveDocument()&&this.restoreDocumentEventCallbacks(),window.storePlatform=this.storePlatform},_publishPageAppearEventIfNeeded:function(e,t,n){var r=this._sentPageAppearEventCount!=0,i=t&&this._isStoreSheet&&!r&&this.pageData&&this._completeStorePlatformDataFetched,s=n&&this._isStoreSheet&&!r&&this._onAppearCount>0,o=e&&this._document==getActiveDocument(),u=n&&!this._isStoreSheet&&this.pageData&&this._completeStorePlatformDataFetched;
if(i||s||u||o)its.notifications.publish(its.sf14.Events.PAGE_APPEAR,{pageInfo:this.pageInfo(!0),target:this._document}),this._sentPageAppearEventCount++}}),its.sf14.ProductPage.State={NONE:"its.sf14.ProductPage.State.NONE",HD:"its.sf14.ProductPage.State.HD",SD:"its.sf14.ProductPage.State.SD"},its.sf14.ProductPage.Events={COMPLETE_DATA_FETCHED:"its.sf14.ProductPage.Events.COMPLETE_DATA_FETCHED",PAGE_STATE_CHANGED:"its.sf14.ProductPage.Events.PAGE_STATE_CHANGED"},its.sf14.ProductPage.renderProductPage=function(e,t){var n=its.sf14.ProductPage.componentForKind[e.kind];
return its.sf14.BaseDocument.renderDocumentWithData(n,e,t)},its.sf14.ProductPage.componentForKind={},its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.Album]="album_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.Audiobook]="audiobook_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.EBook]="ebook_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.EBookApple]="ebook_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.EBookMeta]="ebook_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.EBookTextbook]="ebook_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.MacApp]="mac_app_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.Mix]="mix_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.MobileApp]="software_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.MobileAppBundle]="software_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.Movie]="movie_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.MovieBundle]="movie_bundle_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.MusicVideo]="music_video_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.Podcast]="podcast_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.PodcastEpisode]="podcast_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.Ringtone]="album_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.RingtoneAlbum]="album_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.ShortFilm]="movie_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.Song]="album_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.TheyMix]="theymix_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.Tone]="album_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.ToneAlbum]="album_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.TvEpisode]=its.sf.Platform.iPhone()?"tv_episode_page":"tv_season_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.TvSeason]="tv_season_page",its.sf14.ProductPage.componentForKind[its.sf.StorePlatform.Kind.Work]="album_page",its.sf14.ProductPage.kindForComponent={},its.sf14.ProductPage.kindForComponent.album_page=its.sf.StorePlatform.Kind.Album,its.sf14.ProductPage.kindForComponent.audiobook_page=its.sf.StorePlatform.Kind.Audiobook,its.sf14.ProductPage.kindForComponent.ebook_page=its.sf.StorePlatform.Kind.EBook,its.sf14.ProductPage.kindForComponent.mac_app_page=its.sf.StorePlatform.Kind.MacApp,its.sf14.ProductPage.kindForComponent.mix_page=its.sf.StorePlatform.Kind.Mix,its.sf14.ProductPage.kindForComponent.software_page=its.sf.StorePlatform.Kind.MobileApp,its.sf14.ProductPage.kindForComponent.movie_page=its.sf.StorePlatform.Kind.Movie,its.sf14.ProductPage.kindForComponent.movie_bundle_page=its.sf.StorePlatform.Kind.MovieBundle,its.sf14.ProductPage.kindForComponent.music_video_page=its.sf.StorePlatform.Kind.MusicVideo,its.sf14.ProductPage.kindForComponent.podcast_page=its.sf.StorePlatform.Kind.Podcast,its.sf14.ProductPage.kindForComponent.theymix_page=its.sf.StorePlatform.Kind.TheyMix,its.sf14.ProductPage.kindForComponent.tv_episode_page=its.sf.StorePlatform.Kind.TvEpisode,its.sf14.ProductPage.kindForComponent.tv_season_page=its.sf.StorePlatform.Kind.TvSeason